(function(n,G,H){function I(){}function K(c){return c!==H}function A(c){return c===H}function la(c){return C.slice.call(c||[])}function P(c,b){return xa.hasOwnProperty.call(c,b)}function L(c,b){return parseInt(c,b||10)}function ya(c,b){if(!c||!c.call)throw T("Callback is not callable"+(b?" from: "+b:""));return!0}function Rb(c){return s.floor(s.random()*(c||1E3))}function E(c){if(A(c))return"undefined";if(null===c)return"null";if(K(c.constructor))switch(c.constructor){case f:if("number"===typeof c.length){if(c.callee)return"arguments";
if(c.item)return"collection"}return"object";case Z:return"array";case cb:return isFinite(c)?"number":!1;case Q:return"date";default:if(c&&K(c._classID))return"instance";if(c&&K(c.nodeName))return"element";if(c&&K(c.helpers))return"class"}return typeof c}function db(c,b){b=b||{};for(var d in b)b[d]&&P(b,d)&&(c[d]=b[d]);return c}function ma(c){var b;switch(E(c)){case "object":b={};for(var d in c)K(c[d])&&(b[d]=ma(c[d])||c[d]);break;case "array":b=[];d=0;for(var e=c.length;d<e;d++)b[d]=ma(c[d]);break;
default:return c}return b}function wb(c){if(A(c)||null===c)return!0;var b=E(c);switch(b){case "array":case "string":return 0<c.length?!1:!0;case "number":return!1;default:return b?!1:!0}}function va(){for(var c={},b=0,d=arguments.length;b<d;b++){var e=arguments[b];if("object"===E(e))for(var u in e)if(K(e[u])&&P(e,u)){var k=e[u],a=c[u];c[u]="object"===E(k)&&"object"===E(a)?va(a,k):ma(k)}}return c}function ga(c){return c.toLowerCase()}function oa(c){return c.toUpperCase()}function Sb(c,b,d){switch(E(b)){case "object":return f.contains(c,
b,d||!1);case "array":case "string":return-1<b.indexOf(c)}return!0}function Tb(c){var b=E(c);return b?-1===["array","arguments"].indexOf(b)?[c]:c:[]}function Ub(c,b,d,e,u){c=c||0;d=d||{};u=u||!1;e="array"!==E(e)?[e]:e;var k="string"===E(b)?d[b]:b,a,Aa;ya(a);a=function(){k.apply(d,e)};Aa=u?Ta(a,c):Ua(a,c);return{interval:u?c:0,cancel:function(){this.interval?xb(Aa):Ba(Aa)}}}function yb(){var c=arguments,b=0,d=function(c,e,b,d){b||(b=" ");e=c.length>=e?"":Z(1+e-c.length>>>0).join(b);return d?c+e:e+
c},e=function(c,e,b,u,a,l){var g=u-c.length;0<g&&(c=b||!a?d(c,u,l,b):c.slice(0,e.length)+d("",g,"0",!0)+c.slice(e.length));return c},u=function(c,b,u,a,r,l,g){c>>>=0;u=u&&c&&{2:"0b",8:"0",16:"0x"}[b]||"";c=u+d(c.toString(b),l||0,"0",!1);return e(c,u,a,r,g)};return c[b++].replace(/%%|%(\d+\$)?([-+\'#0 ]*)(\*\d+\$|\*|\d+)?(\.(\*\d+\$|\*|\d+))?([scboxXuideEfFgG])/g,function(k,a,Aa,f,r,l,g){var h,q;if("%%"===k)return"%";var m=!1;q="";var x=r=!1;h=" ";for(var Va=Aa.length,J=0;Aa&&J<Va;J++)switch(Aa.charAt(J)){case " ":q=
" ";break;case "+":q="+";break;case "-":m=!0;break;case "'":h=Aa.charAt(J+1);break;case "0":r=!0;break;case "#":x=!0}f=f?"*"===f?+c[b++]:"*"===f.charAt(0)?+c[f.slice(1,-1)]:+f:0;0>f&&(f=-f,m=!0);if(!isFinite(f))throw T("Minimum width must be finite");l=l?"*"===l?+c[b++]:"*"===l.charAt(0)?+c[l.slice(1,-1)]:+l:-1<"fFeE".indexOf(g)?6:"d"===g?0:H;a=a?c[a.slice(0,-1)]:c[b++];switch(g){case "s":return g=D(a),l&&(g=g.slice(0,l)),e(g,"",m,f,r,h);case "c":return g=pa(+a),l&&(g=g.slice(0,l)),e(g,"",m,f,r,void 0);
case "b":return u(a,2,x,m,f,l,r);case "o":return u(a,8,x,m,f,l,r);case "x":return u(a,16,x,m,f,l,r);case "X":return oa(u(a,16,x,m,f,l,r));case "u":return u(a,10,x,m,f,l,r);case "i":case "d":return h=+a||0,h=s.round(h-h%1),k=0>h?"-":q,a=k+d(D(s.abs(h)),l,"0",!1),e(a,k,m,f,r);case "e":case "E":case "f":case "F":case "g":case "G":return h=+a,k=0>h?"-":q,q=["toExponential","toFixed","toPrecision"]["efg".indexOf(ga(g))],g=["toString","toUpperCase"]["eEfFgG".indexOf(g)%2],a=k+s.abs(h)[q](l),e(a,k,m,f,r)[g]();
default:return k}})}function zb(){var c=[],b;for(b in n)n[b]&&P(n,b)&&"_FirebugCommandLine"!==b&&0!==b.indexOf("moz")&&"constructor"!==b&&c.push(b);return c}function Ab(c,b,d){c=c.split(".");var e=b;for(b=0;b<c.length;b++)A(e[c[b]])&&(e[c[b]]=d&&b===c.length-1?d():{}),e=e[c[b]];return c[0]}function a(c,b,d){c&&c.__defineGetter__(b,d)}function z(c,b,d){c&&c.__defineSetter__(b,d)}function Bb(){return G.createDocumentFragment()}function V(c){return G.createElement(c||"div")}function La(c){return G.createTextNode(c||
"")}function Cb(c){var b=V().addClass("window");c&&(eb.original?eb.original.call(b,"id",c):b.setAttribute("id",c));b.store("type","window");b.frozen=!0;b.wantsFocus=!0;return b}function Ca(c,b){return n.getComputedStyle(c,b||null)}function Wa(c,b){if(!A(b)&&c){b=b.hyphenate();var d=Ca(c).getPropertyValue(b);if(d)return d;d=c.style[b];switch(d){case "inherit":if(d=c.parentNode){for(;d&&(!d.style||!d.style[b]);){if(d===ja)return;d=d.parentNode}return d&&d.style&&d.style[b]}break;case "auto":break;default:return d}}}
function eb(c,b,d){c.setAttribute(b,d)}function kb(c,b){c=c||"";b=b||lb;var d;Ma.test(c)?(d=V("link"),d.type="text/css",d.rel="stylesheet",d.href=c):(d=V("style"),d.type="text/css",d.rel="stylesheet",d.styleSheet?d.styleSheet.cssText=c:d.appendChild(La(c)));b.appendChild(d);return d}function Vb(c,b,d){var e=V("script");e.type="text/javascript";e.charset="utf-8";e.src=c;b&&b.call&&(e.onreadystatechange=function(){"complete"===this.readyState&&b()},e.onload=b);d&&d.call&&(e.onerror=d);return lb.appendChild(e)}
function Wb(c,b){c=c||"";return Na(b?"<"+c+"(?!\\w)[^>]*>([\\s\\S]*?)</"+c+"(?!\\w)>":"</?"+c+"([^>]+)?>","gi")}function sa(c,b,d,e){return new fb(c,{detail:b||null,bubbles:!0===d,cancelable:!0===e})}function Db(c){c=(c||"leftTop").dasherize().split("-")||[];1<=c.length&&(1===c.length?"justify"===c[0]?c[1]=null:"center"===c[0]&&(c[1]="middle"):"center"===c[1]?c[1]="middle":"left"===c[1]&&(c[1]=null),"top"===c[0]&&(c[0]=null));return c}function mb(c,b){var d={},e=G.getElementById("textrenderer");if(e){var u=
c.style;e.setStyles({whiteSpace:c.wrap?"normal":"nowrap",fontSize:u.fontSize||null,fontWeight:u.fontWeight||null});e.innerHTML=c.data||c.html;d.width=b||c.wrap&&e.clientWidth>c.parentNode.width?e.width=c.parentNode.width:e.clientWidth;d.height=e.clientHeight;e.innerHTML="";e.width=null;e.removeAttribute("style")}return d}function Eb(c){var b=Ca(c).getPropertyValue("line-height");return"normal"!==b&&b?L(b):L(Ca(c).getPropertyValue("font-size")||c.parentNode&&c.parentNode.style.fontSize||c.style.fontSize||
24)*nb}function Xb(c,b,d,e){this.x=c;this.y=b;this.z=d;this.w=e}var Fb=+new Date,Yb=G.getElementsByTagName("html")[0],lb=G.head||G.getElementsByTagName("head")[0],ja,ob,Oa=G.implementation,pb=n.location,qb=n.navigator,ea=n.console,Ha=n.md5,Xa=n.Image,f=Object,Z=Array,Da=Function,cb=Number,Gb=Boolean,Q=Date,D=String,s=Math,Na=RegExp,T=Error,gb=n.btoa,rb=n.atob,C=Z.prototype,R=Da.prototype,N=D.prototype,xa=f.prototype,Zb=Q.prototype,Hb=xa.toString,za=new TypeError,sb=Da("return delete this"),Ua=n.setTimeout,
Ba=n.clearTimeout,Ta=n.setInterval,xb=n.clearInterval,pa=D.fromCharCode,Ea=n.XMLHttpRequest||n.ActiveXObject&&n.ActiveXObject("Microsoft.XMLHTTP"),X=n.JSON,fb=n.CustomEvent,Ib={parse:function(c){if("string"===typeof c){if(n.DOMParser)return(new n.DOMParser).parseFromString(c,"text/xml");if(n.ActiveXObject){var b=new n.ActiveXObject("Microsoft.XMLDOM");b.async=!1;return b.loadXML(c)}throw T("DOMParser not supported");}return c||H}},Pa="jsonip cdn image proxy connect event".split(" "),ta=D("metrological"),
Ma=Na("^(https?:)?//"),Ya=/(?:\/\*(?:[\s\S]*?)\*\/)|(?:[\s]+\/\/(?:.*)$)/gm,tb=/[^.]\s*include\s*\(\s*["']([^'"\s]+)["']\s*\)/g,Za=1920,$a=1080,nb=1.3,Jb=D('html,body{overflow:hidden;height:100%}body{margin:0;padding:0;font:12px/18px "Lucida Grande","Lucida Sans Unicode",Helvetica,Arial,Verdana,sans-serif;background-color:transparent;line-height:1}[tabindex]{outline:0;}img:not([src]),img[src=""]{display:none}.frame,.text,.view,.dialog,.window,video,audio{position:absolute;overflow:hidden;}.frame,.view,.dialog,.window,video,audio{top:0;left:0}.window,video{width:'+
Za+";height:"+$a+"}.list{margin:0;padding:0;list-style:none;overflow:hidden}.item{display:inline-block;position:relative;overflow:hidden}.image{position:absolute}.frame,.text,.list,.item,.image{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}.text{font-size:22px;white-space:nowrap;line-height:"+100*nb+"%;color:white;min-height:"+nb+'em}.text:before{content:"";display:inline-block;height:100%;vertical-align:middle}.innerText{display:inline-block;width:inherit;vertical-align:top;cursor:default}.frozen,audio{display:none}.frozenText{clip:rect(0px,0px,0px,0px)}.skin{width:100%;height:100%}.innerText[contenteditable="true"]{cursor:auto}#textrenderer{display:block;left:0;top:0;visibility:hidden;overflow:visible}a:link{color:inherit;text-decoration:none}p{line-height:inherit}.noBorderBox{-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box}'),
Kb=D("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789"),Lb=D("data:image/gif;base64,R0lGODlhAQABAIABAP///wAAACwAAAAAAQABAAACAkQBADs="),$b=D("data:image/gif;base64,R0lGODlhAQABAIABAP///wAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="),Mb=D("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAQAAAAngNWGAAAAGUlEQVQoz2NQacCEDNjAqEI6KxwNiUGqEAAeh4AhmRJYkwAAAABJRU5ErkJggg=="),ba=n.MAE,qa=ba.locale||Yb.lang||"en-EU",ha=!1,ua=!1,hb="transform",ia=1,W=1,ab="mousemove",ib="mouseout",na=I,bb=I,Ia=
I;(function(){if(!K(n.MAF)){n.MAF={name:"Metrological Application Framework",version:"3.0.0"};A(ba.scripts)&&(ba.scripts="lib");kb(Jb);Jb=H;kb("//"+Pa[1]+"."+ta+".com/css/font-awesome.min.css?v=3.2.1");var c="concat"===ba.console;Pa[1]+="-sdk";ba.perf&&(Ia=function(b,d){var e=["perf",Q.now()-Fb,Q.now()-b,d],e=c?[e.join(" ")]:e;ea.log.apply(ea,e)});na=function(){var b=c?[la(arguments).join(" ")]:arguments;ea.warn.apply(ea,b)};bb=function(){var b=c?[la(arguments).join(" ")]:arguments;ea.error.apply(ea,
b)}}})();(function(){function c(){if(!0!==f.defineProperty({},"x",{get:function(){return!0}}).x)throw za;return!0}try{c()&&!xa.__defineGetter__&&(f.defineProperty(xa,"__defineGetter__",{enumerable:!1,configurable:!0,value:function(c,e){f.defineProperty(this,c,{get:e,enumerable:!0,configurable:!0})}}),f.defineProperty(xa,"__defineSetter__",{enumerable:!1,configurable:!0,value:function(c,e){f.defineProperty(this,c,{set:e,enumerable:!0,configurable:!0})}}))}catch(b){if(xa.__defineGetter__)f.defineProperty=
function(c,e,b){"value"in b?c[e]=b.value:("get"in b&&a(c,e,b.get),"set"in b&&z(c,e,b.set))};else throw T("Object.defineProperty is minimum required");}try{Oa&&Oa.hasFeature.call&&Oa.hasFeature("Events.MouseEnter","3.0")&&(ab="mouseenter"),Oa&&Oa.hasFeature.call&&Oa.hasFeature("Events.MouseLeave","3.0")&&(ib="mouseleave")}catch(d){}A(n.getComputedStyle)&&(n.getComputedStyle=function(c,e){this.el=c;this.getPropertyValue=function(e){var b=/(\-([a-z]){1})/g;"float"==e&&(e="styleFloat");b.test(e)&&(e=
e.replace(b,function(c,e,b){return oa(b)}));return c.currentStyle&&c.currentStyle[e]?c.currentStyle[e]:null};return this});if(A(Ea))throw T("XMLHttpRequest not supported");if(!1==="1">=0)throw T('Type check is not correctly implemented ("1" >= 0)');if(A(Ib.parse('<?xml version="1.0" encoding="UTF-8"?><root></root>')))throw T("DOMParser is not working correctly");if(A(ea)){ea=n.console={};var e=n.alert||I;ea.log=ea.warn=ea.debug=ea.error=ea.info=function(){try{e(la(arguments).join(" "))}catch(c){}};
ea.assert=ea.dir=I}})();var jb=n.WebKitCSSMatrix||function(){function c(){var c=la(arguments);if(1<c.length)for(var b=c.length;b--;)s.abs(c[b])<d&&(c[b]=0);this.setIdentity();if(16==c.length)this.m11=this.a=c[0],this.m12=this.b=c[1],this.m13=c[2],this.m14=c[3],this.m21=this.c=c[4],this.m22=this.d=c[5],this.m23=c[6],this.m24=c[7],this.m31=c[8],this.m32=c[9],this.m33=c[10],this.m34=c[11],this.m41=this.e=c[12],this.m42=this.f=c[13],this.m43=c[14],this.m44=c[15];else if(6==c.length)this.affine=!0,this.m11=
this.a=c[0],this.m12=this.b=c[1],this.m41=this.e=c[4],this.m21=this.c=c[2],this.m22=this.d=c[3],this.m41=this.f=c[5];else if(1===c.length&&"string"===typeof c[0]&&0<c[0].length)this.setMatrixValue(c[0]);else if(0<c.length)throw new TypeError("Invalid Matrix Value");}function b(e,b){return new c(b.m11*e.m11+b.m12*e.m21+b.m13*e.m31+b.m14*e.m41,b.m11*e.m12+b.m12*e.m22+b.m13*e.m32+b.m14*e.m42,b.m11*e.m13+b.m12*e.m23+b.m13*e.m33+b.m14*e.m43,b.m11*e.m14+b.m12*e.m24+b.m13*e.m34+b.m14*e.m44,b.m21*e.m11+b.m22*
e.m21+b.m23*e.m31+b.m24*e.m41,b.m21*e.m12+b.m22*e.m22+b.m23*e.m32+b.m24*e.m42,b.m21*e.m13+b.m22*e.m23+b.m23*e.m33+b.m24*e.m43,b.m21*e.m14+b.m22*e.m24+b.m23*e.m34+b.m24*e.m44,b.m31*e.m11+b.m32*e.m21+b.m33*e.m31+b.m34*e.m41,b.m31*e.m12+b.m32*e.m22+b.m33*e.m32+b.m34*e.m42,b.m31*e.m13+b.m32*e.m23+b.m33*e.m33+b.m34*e.m43,b.m31*e.m14+b.m32*e.m24+b.m33*e.m34+b.m34*e.m44,b.m41*e.m11+b.m42*e.m21+b.m43*e.m31+b.m44*e.m41,b.m41*e.m12+b.m42*e.m22+b.m43*e.m32+b.m44*e.m42,b.m41*e.m13+b.m42*e.m23+b.m43*e.m33+b.m44*
e.m43,b.m41*e.m14+b.m42*e.m24+b.m43*e.m34+b.m44*e.m44)}var d=1E-6;c.prototype={constructor:c,setMatrixValue:function(c){var b,d=[],a=/^matrix3d\((.*)\)/;c=D(c).trim();this.setIdentity();if(/^none$/.test(c))return this;d=c.replace(/^.*\((.*)\)$/g,"$1").split(/\s*,\s*/);for(b=d.length;b--;)d[b]=parseFloat(d[b]);if(/^matrix\((.*)\)/.test(c)&&6===d.length)this.affine=!0,this.m11=this.a=d[0],this.m12=this.b=d[2],this.m41=this.e=d[4],this.m21=this.c=d[1],this.m22=this.d=d[3],this.m42=this.f=d[5];else if(a.test(c)&&
16===d.length)this.m11=this.a=d[0],this.m12=this.b=d[1],this.m13=d[2],this.m14=d[3],this.m21=this.c=d[4],this.m22=this.d=d[5],this.m23=d[6],this.m24=d[7],this.m31=d[8],this.m32=d[9],this.m33=d[10],this.m34=d[11],this.m41=this.e=d[12],this.m42=this.f=d[13],this.m43=d[14],this.m44=d[15];else if(0<c.length)throw new TypeError("Invalid Matrix Value");return this},multiply:function(c){return b(this,c)},inverse:function(){throw Error("inverse() method is not implemented (yet).");},translate:function(e,
d,a){a=a||0;var w=new c;w.m41=w.e=e;w.m42=w.f=d;w.m43=a;return b(this,w)},scale:function(e,d,a){d=d||e||0;a=a||0;var w=new c;w.m11=w.a=e;w.m22=w.d=d;w.m33=a;return b(this,w)},rotate:function(e,d,a){var w=d||e||0;d=e||0;a=e*(s.PI/180);w*=s.PI/180;d*=s.PI/180;e=s.cos(a);a=-s.sin(a);var f=s.cos(w),w=-s.sin(w),n=s.cos(d);d=-s.sin(d);var r=new c;r.m11=r.a=f*n;r.m12=r.b=-f*d;r.m13=w;r.m21=r.c=a*w*n+e*d;r.m22=r.d=e*n-a*w*d;r.m23=-a*f;r.m31=a*d-e*w*n;r.m32=a*n+e*w*d;r.m33=e*f;return b(this,r)},rotateAxisAngle:function(e,
d,a,w){a=e;d=d||e||0;e=e||0;var f;f=w*(s.PI/360);w=s.sin(f);f=s.cos(f);var n=w*w,r=s.sqrt(a*a+d*d+e*e);0===r?(d=a=0,e=1):(a/=r,d/=r,e/=r);var r=a*a,l=d*d,g=e*e,h=new c;h.m11=h.a=1-2*(l+g)*n;h.m12=h.b=2*(a*d*n+e*w*f);h.m13=2*(a*e*n-d*w*f);h.m21=h.c=2*(d*a*n-e*w*f);h.m22=h.d=1-2*(g+r)*n;h.m23=2*(d*e*n+a*w*f);h.m31=2*(e*a*n+d*w*f);h.m32=2*(e*d*n-a*w*f);h.m33=1-2*(r+l)*n;h.m14=h.m24=h.m34=0;h.m41=h.e=h.m42=h.f=h.m43=0;h.m44=1;return b(this,h)},skewX:function(d){d*=s.PI/180;var a=new c;a.m21=a.c=s.tan(d);
return b(this,a)},skewY:function(d){d*=s.PI/180;var a=new c;a.m12=a.b=s.tan(d);return b(this,a)},toString:function(){return this.affine?"matrix("+[this.a,this.b,this.c,this.d,this.e,this.f].join(", ")+")":"matrix3d("+[this.m11,this.m12,this.m13,this.m14,this.m21,this.m22,this.m23,this.m24,this.m31,this.m32,this.m33,this.m34,this.m41,this.m42,this.m43,this.m44].join(", ")+")"},setIdentity:function(){this.m11=this.a=1;this.m21=this.c=this.m14=this.m13=this.m12=this.b=0;this.m22=this.d=1;this.m32=this.m31=
this.m24=this.m23=0;this.m33=1;this.m43=this.m42=this.f=this.m41=this.e=this.m34=0;this.m44=1;return this},transform:function(c){var b=this.m21*c.x+this.m22*c.y+this.m23*c.z+this.m24*c.w,d=this.m31*c.x+this.m32*c.y+this.m33*c.z+this.m34*c.w,a=this.m41*c.x+this.m42*c.y+this.m43*c.z+this.m44*c.w;c.x=(this.m11*c.x+this.m12*c.y+this.m13*c.z+this.m14*c.w)/a;c.y=b/a;c.z=d/a;return c},toFullString:function(){return[[this.m11,this.m12,this.m13,this.m14].join(", "),[this.m21,this.m22,this.m23,this.m24].join(", "),
[this.m31,this.m32,this.m33,this.m34].join(", "),[this.m41,this.m42,this.m43,this.m44].join(", ")].join("\n")}};return c}();(function(){var c=Kb+"+/=";A(gb)&&(gb=function(b){for(var d,e,a,k,w,f,n=0,r=b.length,l=s.max,g="";n<r;){d=b.charCodeAt(n++)||0;e=b.charCodeAt(n++)||0;f=b.charCodeAt(n++)||0;if(255<l(d,e,f))throw T("Invalid character");a=d>>2&63;d=(d&3)<<4|e>>4&15;k=(e&15)<<2|f>>6&3;w=f&63;e?f||(w=64):k=w=64;g+=c.charAt(a)+c.charAt(d)+c.charAt(k)+c.charAt(w)}return g});A(rb)&&(rb=function(b){b=
b.replace(/=+$/,"");var d,e,a,k,f=0,n=b.length,s=[];if(1===n%4)throw T("Invalid character");for(;f<n;)d=c.indexOf(b.charAt(f++)),e=c.indexOf(b.charAt(f++)),a=c.indexOf(b.charAt(f++)),k=c.indexOf(b.charAt(f++)),d=(d&63)<<2|e>>4&3,e=(e&15)<<4|a>>2&15,a=(a&3)<<6|k&63,s.push(pa(d)),e&&s.push(pa(e)),a&&s.push(pa(a));return s.join("")})})();(function(){if(A(Ha)){var c=function(c,b){return c+b&4294967295},b=function(b,d,a,e,q,m){d=c(c(d,b),c(e,m));return c(d<<q|d>>>32-q,a)},d=function(c,d,a,e,q,m,x){return b(d&
a|~d&e,c,d,q,m,x)},e=function(c,d,a,e,q,m,x){return b(d&e|a&~e,c,d,q,m,x)},a=function(c,d,a,e,q,m,x){return b(a^(d|~e),c,d,q,m,x)},k=function(k,l){var g=k[0],h=k[1],q=k[2],m=k[3],g=d(g,h,q,m,l[0],7,-680876936),m=d(m,g,h,q,l[1],12,-389564586),q=d(q,m,g,h,l[2],17,606105819),h=d(h,q,m,g,l[3],22,-1044525330),g=d(g,h,q,m,l[4],7,-176418897),m=d(m,g,h,q,l[5],12,1200080426),q=d(q,m,g,h,l[6],17,-1473231341),h=d(h,q,m,g,l[7],22,-45705983),g=d(g,h,q,m,l[8],7,1770035416),m=d(m,g,h,q,l[9],12,-1958414417),q=d(q,
m,g,h,l[10],17,-42063),h=d(h,q,m,g,l[11],22,-1990404162),g=d(g,h,q,m,l[12],7,1804603682),m=d(m,g,h,q,l[13],12,-40341101),q=d(q,m,g,h,l[14],17,-1502002290),h=d(h,q,m,g,l[15],22,1236535329),g=e(g,h,q,m,l[1],5,-165796510),m=e(m,g,h,q,l[6],9,-1069501632),q=e(q,m,g,h,l[11],14,643717713),h=e(h,q,m,g,l[0],20,-373897302),g=e(g,h,q,m,l[5],5,-701558691),m=e(m,g,h,q,l[10],9,38016083),q=e(q,m,g,h,l[15],14,-660478335),h=e(h,q,m,g,l[4],20,-405537848),g=e(g,h,q,m,l[9],5,568446438),m=e(m,g,h,q,l[14],9,-1019803690),
q=e(q,m,g,h,l[3],14,-187363961),h=e(h,q,m,g,l[8],20,1163531501),g=e(g,h,q,m,l[13],5,-1444681467),m=e(m,g,h,q,l[2],9,-51403784),q=e(q,m,g,h,l[7],14,1735328473),h=e(h,q,m,g,l[12],20,-1926607734),g=b(h^q^m,g,h,l[5],4,-378558),m=b(g^h^q,m,g,l[8],11,-2022574463),q=b(m^g^h,q,m,l[11],16,1839030562),h=b(q^m^g,h,q,l[14],23,-35309556),g=b(h^q^m,g,h,l[1],4,-1530992060),m=b(g^h^q,m,g,l[4],11,1272893353),q=b(m^g^h,q,m,l[7],16,-155497632),h=b(q^m^g,h,q,l[10],23,-1094730640),g=b(h^q^m,g,h,l[13],4,681279174),m=b(g^
h^q,m,g,l[0],11,-358537222),q=b(m^g^h,q,m,l[3],16,-722521979),h=b(q^m^g,h,q,l[6],23,76029189),g=b(h^q^m,g,h,l[9],4,-640364487),m=b(g^h^q,m,g,l[12],11,-421815835),q=b(m^g^h,q,m,l[15],16,530742520),h=b(q^m^g,h,q,l[2],23,-995338651),g=a(g,h,q,m,l[0],6,-198630844),m=a(m,g,h,q,l[7],10,1126891415),q=a(q,m,g,h,l[14],15,-1416354905),h=a(h,q,m,g,l[5],21,-57434055),g=a(g,h,q,m,l[12],6,1700485571),m=a(m,g,h,q,l[3],10,-1894986606),q=a(q,m,g,h,l[10],15,-1051523),h=a(h,q,m,g,l[1],21,-2054922799),g=a(g,h,q,m,l[8],
6,1873313359),m=a(m,g,h,q,l[15],10,-30611744),q=a(q,m,g,h,l[6],15,-1560198380),h=a(h,q,m,g,l[13],21,1309151649),g=a(g,h,q,m,l[4],6,-145523070),m=a(m,g,h,q,l[11],10,-1120210379),q=a(q,m,g,h,l[2],15,718787259),h=a(h,q,m,g,l[9],21,-343485551);k[0]=c(g,k[0]);k[1]=c(h,k[1]);k[2]=c(q,k[2]);k[3]=c(m,k[3])},f=function(c){var b=c.length,d=[1732584193,-271733879,-1732584194,271733878],a,e,m;for(a=64;a<=b;a+=64){m=d;e=c.substring(a-64,a);for(var x=[],u=void 0,u=0;64>u;u+=4)x[u>>2]=e.charCodeAt(u)+(e.charCodeAt(u+
1)<<8)+(e.charCodeAt(u+2)<<16)+(e.charCodeAt(u+3)<<24);k(m,x)}c=c.substring(a-64);e=c.length;m=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(a=0;a<e;a+=1)m[a>>2]|=c.charCodeAt(a)<<(a%4<<3);m[a>>2]|=128<<(a%4<<3);if(55<a)for(k(d,m),a=0;16>a;a+=1)m[a]=0;b=(8*b).toString(16).match(/(.*?)(.{0,8})$/);c=L(b[2],16);b=L(b[1],16)||0;m[14]=c;m[15]=b;k(d,m);return d},n="0123456789abcdef".split(""),s=function(c){var b;for(b=0;b<c.length;b+=1){for(var d=c,a=b,e=c[b],m="",k=void 0,k=0;4>k;k+=1)m+=n[e>>8*k+4&15]+n[e>>8*
k&15];d[a]=m}return c.join("")};"b48ce274efe63bc264a6e101f867da83"!==s(f(ta))&&(c=function(c,b){var d=(c&65535)+(b&65535);return(c>>16)+(b>>16)+(d>>16)<<16|d&65535});Ha=function(c){return s(f(c))}}})();(function(){try{sa(ta)}catch(c){fb=H}A(fb)&&(fb=function(c,b){var a;try{a=G.createEvent("CustomEvent")}catch(k){}if(!a)try{a=G.createEvent("Event")}catch(f){}if(!a)try{a=G.createEvent("HTMLEvent")}catch(n){}b=b||{};b.detail=b.detail||null;b.bubbles=!0===b.bubbles;b.catchable=!0===b.catchable;if(a&&
a.initCustomEvent)a.initCustomEvent(c,b.bubbles,b.catchable,b.detail);else if(a&&a.initEvent)a.initEvent(c,b.bubbles,b.catchable),a.detail=b.detail;else throw T("No CustomEvent support");return a});var b=function(c){"object"!==E(c.detail)&&na("Event implementation is incorrect");n.removeEventListener(ta,b)};n.addEventListener(ta,b);G.dispatchEvent(sa(ta,{},!0))})();(function(){function c(c){return 10>c?"0"+c:c}function b(c){f.lastIndex=0;return f.test(c)?'"'+c.replace(f,function(c){var b=z[c];return"string"===
E(b)?b:"\\u"+("0000"+c.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+c+'"'}function d(c,a){var e,h,q,m,x=k,f,J=a[c];J&&"object"===E(J)&&"function"===E(J.toJSON)&&(J=J.toJSON(c));"function"===E(s)&&(J=s.call(a,c,J));switch(typeof J){case "string":return b(J);case "number":return isFinite(J)?D(J):"null";case "boolean":case "null":return D(J);case "object":if(!J)return"null";k+=w;f=[];if("[object Array]"===Hb.call(J)){m=J.length;for(e=0;e<m;e+=1)f[e]=d(e,J)||"null";q=0===f.length?"[]":k?"[\n"+k+f.join(",\n"+
k)+"\n"+x+"]":"["+f.join(",")+"]";k=x;return q}if(s&&"object"===typeof s)for(m=s.length,e=0;e<m;e+=1)"string"===typeof s[e]&&(h=s[e],(q=d(h,J))&&f.push(b(h)+(k?": ":":")+q));else for(h in J)P(J,h)&&(q=d(h,J))&&f.push(b(h)+(k?": ":":")+q);q=0===f.length?"{}":k?"{\n"+k+f.join(",\n"+k)+"\n"+x+"}":"{"+f.join(",")+"}";k=x;return q}}A(X)&&(X=n.JSON={});"function"!==E(Zb.toJSON)&&(dataProto.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+c(this.getUTCMonth()+1)+"-"+c(this.getUTCDate())+
"T"+c(this.getUTCHours())+":"+c(this.getUTCMinutes())+":"+c(this.getUTCSeconds())+"Z":null},N.toJSON=cb.prototype.toJSON=Gb.prototype.toJSON=function(){return this.valueOf()});var a=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,f=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,k,w,s,z={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};
"function"!==E(X.stringify)&&(X.stringify=function(c,b,a){var e;w=k="";if("number"===E(a))for(e=0;e<a;e+=1)w+=" ";else"string"===E(a)&&(w=a);if((s=b)&&"function"!==E(b)&&("object"!==E(b)||"number"!==E(b.length)))throw T("JSON.stringify");return d("",{"":c})});"function"!==E(X.parse)&&(X.parse=function(c,b){function d(c,a){var e,k=c[a];k&&"object"===E(k)&&P(k,void 0)&&(e=d(k,void 0),K(e)?k[void 0]=e:delete k[void 0]);return b.call(c,a,k)}var k;c=D(c);a.lastIndex=0;a.test(c)&&(c=c.replace(a,function(c){return"\\u"+
("0000"+c.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(c.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return k=Da("return ("+c+")").call(null),"function"===E(b)?d({"":k},""):k;throw T("JSON.parse");})})();(function(){C.forEach||(C.forEach=function(c,b){var d=0;if(A(this))throw za;var a=f(this),u=a.length>>>0;for(ya(c);d<u;)d in a&&P(a,d)&&c.call(b,a[d],d,a),
d++});C.each||f.defineProperty(C,"each",{enumerable:!1,configurable:!1,writable:!1,value:function(c,b){var a=0;if(A(this))throw za;var e=f(this),u=e.length>>>0;for(ya(c);a<u&&!(a in e&&P(e,a)&&!1===c.call(b,e[a],a,e));)a++}});C.unique||f.defineProperty(C,"unique",{enumerable:!1,configurable:!1,writable:!1,value:function(){return this.filter(function(c,b,a){return a.indexOf(c)===b})}});C.merge||f.defineProperty(C,"merge",{enumerable:!1,configurable:!1,writable:!1,value:function(){for(var c=0;c<arguments.length;c++)for(var b=
arguments[c],a=0;a<b.length;a++)-1===this.indexOf(b[a])&&this.push(b[a]);return this}});C.erase||f.defineProperty(C,"erase",{enumerable:!1,configurable:!1,writable:!1,value:function(){this.length=0;return this}});C.indexOf||(C.indexOf=function(c){for(var b=0;b<this.length;b++)if(this[b]===c)return b;return-1});C.map||f.defineProperty(C,"map",{enumerable:!1,configurable:!1,writable:!1,value:function(c,b){if(A(this))throw za;var a=this.length>>>0,e=Z(a);ya(c);for(var f=0;f<a;f++)f in this&&P(this,f)&&
(e[f]=c.call(b,this[f],f,this));return e}});C.pluck||f.defineProperty(C,"pluck",{enumerable:!1,configurable:!1,writable:!1,value:function(c){var b=[],a,e,f;a=0;for(e=this.length;a<e;a++)f=this[a],K(f[c])&&b.push(f[c]);return 0<b.length?b:null}});C.filter||f.defineProperty(C,"filter",{enumerable:!1,configurable:!1,writable:!1,value:function(c,b){if(A(this))throw za;var a=f(this),e=a.length>>>0;ya(c);for(var u=[],k=0;k<e;k++)if(k in a&&P(a,k)){var w=a[k];c.call(b,w,k,a)&&u.push(w)}return u}});C.every||
f.defineProperty(C,"every",{enumerable:!1,configurable:!1,writable:!1,value:function(c,b){if(A(this))throw za;var a=f(this),e=a.length>>>0;ya(c);for(var u=0;u<e;u++)if(u in a&&P(a,u)&&!c.call(b,a[u],u,a))return!1;return!0}});C.some||f.defineProperty(C,"some",{enumerable:!1,configurable:!1,writable:!1,value:function(c,b){if(A(this))throw za;var a=f(this),e=a.length>>>0;ya(c);for(var u=0;u<e;u++)if(u in a&&P(a,u)&&c.call(b,a[u],u,a))return!0;return!1}});C.clean||f.defineProperty(C,"clean",{enumerable:!1,
configurable:!1,writable:!1,value:function(c){return this.filter(function(b){return null!==b&&K(b)&&!1===c&&""!==b})}});C.diff||f.defineProperty(C,"diff",{enumerable:!1,configurable:!1,writable:!1,value:function(c){return this.filter(function(b){return-1===c.indexOf(b)})}});C.clone||f.defineProperty(C,"clone",{enumerable:!1,configurable:!1,writable:!1,value:function(){return ma(this)}});C.keySort||function(){f.defineProperty(C,"keySort",{enumerable:!1,configurable:!1,writable:!1,value:function(c){c=
c||{};var b="object"===E(c)?f.keys(c):[],a=b.length;if(!a)return this.sort(c);f.forEach(c,function(c,b){this[c]="desc"===b||-1===b?-1:"skip"===b||0===b?0:1},c);this.sort(function(e,f){for(var k=0,w=0;0===k&&w<a;){var n=b[w];if(n){var k=e[n],s=f[n],n=c[n],n=null!==n?n:1,k=k==s?0:k>s?1*n:-1*n;w++}}return k});return this}})}();Z.forEach||(Z.forEach=function(c,b,a){C.forEach.call(c,b,a)});Z.each||(Z.each=function(c,b,a){C.each.call(c,b,a)});Z.slice||(Z.slice=function(c,b,a){return C.slice.call(c,b,a)});
Z.from||(Z.from=function(c){return"object"===E(c)?[c]:la(c)});Z.of||(Z.of=function(){return la(arguments)});R.bind=function(c){var b=C.slice.call(arguments,1),a=this,e=function(){},f=function(){return a.apply(this instanceof e&&c?this:c,b.concat(la(arguments)))};a.__class__&&(f.__class__=a.__class__);a.__parent__&&(f.__parent__=a.__parent__);e.prototype=this.prototype;f.prototype=new e;return f};R.bindTo||(R.bindTo=R.bind);R.pass||(R.pass=function(c,b){c=c||[];c=[].concat(c);var a=this;return function(){return a.apply(b,
c.concat(la(arguments)))}});R.delay||(R.delay=function(c,b,a){return Ua(this.pass(a,b),c)});R.defer||(R.defer=R.delay);R.periodical||(R.periodical=function(c,b,a){return Ta(this.pass(a,b),c)});f.merge||(f.merge=va);f.forEach||(f.forEach=function(c,b,a){for(var e in c)e in c&&P(c,e)&&b.call(a||c,e,c[e],c)});f.each||(f.each=function(c,b,a){for(var e in c)if(e in c&&P(c,e)&&!1===b.call(a||c,e,c[e],c))break});f.keyOf||(f.keyOf=function(c,b){for(var a in c)if(a===b)return a;return H});f.indexOf||(f.indexOf=
function(c,b){for(var a in c)if(c[a]===b)return a;return H});f.flip||(f.flip=function(c){var b={},a;for(a in c)a in c&&P(c,a)&&(b[c[a]]=a);return b});f.keys||(f.keys=function(c){var b=[],a;for(a in c)a in c&&P(c,a)&&b.push(a);return b});f.values||(f.values=function(c){var b=[],a;for(a in c)a in c&&P(c,a)&&b.push(c[a]);return b});f.contains||(f.contains=function(c,a,d){var e,f=!1,k;for(k in c)if(k in c&&P(c,k)&&(e=d?k:c[k],e===a)){f=k;break}return f});f.clone||(f.clone=function(c){return ma(c)});f.toQueryString||
(f.toQueryString=function(c){var a=[],d=function(c,f){f||(f="");for(var k in c){var n=c[k];n&&(""!==f&&(k=f+"["+k+"]"),"object"===E(n)?d(n,k):a.push(encodeURIComponent(k)+"="+encodeURIComponent(n)))}};d(c);return a.join("&")});Q.now||(Q.now=function(){return+new Date});D.sprintf||(D.sprintf=yb);D.htmlDecode||(D.htmlDecode=function(c){var a=V("a");a.innerHTML=c;return a.textContent});D.vsprintf||(D.vsprintf=function(c,a){return D.sprintf.apply(this,[c].concat(a))});N.trim||(N.trim=function(){return D(this).replace(/^\s+|\s+$/g,
"")});N.stripTags||(N.stripTags=function(c,a){return D(this).replace(Wb(c,a),"")});N.clean||(N.clean=function(){return D(this).replace(/\s+/g," ").trim()});N.repeat||(N.repeat=function(c,a){for(var d=[],e=c||1;e--;)d.push(D(this));return d.join(a||"")});N.reverse||(N.reverse=function(){return la(this).reverse().join("")});N.camelize||(N.camelize=function(){return D(this).replace(/-\D/g,function(c){return oa(c.charAt(1))})});N.capitalize||(N.capitalize=function(){return D(this).replace(/\b[a-z]/g,
function(c){return oa(c)})});N.hyphenate||(N.hyphenate=function(){return D(this).replace(/[A-Z]/g,function(c){return"-"+ga(c.charAt(0))})});N.dasherize||(N.dasherize=function(){var c=D(this);return-1===c.indexOf("_")?ga(c.replace(/[A-Z]/g,"-$&")):c.replace(/_/g,"-")})})();var cc=function(){function c(c){return E(n(g(c)))}function a(c){return r(n(g(c)))}function d(c,a){return l(n(g(c)),a)}function e(c,a){return E(z(g(c),g(a)))}function f(c,a){return r(z(g(c),g(a)))}function k(c,a,b){return l(z(g(c),
g(a)),b)}function n(c){return q(m(h(c),8*c.length))}function z(c,a){var b=h(c);16<b.length&&(b=m(b,8*c.length));for(var e=Z(16),d=Z(16),k=0;16>k;k++)e[k]=b[k]^909522486,d[k]=b[k]^1549556828;b=m(e.concat(h(a)),512+8*a.length);return q(m(d.concat(b),672))}function E(c){for(var a=J?"0123456789ABCDEF":"0123456789abcdef",b="",e,d=0;d<c.length;d++)e=c.charCodeAt(d),b+=a.charAt(e>>>4&15)+a.charAt(e&15);return b}function r(c){for(var a=Kb+"+/",b="",e=c.length,d=0;d<e;d+=3)for(var m=c.charCodeAt(d)<<16|(d+
1<e?c.charCodeAt(d+1)<<8:0)|(d+2<e?c.charCodeAt(d+2):0),q=0;4>q;q++)b=8*d+6*q>8*c.length?b+bc:b+a.charAt(m>>>6*(3-q)&63);return b}function l(c,a){var b=a.length,e=[],d,m,q,k,f=Z(s.ceil(c.length/2));for(d=0;d<f.length;d++)f[d]=c.charCodeAt(2*d)<<8|c.charCodeAt(2*d+1);for(;0<f.length;){k=[];for(d=q=0;d<f.length;d++)if(q=(q<<16)+f[d],m=s.floor(q/b),q-=m*b,0<k.length||0<m)k[k.length]=m;e[e.length]=q;f=k}b="";for(d=e.length-1;0<=d;d--)b+=a.charAt(e[d]);e=s.ceil(8*c.length/(s.log(a.length)/s.log(2)));for(d=
b.length;d<e;d++)b=a[0]+b;return b}function g(c){for(var a="",b=-1,e,d;++b<c.length;)e=c.charCodeAt(b),d=b+1<c.length?c.charCodeAt(b+1):0,55296<=e&&56319>=e&&56320<=d&&57343>=d&&(e=65536+((e&1023)<<10)+(d&1023),b++),127>=e?a+=pa(e):2047>=e?a+=pa(192|e>>>6&31,128|e&63):65535>=e?a+=pa(224|e>>>12&15,128|e>>>6&63,128|e&63):2097151>=e&&(a+=pa(240|e>>>18&7,128|e>>>12&63,128|e>>>6&63,128|e&63));return a}function h(c){for(var a=Z(c.length>>2),b=0,b=0;b<a.length;b++)a[b]=0;for(b=0;b<8*c.length;b+=8)a[b>>5]|=
(c.charCodeAt(b/8)&255)<<24-b%32;return a}function q(c){for(var a="",b=0;b<32*c.length;b+=8)a+=pa(c[b>>5]>>>24-b%32&255);return a}function m(c,a){c[a>>5]|=128<<24-a%32;c[(a+64>>9<<4)+15]=a;for(var b=Z(80),e=1732584193,d=-271733879,m=-1732584194,q=271733878,k=-1009589776,f=0;f<c.length;f+=16){for(var g=e,h=d,p=m,t=q,da=k,M=0;80>M;M++){b[M]=16>M?c[f+M]:(b[M-3]^b[M-8]^b[M-14]^b[M-16])<<1|(b[M-3]^b[M-8]^b[M-14]^b[M-16])>>>31;var J=e<<5|e>>>27,v;v=20>M?d&m|~d&q:40>M?d^m^q:60>M?d&m|d&q|m&q:d^m^q;J=x(x(J,
v),x(x(k,b[M]),20>M?1518500249:40>M?1859775393:60>M?-1894007588:-899497514));k=q;q=m;m=d<<30|d>>>2;d=e;e=J}e=x(e,g);d=x(d,h);m=x(m,p);q=x(q,t);k=x(k,da)}return Z(e,d,m,q,k)}function x(c,a){var b=(c&65535)+(a&65535);return(c>>16)+(a>>16)+(b>>16)<<16|b&65535}function Va(){}var J=0,bc="=";Va.prototype={constructor:Va,hex:function(a,b){return(b?e:c)(a,b)},b64:function(c,e){return(e?f:a)(c,e)},any:function(c,a,b){return(b?k:d)(c,a,b)}};return new Va}(),Ja=function(c,a){c=c&&ga(c);a=a&&ga(a);var d=/(tnt browser)/.exec(c)||
/(webkit|firefox|netfront|nds|nsn)[ \/]([\w.]+)/.exec(c)||/(webkit|opera)(?:.*version)?[ \/]([\w.]+)/.exec(c)||/(msie) ([\w.]+)/.exec(c)||[],e=d[1]||"unknown",f=/mobile|midp/.test(c),k=a&&"activevideo"===a&&a,d=parseFloat(d[2]||0);switch(e){case "msie":d=G.documentMode||d;break;case "ipod":case "ipad":case "iphone":case "safari":case "chrome":case "netfront":e="webkit";break;case "tnt browser":k="naf";e="webkit";break;case "nds":case "nsn":k=e;e="webkit";break;case "opera":case "firefox":case "webkit":break;
default:na("browser not detected correctly"),e="unkown"}f={name:e,version:d,mobile:f};k&&(f.middleware=k,f[k]=!0);f[e]=!0;return f}(qb.userAgent,qb.vendor),Qa=function(){function c(c,a,b){b=b||c;if(4===c.readyState){if(a.onComplete)a.onComplete(c);if(200===c.status||a.isSuccess&&a.isSuccess.call&&!0===a.isSuccess.call(c))try{var e=(c.getResponseHeader("Content-Type")||"").split(";")[0],f;switch(ga(e)){case "text/xml":case "application/xml":f=c.responseXML;break;case "text/json":case "application/json":f=
X.parse(c.responseText);break;case "text/javascript":case "application/javascript":f=Da("with(this){return "+c.responseText.replace(Ya,"")+("}\n//# sourceURL="+a.url)+"\n").call(a.scope);break;case "image/jpeg":case "image/jpg":case "image/png":case "image/gif":for(var l=c.responseText,g=l.length,h="",q=0;q<g;q+=1)h+=pa(l.charCodeAt(q)&255);f="data:"+e+";base64,"+gb(h);break;default:if(/\.strings$/.test(a.url.split("?")[0])){e={};q=(c.responseText||"").replace(Ya,"").match(/(.+)=(.+);/gm)||[];for(l=
0;l<q.length;l++){var m=q[l].match(/['"](.+)['"][\s|\t]+=[\s|\t]+['"](.+)['"]/);m&&3===m.length&&(e[m[1]]=m[2].replace(d,"$1"))}h=e}else h=c.responseText;f=h}a.onSuccess&&a.onSuccess.call&&a.onSuccess.call(b,f,c)}catch(x){a.onError&&a.onError.call&&a.onError.call(b,x)}else a.onFailure&&a.onFailure.call&&a.onFailure.call(b,c)}}function a(b){b=b||{};b.method=b.method&&oa(b.method)||"GET";b.headers=b.headers||{};this.get=function(c){b.method="GET";return this.send(c)};this.post=function(c){b.method=
"POST";return this.send(c)};this.send=function(a){var d=b.scope||this,z=-1;a=a||b.data;!0===b.jsonp&&(z=e++,a=a||{},K(b.callback)&&"string"===E(b.callback)?a[b.callback]=s+z:A(a.callback)&&(a.callback=s+z));"object"===E(a)&&("GET"===b.method?b.url+=""+(-1===b.url.indexOf("?")?"?":"&")+f.toQueryString(a):"application/json"===b.headers["Content-Type"]?(b.mimetype=b.headers["Content-Type"],a=X.stringify(a)):(b.headers["Content-Type"]="application/x-www-form-urlencoded",a=f.toQueryString(a)));if(-1<z&&
b.onSuccess&&b.onSuccess.call){var r;n[a.callback]=function(){K(r)?b.onSuccess.apply(b.scope||null,arguments):b.onFailure&&b.onFailure.call&&b.onFailure.call(d);r.destroy();r=H;delete n[a.callback]};try{r=Vb(b.url,null,b.onFailure.bind(d))}catch(l){b.onError&&b.onError.call&&b.onError.call(d,l)}return this}var z=!1===b.async,g=new Ea,h;K(b.timeout)&&!isNaN(b.timeout)&&(h=function(){h=H;if(K(g)){var c=0;try{c=g&&g.status||0}catch(a){}0===c&&g.abort&&g.abort.call&&(g.abort(),b.onTimeout&&b.onTimeout.call&&
b.onTimeout.call(d,g))}}.delay(b.timeout));var q=b.url;b.user&&b.password?q=q.replace("//","//"+encodeURIComponent(b.user)+":"+encodeURIComponent(b.password)+"@"):b.user&&(q=q.replace("//","//"+encodeURIComponent(b.user)+"@"));-1!==q.indexOf("//")&&-1===q.indexOf(ta+".com/")&&!1!==b.proxy&&(q="//"+Pa[3]+"."+ta+".com/?url="+encodeURIComponent(q),"object"===E(b.proxy)&&f.forEach(b.proxy,function(c,a){"object"===E(a)&&(a=X.stringify(a));q+="&"+c+"="+escape(a)}));K(b.mimetype)&&g.overrideMimeType&&g.overrideMimeType.call&&
g.overrideMimeType(b.mimetype);try{g.open(b.method,q,!z),f.forEach(b.headers,function(c,a){this.setRequestHeader(c,a)},g),g.send(a)}catch(m){b.onFailure&&b.onFailure.call&&b.onFailure.call(d,g,m);g=H;return}z?(K(h)&&(Ba(h),h=H),c(g,b,d),g=H):g.onreadystatechange=function(){4===g.readyState&&(K(h)&&(Ba(h),h=H),c(g,b,d),g=H)};return this}}var d=/\\("|')/g,e=0,s="mafreq";a.prototype={constructor:a};return a}(),dc=function(){function c(){this.clear()}c.uid=0;c.prototype={constructor:c,get:function(c){return(c=
this._data[this.hash(c)])&&c[1]},set:function(c,a){this._data[this.hash(c)]=[c,a]},has:function(c){return this.hash(c)in this._data},remove:function(c){delete this._data[this.hash(c)]},type:function(c){var a=xa.toString.call(c),a=ga(a.slice(8,-1));return"domwindow"!==a||c?a:c+""},count:function(){var c=0,a;for(a in this._data)c++;return c},clear:function(){delete this._data;this._data={}},hash:function(a){switch(this.type(a)){case "undefined":case "null":case "boolean":case "number":case "regexp":return a+
"";case "date":return":"+a.getTime();case "string":return'"'+a;case "array":for(var d=[],e=0;e<a.length;e++)d[e]=this.hash(a[e]);return"["+d.join("|");default:return a._hmuid_||(a._hmuid_=++c.uid,f.defineProperty&&f.defineProperty(a,"_hmuid_",{enumerable:!1})),"{"+a._hmuid_}},forEach:function(c,a){a=a||this;for(var e in this._data){var f=this._data[e];c.apply(a,[f[1],f[0]])}}};return c}(),jc=function(){function c(c,a,b){function e(a,b){var d=c.runtimeStyle&&c.runtimeStyle[a],m,f=c.style;!/^-?[0-9]+\.?[0-9]*(?:px)?$/i.test(b)&&
/^-?\d/.test(b)&&(m=f.left,d&&(c.runtimeStyle.left=c.currentStyle.left),f.left="fontSize"===a?"1em":b||0,b=f.pixelLeft+"px",f.left=m,d&&(c.runtimeStyle.left=d));return/^(thin|medium|thick)$/i.test(b)?b:s.round(parseFloat(b))+"px"}var d,f=a.match(/^background(Size|Position)$/);r!==c&&(l=Ca(c,null),r=c);d=l[a]||c.style[a];if(f){if(d=(d||"").split(","),d=d[b||0]||d[0]||"auto",d=d.trim().split(" "),"backgroundSize"!==a||d[0]&&!d[0].match(/cover|contain|auto/)){d[0]=-1===d[0].indexOf("%")?e(a+"X",d[0]):
d[0];if(A(d[1])){if("backgroundSize"===a)return d[1]="auto",d;d[1]=d[0]}d[1]=-1===d[1].indexOf("%")?e(a+"Y",d[1]):d[1]}}else if(/border(Top|Bottom)(Left|Right)Radius/.test(a))a=d.split(" "),1>=a.length&&(a[1]=a[0]),a[0]=L(a[0]),a[1]=L(a[1]),d=a;else if(/(margin|padding)(Top|Bottom|Left|Right)/.test(a)||/border(Top|Bottom|Left|Right)Width/.test(a)||"width"===a||"height"===a||/(top|left|bottom|right)/.test(a))return d=d&&L(d)||0,isNaN(d)?0:d;return d}function a(c){var b,d,e,f,g,h=[],k,l=0,n=0,r,s,F=
function(){b&&('"'===d.substr(0,1)&&(d=d.substr(1,d.length-2)),d&&s.push(d),"-"===b.substr(0,1)&&0<(f=b.indexOf("-",1)+1)&&(e=b.substr(0,f),b=b.substr(f)),h.push({prefix:e,method:ga(b),value:g,args:s}));s=[];b=e=d=g=""};F();for(var $=0,S=c.length;$<S;$++)if(k=c[$],!(0===l&&-1<" \r\n\t".indexOf(k))){switch(k){case '"':r?r===k&&(r=null):r=k;break;case "(":if(r)break;else if(0===l){l=1;g+=k;continue}else n++;break;case ")":if(r)break;else if(1===l)if(0===n){l=0;g+=k;F();continue}else n--;break;case ",":if(!r)if(0===
l){F();continue}else if(1===l&&0===n&&!b.match(/^url$/i)){s.push(d);d="";g+=k;continue}}g+=k;0===l?b+=k:d+=k}F();return h}function d(a,b,d,e,f,g){b=c(b,a,f);var h;1===b.length&&(f=b[0],b=[],b[0]=f,b[1]=f);if(-1!==b[0].toString().indexOf("%"))h=parseFloat(b[0])/100,f=d.width*h,"backgroundSize"!==a&&(f-=(g||e).width*h);else if("backgroundSize"===a)if("auto"===b[0])f=e.width;else if(b[0].match(/contain|cover/)){f=d.width;h=d.height;var k=b[0],l=e.width/e.height;f=k&&"auto"!==k?f/h<l^"contain"===k?h*
l:f:f}else f=L(b[0]);else f=L(b[0]);"auto"===b[1]?d=f/e.width*e.height:-1!==b[1].toString().indexOf("%")?(h=parseFloat(b[1])/100,d=d.height*h,"backgroundSize"!==a&&(d-=(g||e).height*h)):d=L(b[1]);return[f,d]}function e(a,c,b,e,f){a=d("backgroundPosition",a,c,b,e,f);return{left:a[0],top:a[1]}}function u(a,c,b,e){a=d("backgroundSize",a,c,b,e);return{width:a[0],height:a[1]}}function k(a){var c;try{var b;if(a.nodeName&&"IFRAME"===oa(a.nodeName))b=a.contentDocument||a.contentWindow.document;else{var d=
a.childNodes;a=[];if(null!==d){var e=a.length,f=0;if("number"===typeof d.length)for(var g=d.length;f<g;f++)a[e++]=d[f];else for(;K(d[f]);)a[e++]=d[f++];a.length=e}b=a}c=b}catch(h){c=[]}return c}function w(a,c){for(var b in a)P(a,b)&&(c[b]=a[b]);return c}function z(a,c){var b=[];return{storage:b,width:a,height:c,clip:function(){b.push({type:"function",name:"clip",arguments:arguments})},translate:function(){b.push({type:"function",name:"translate",arguments:arguments})},fill:function(){b.push({type:"function",
name:"fill",arguments:arguments})},save:function(){b.push({type:"function",name:"save",arguments:arguments})},restore:function(){b.push({type:"function",name:"restore",arguments:arguments})},fillRect:function(){b.push({type:"function",name:"fillRect",arguments:arguments})},createPattern:function(){b.push({type:"function",name:"createPattern",arguments:arguments})},drawShape:function(){var a=[];b.push({type:"function",name:"drawShape",arguments:a});return{moveTo:function(){a.push({name:"moveTo",arguments:arguments})},
lineTo:function(){a.push({name:"lineTo",arguments:arguments})},arcTo:function(){a.push({name:"arcTo",arguments:arguments})},bezierCurveTo:function(){a.push({name:"bezierCurveTo",arguments:arguments})},quadraticCurveTo:function(){a.push({name:"quadraticCurveTo",arguments:arguments})}}},drawImage:function(){b.push({type:"function",name:"drawImage",arguments:arguments})},fillText:function(){b.push({type:"function",name:"fillText",arguments:arguments})},setVariable:function(a,c){b.push({type:"variable",
name:a,arguments:c})}}}function E(a,c){function b(){var a=new Xa,c=V("canvas"),d=A(c.getContext)?!1:c.getContext("2d");if(!1===d)return!1;c.width=c.height=10;a.source="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' width='10' height='10'><foreignObject width='10' height='10'><div xmlns='http://www.w3.org/1999/xhtml' style='width:10;height:10;'>sup</div></foreignObject></svg>";try{d.drawImage(a,0,0),c.toDataURL()}catch(e){return!1}return!0}return{rangeBounds:function(){var a,b,d=!1;c.createRange&&
(a=c.createRange(),a.getBoundingClientRect&&(b=V("boundtest"),b.style.height="123px",b.style.display="block",ja.appendChild(b),a.selectNode(b),a=a.getBoundingClientRect(),a=a.height,123===a&&(d=!0),ja.removeChild(b)));return d}(),svgRendering:a.svgRendering&&b()}}var r,l,g={},h=function(){var a={};return function(c,b,d){if(K(a[c+"-"+b]))return a[c+"-"+b];d=ra("viewport");var e=V("div"),f=V("img"),g=V("span"),h;e.setStyles({visibility:"hidden",fontFamily:c,fontSize:b,margin:0,padding:0});d.appendChild(e);
f.source=Lb;f.width=1;f.height=1;f.setStyles({margin:0,padding:0,verticalAlign:"baseline"});g.setStyles({fontFamily:c,fontSize:b,margin:0,padding:0}).appendChild(La("Hidden Text"));e.appendChild(g);e.appendChild(f);h=f.offsetTop-g.offsetTop+1;e.removeChild(g);e.appendChild(La("Hidden Text"));e.setStyle("lineHeight","normal");f.setStyle("verticalAlign","super");f={baseline:h,lineWidth:1,middle:f.offsetTop-e.offsetTop+1};a[c+"-"+b]=f;d.removeChild(e);return f}}();g.Parse=function(d,m){function g(a){var c=
"",b;do b=a%26,c=pa(b+64)+c,a/=26;while(26<26*a);return c}function l(a){var c="M CM D CD C XC L XL X IX V IV I".split(" "),b=[1E3,900,500,400,100,90,50,40,10,9,5,4,1],p="",d,e=c.length;if(0>=a||4E3<=a)return a;for(d=0;d<e;d+=1)for(;a>=b[d];)a-=b[d],p+=c[d];return p}function r(a,b){var p=L(c(a,b));return isNaN(p)?0:p}function n(a,c,b,p,d,e){"transparent"!==e&&(a.setVariable("fillStyle",e),a.fillRect(c,b,p,d))}function K(a,c){switch(c){case "lowercase":return ga(a);case "capitalize":return a.replace(/(^|\s|:|-|\(|\))([a-z])/g,
function(a,c,b){if(0<a.length)return c+oa(b)});case "uppercase":return oa(a);default:return a}}function ac(a){return/^(normal|none|0px)$/.test(a)}function Nb(a,b,p,d){var e=c(b,"fontWeight"),t=c(b,"fontFamily"),y=c(b,"fontSize");switch(L(e)){case 401:e="bold";break;case 400:e="normal"}a.setVariable("fillStyle",d);a.setVariable("font",[c(b,"fontStyle"),c(b,"fontVariant"),e,y,t].join(" "));a.setVariable("textAlign","left");if("none"!==p)return h(t,y,G)}function B(a,b,p){var d=p.ctx,e=c(a,"color"),t=
c(a,"textDecoration");p=c(a,"textAlign");var y,f,da=b,fa=0;0<b.nodeValue.trim().length&&(b.nodeValue=K(b.nodeValue,c(a,"textTransform")),p=p.replace(["-webkit-auto"],["auto"]),f=!m.letterRendering&&/^(left|right|justify|auto)$/.test(p)&&ac(c(a,"letterSpacing"))?b.nodeValue.split(/(\b| )/):b.nodeValue.split(""),y=Nb(d,a,t,e),m.chinese&&f.forEach(function(a,c){/.*[\u4E00-\u9FA5].*$/.test(a)&&(a=a.split(""),a.unshift(c,1),f.splice.apply(f,a))}),f.forEach(function(a,c){var b;b=c<f.length-1;var p;if(Sa.rangeBounds){if("none"!==
t||0!==a.trim().length){b=da;p=fa;var wa=G.createRange();wa.setStart(b,p);wa.setEnd(b,p+a.length);p=wa.getBoundingClientRect()}fa+=a.length}else if(da&&"string"===typeof da.nodeValue){b=b?da.splitText(a.length):null;var Ra=da;p=Ra.parentNode;var wa=V("wrapper"),m=Ra.cloneNode(!0);wa.appendChild(Ra.cloneNode(!0));p.replaceChild(wa,Ra);Ra=wa.getBounds();p.replaceChild(m,wa);p=Ra;da=b}if(b=p)switch(p=b.left,wa=b.bottom,null!==a&&0<a.trim().length&&d.fillText(a,p,wa),t){case "underline":n(d,b.left,s.round(b.top+
y.baseline+y.lineWidth),b.width,1,e);break;case "overline":n(d,b.left,s.round(b.top),b.width,1,e);break;case "line-through":n(d,b.left,s.ceil(b.top+y.middle+y.lineWidth),b.width,1,e)}}))}function H(a,b,p){var d;b=b.ctx;var e=c(a,"listStyleType");if(/^(decimal|decimal-leading-zero|upper-alpha|upper-latin|upper-roman|lower-alpha|lower-greek|lower-latin|lower-roman)$/i.test(e)){var t;t=-1;var y=1,f=a.parentNode.childNodes;if(a.parentNode){for(;f[++t]!==a;)1===f[t].nodeType&&y++;t=y}else t=-1;switch(e){case "decimal":d=
t;break;case "decimal-leading-zero":d=1===t.toString().length?"0"+t.toString():t.toString();break;case "upper-roman":d=l(t);break;case "lower-roman":d=ga(l(t));break;case "lower-alpha":d=ga(g(t));break;case "upper-alpha":d=g(t)}d+=". ";t=V("boundelement");t.style.display="inline";y=a.style.listStyleType;a.style.listStyleType="none";t.appendChild(La(d));a.insertBefore(t,a.firstChild);e=t.getBounds();a.removeChild(t);a.style.listStyleType=y;Nb(b,a,"none",c(a,"color"));"inside"===c(a,"listStylePosition")&&
(b.setVariable("textAlign","left"),a=p.left,p=e.bottom,null!==d&&0<d.trim().length&&b.fillText(d,a,p))}}function D(a){return(a=d[a])&&!0===a.succeeded?a.img:!1}function F(a,c){var b=s.max(a.left,c.left),p=s.max(a.top,c.top),d=s.min(a.left+a.width,c.left+c.width),e=s.min(a.top+a.height,c.top+c.height);return{left:b,top:p,width:d-b,height:e-p}}function $(a,c,b,p,d){var e=r(c,"paddingLeft"),t=r(c,"paddingTop"),y=r(c,"paddingRight");c=r(c,"paddingBottom");v(a,b,0,0,b.width,b.height,p.left+e+d[3].width,
p.top+t+d[0].width,p.width-(d[1].width+d[3].width+e+y),p.height-(d[0].width+d[2].width+t+c))}function S(a){return["Top","Right","Bottom","Left"].map(function(b){return{width:r(a,"border"+b+"Width"),color:c(a,"border"+b+"Color")}})}function U(a){return["TopLeft","TopRight","BottomRight","BottomLeft"].map(function(b){return c(a,"border"+b+"Radius")})}function ca(a,c,b,p){var d=function(a,c,b){return{x:a.x+(c.x-a.x)*b,y:a.y+(c.y-a.y)*b}};return{start:a,startControl:c,endControl:b,end:p,subdivide:function(e){var t=
d(a,c,e),y=d(c,b,e),f=d(b,p,e),da=d(t,y,e),y=d(y,f,e);e=d(da,y,e);return[ca(a,t,da,e),ca(e,y,f,p)]},curveTo:function(a){a.push(["bezierCurve",c.x,c.y,b.x,b.y,p.x,p.y])},curveToReversed:function(p){p.push(["bezierCurve",b.x,b.y,c.x,c.y,a.x,a.y])}}}function p(a,c,b,p,d,e,t){0<c[0]||0<c[1]?(a.push(["line",p[0].start.x,p[0].start.y]),p[0].curveTo(a),p[1].curveTo(a)):a.push(["line",e,t]);(0<b[0]||0<b[1])&&a.push(["line",d[0].start.x,d[0].start.y])}function t(a,c,b,p,d,e,t){var y=[];0<c[0]||0<c[1]?(y.push(["line",
p[1].start.x,p[1].start.y]),p[1].curveTo(y)):y.push(["line",a.c1[0],a.c1[1]]);0<b[0]||0<b[1]?(y.push(["line",e[0].start.x,e[0].start.y]),e[0].curveTo(y),y.push(["line",t[0].end.x,t[0].end.y]),t[0].curveToReversed(y)):(y.push(["line",a.c2[0],a.c2[1]]),y.push(["line",a.c3[0],a.c3[1]]));0<c[0]||0<c[1]?(y.push(["line",d[1].end.x,d[1].end.y]),d[1].curveToReversed(y)):y.push(["line",a.c4[0],a.c4[1]]);return y}function da(a,b,d){var e,y,f,da,fa,m,g,q,h=b.left,F=b.top,O=b.width,k=b.height,l,M,v,r,n=U(a);
q=b.left;l=b.top;m=b.width;g=b.height;y=n[0][0];f=n[0][1];da=n[1][0];fa=n[1][1];var Sa=n[2][0],Y=n[2][1];M=n[3][0];v=n[3][1];var $=m-da,Ga=g-Y,x=m-Sa,S=g-v;e=Fa(q,l,y,f).topLeft.subdivide(0.5);y=Fa(q+d[3].width,l+d[0].width,s.max(0,y-d[3].width),s.max(0,f-d[0].width)).topLeft.subdivide(0.5);f=Fa(q+$,l,da,fa).topRight.subdivide(0.5);da=Fa(q+s.min($,m+d[3].width),l+d[0].width,$>m+d[3].width?0:da-d[3].width,fa-d[0].width).topRight.subdivide(0.5);fa=Fa(q+x,l+Ga,Sa,Y).bottomRight.subdivide(0.5);m=Fa(q+
s.min(x,m+d[3].width),l+s.min(Ga,g+d[0].width),s.max(0,Sa-d[1].width),s.max(0,Y-d[2].width)).bottomRight.subdivide(0.5);g=Fa(q,l+S,M,v).bottomLeft.subdivide(0.5);q=Fa(q+d[3].width,l+S,s.max(0,M-d[3].width),s.max(0,v-d[2].width)).bottomLeft.subdivide(0.5);l=[];switch(c(a,"backgroundClip")){case "content-box":case "padding-box":p(l,n[0],n[1],y,da,b.left+d[3].width,b.top+d[0].width);p(l,n[1],n[2],da,m,b.left+b.width-d[1].width,b.top+d[0].width);p(l,n[2],n[3],m,q,b.left+b.width-d[1].width,b.top+b.height-
d[2].width);p(l,n[3],n[0],q,y,b.left+d[3].width,b.top+b.height-d[2].width);break;default:p(l,n[0],n[1],e,f,b.left,b.top),p(l,n[1],n[2],f,fa,b.left+b.width,b.top),p(l,n[2],n[3],fa,g,b.left+b.width,b.top+b.height),p(l,n[3],n[0],g,e,b.left,b.top+b.height)}S={clip:l,borders:[]};for(a=0;4>a;a++)if(0<d[a].width){b=h;l=F;M=O;v=k-d[2].width;switch(a){case 0:v=d[0].width;r=t({c1:[b,l],c2:[b+M,l],c3:[b+M-d[1].width,l+v],c4:[b+d[3].width,l+v]},n[0],n[1],e,y,f,da);break;case 1:b=h+O-d[1].width;M=d[1].width;r=
t({c1:[b+M,l],c2:[b+M,l+v+d[2].width],c3:[b,l+v],c4:[b,l+d[0].width]},n[1],n[2],f,da,fa,m);break;case 2:l=l+k-d[2].width;v=d[2].width;r=t({c1:[b+M,l+v],c2:[b,l+v],c3:[b+d[3].width,l],c4:[b+M-d[2].width,l]},n[2],n[3],fa,m,g,q);break;case 3:M=d[3].width,r=t({c1:[b,l+v+d[2].width],c2:[b,l],c3:[b+M,l+d[0].width],c4:[b+M,l+v]},n[3],n[0],g,q,e,y)}S.borders.push({args:r,color:d[a].color})}return S}function M(a,b){var c=a.drawShape();b.forEach(function(a,b){c[0===b?"moveTo":a[0]+"To"].apply(null,a.slice(1))});
return c}function ub(a,b,d){var p=V("valuewrap");"lineHeight textAlign fontFamily color fontSize paddingLeft paddingTop width height border borderLeftWidth borderTopWidth".split(" ").forEach(function(b){try{p.style[b]=c(a,b)}catch(d){}});p.style.borderColor="black";p.style.borderStyle="solid";p.style.display="block";p.style.position="absolute";if(/^(submit|reset|button|text|password)$/.test(a.type)||"SELECT"===a.nodeName)p.style.lineHeight=c(a,"height");p.style.top=b.top+"px";p.style.left=b.left+
"px";b="SELECT"===a.nodeName?(a.options[a.selectedIndex]||0).text:a.value;b||(b=a.placeholder);b=La(b);p.appendChild(b);ja.appendChild(p);B(a,b,d);ja.removeChild(p)}function v(a){a.drawImage.apply(a,C.slice.call(arguments,1))}function Ob(c,d){var p=Ca(c,d);if(p&&p.content&&"none"!==p.content&&"-moz-alt-content"!==p.content&&"none"!==p.display){var e=p.content+"",t=e.substr(0,1);t===e.substr(e.length-1)&&t.match(/'|"/)&&(e=e.substr(1,e.length-2));var t="url"===e.substr(0,3),y=V(t?"img":"span");y.className=
aa+"-before "+aa+"-after";f.keys(p).filter(ka).forEach(function(a){try{y.style[a]=p[a]}catch(b){}});t?y.source=a(e)[0].args[0]:y.innerHTML=e;return y}}function ka(a){return isNaN(L(a))}function ec(a,b){var c=Ob(a,":before"),p=Ob(a,":after");if(c||p)c&&(a.className+=" "+aa+"-before",a.parentNode.insertBefore(c,a),fa(c,b,!0),a.parentNode.removeChild(c),a.className=a.className.replace(aa+"-before","").trim()),p&&(a.className+=" "+aa+"-after",a.appendChild(p),fa(p,b,!0),a.removeChild(p),a.className=a.className.replace(aa+
"-after","").trim())}function Pb(a,b,c,p){var d=s.round(p.left+c.left);c=s.round(p.top+c.top);a.createPattern(b);a.translate(d,c);a.fill();a.translate(-d,-c)}function Ga(a,b,c,p,d,e,t,y){var f=[];f.push(["line",s.round(d),s.round(e)]);f.push(["line",s.round(d+t),s.round(e)]);f.push(["line",s.round(d+t),s.round(y+e)]);f.push(["line",s.round(d),s.round(y+e)]);M(a,f);a.save();a.clip();Pb(a,b,c,p);a.restore()}function fc(a,b,p,d,t){var y=u(a,b,d,t),f=e(a,b,d,t,y);a=c(a,"backgroundRepeat").split(",").map(function(a){return a.trim()});
d=Ka(d,y);a=a[t]||a[0];switch(a){case "repeat-x":Ga(p,d,f,b,b.left,b.top+f.top,99999,d.height);break;case "repeat-y":Ga(p,d,f,b,b.left+f.left,b.top,d.width,99999);break;case "no-repeat":Ga(p,d,f,b,b.left+f.left,b.top+f.top,d.width,d.height);break;default:Pb(p,d,f,{top:b.top,left:b.left,width:d.width,height:d.height})}}function gc(d,p,e){for(var t=c(d,"backgroundImage"),y=a(t),f=y.length;f--;)t=y[f],t.args&&0!==t.args.length&&(t=D("url"===t.method?t.args[0]:t.value))&&fc(d,p,e,t,f)}function Ka(a,b){if(a.width===
b.width&&a.height===b.height)return a;var c,d=V("canvas");d.width=b.width;d.height=b.height;c=d.getContext("2d");v(c,a,0,0,a.width,a.height,0,0,b.width,b.height);return d}function hc(a,b,d){var p=z(b?d.width:Za,b?d.height:$a),e;var t=c(a,"zIndex");(e=b?b.zIndex:null)?"auto"!==t&&(t={zindex:t,children:[]},e.children.push(t),e=t):e=t={zindex:0,children:[]};t=c(a,"opacity")*(b?b.opacity:1);p.setVariable("globalAlpha",t);b={ctx:p,zIndex:e,opacity:t,cssPosition:c(a,"position"),borders:S(a),clip:b&&b.clip?
w({},b.clip):null};!0===m.useOverflow&&!0===/(hidden|scroll|auto)/.test(c(a,"overflow"))&&!1===/(BODY)/i.test(a.nodeName)&&(b.clip=b.clip?F(b.clip,d):d);b.zIndex.children.push(b);return b}function I(a,b,c){a={left:b.left+a[3].width,top:b.top+a[0].width,width:b.width-(a[1].width+a[3].width),height:b.height-(a[0].width+a[2].width)};c&&(a=F(a,c));return a}function y(a,b,d){var p=a.getBounds(),e,t=Y.test(a.nodeName)?"#efefef":c(a,"backgroundColor");b=hc(a,b,p);var y=b.borders,f=b.ctx,fa=I(y,p,b.clip),
m=da(a,p,y);M(f,m.clip);f.save();f.clip();0<fa.height&&0<fa.width&&(n(f,p.left,p.top,p.width,p.height,t),gc(a,fa,f));f.restore();m.borders.forEach(function(a){var b=a.args;a=a.color;"transparent"!==a&&(f.setVariable("fillStyle",a),M(f,b),f.fill())});d||ec(a,b);switch(a.nodeName){case "IMG":(e=D(a.getAttribute("src")))&&$(f,a,e,p,y);break;case "INPUT":/^(text|url|email|submit|button|reset)$/.test(a.type)&&0<(a.value||a.placeholder||"").length&&ub(a,p,b);break;case "TEXTAREA":0<(a.value||a.placeholder||
"").length&&ub(a,p,b);break;case "SELECT":0<(a.options||a.placeholder||"").length&&ub(a,p,b);break;case "LI":H(a,b,fa);break;case "CANVAS":$(f,a,a,p,y)}return b}function fa(a,b,p){"none"===c(a,"display")||"hidden"===c(a,"visibility")||a.hasAttribute("data-html2canvas-ignore")||(b=y(a,b,p)||b,Y.test(a.nodeName)||k(a).forEach(function(c){1===c.nodeType?fa(c,b,p):3===c.nodeType&&B(a,c,b)}))}function O(a,b){function c(a){a=k(a);var b=a.length,p,d,e,y,f;for(f=0;f<b;f+=1)if(y=a[f],3===y.nodeType)t+=y.nodeValue.replace(/</g,
"&lt;").replace(/>/g,"&gt;");else if(1===y.nodeType&&!/^(script|meta|title)$/.test(ga(y.nodeName))){t+="<"+ga(y.nodeName);if(y.hasAttributes())for(p=y.attributes,e=p.length,d=0;d<e;d+=1)t+=" "+p[d].name+'="'+p[d].value+'"';t+=">";c(y);t+="</"+ga(y.nodeName)+">"}}var p=new Xa,d=Za,e=$a,t="";c(a);p.source=["data:image/svg+xml,","<svg xmlns='http://www.w3.org/2000/svg' version='1.1' width='"+d+"' height='"+e+"'>","<foreignObject width='"+d+"' height='"+e+"'>","<html xmlns='http://www.w3.org/1999/xhtml' style='margin:0;'>",
t.replace(/\#/g,"%23"),"</html></foreignObject></svg>"].join("");p.onload=function(){b.svgRender=p}}var Qb=A(m.elements)?ra("viewport"):m.elements[0],Sa=E(m,G),Y=Na("("+m.ignoreElements+")"),aa="__internal___pseudoelement",vb=V("style");vb.innerHTML="."+aa+'-before:before { content: "" !important; display: none !important; }.'+aa+'-after:after { content: "" !important; display: none !important; }';ja.appendChild(vb);d=d||{};var Fa=function(a){return function(b,c,p,d){var e=p*a,t=d*a;p=b+p;d=c+d;return{topLeft:ca({x:b,
y:d},{x:b,y:d-t},{x:p-e,y:c},{x:p,y:c}),topRight:ca({x:b,y:c},{x:b+e,y:c},{x:p,y:d-t},{x:p,y:d}),bottomRight:ca({x:p,y:c},{x:p,y:c+t},{x:b+e,y:d},{x:b,y:d}),bottomLeft:ca({x:p,y:d},{x:p-e,y:d},{x:b,y:c+t},{x:b,y:c})}}}(4*((s.sqrt(2)-1)/3));return function(){var a=y(Qb,null);Sa.svgRendering&&O(G.documentElement,a);C.slice.call(Qb.children,0).forEach(function(b){fa(b,a)});a.backgroundColor=c(G.documentElement,"backgroundColor");ja.removeChild(vb);return a}()};g.Preload=function(d){function e(){!B.firstRun&&
B.numLoaded>=B.numTotal&&"function"===typeof d.complete&&d.complete(B)}function f(a,b,c){var p,t=d.proxy,g;ca.href=a;a=ca.href;p="html2canvas_"+$++;c.callbackname=p;t=-1<t.indexOf("?")?t+"&":t+"?";t+="url="+encodeURIComponent(a)+"&callback="+p;g=V("script");n[p]=function(a){"error:"===a.substring(0,6)?(c.succeeded=!1,B.numLoaded++,B.numFailed++,e()):(u(b,c),b.source=a);n[p]=H;try{delete n[p]}catch(d){}g.parentNode.removeChild(g);g=null;delete c.script;delete c.callbackname};g.setAttribute("type",
"text/javascript");g.setAttribute("src",t);c.script=g;ja.appendChild(g)}function g(c,d){var p=Ca(c,d),e=p.content;"url"===e.substr(0,3)&&w.loadImage(a(e)[0].args[0]);r(p.backgroundImage,c)}function h(a){g(a,":before");g(a,":after")}function l(a){return a&&a.method&&a.args&&0<a.args.length}function r(c,d){var p;a(c).filter(l).forEach(function(a){if("url"===a.method)w.loadImage(a.args[0]);else if(a.method.match(/\-?gradient$/)){A(p)&&(p=d.getBounds());a=a.value;var b=createGradient(a,p);K(b)&&(B[a]=
{img:b,succeeded:!0},B.numTotal++,B.numLoaded++,e())}})}function s(a){var b=!1;try{k(a).forEach(function(a){s(a)})}catch(p){}try{b=a.nodeType}catch(d){b=!1}if(1===b||A(b)){h(a);try{r(c(a,"backgroundImage"),a)}catch(e){}r(a)}}function u(a,b){a.onload=function(){K(b.timer)&&Ba(b.timer);B.numLoaded++;b.succeeded=!0;a.onerror=a.onload=null;e()};a.onerror=function(){if("anonymous"===a.crossOrigin&&(Ba(b.timer),d.proxy)){var c=a.source;a=new Xa;b.img=a;a.source=c;f(a.source,a,b);return}B.numLoaded++;B.numFailed++;
b.succeeded=!1;a.onerror=a.onload=null;e()}}var B={numLoaded:0,numFailed:0,numTotal:0,cleanupDone:!1},z,w,F,$=0;F=d.elements[0]||ja;var S=F.getElementsByTagName("img"),U=S.length,ca=V("a"),p=function(a){return K(a.crossOrigin)}(new Xa),t;ca.href=pb.href;z=ca.protocol+ca.host;w={loadImage:function(a){var b,c;a&&A(B[a])&&(b=new Xa,a.match(/data:image\/.*;base64,/i)?(b.source=a.replace(/url\(['"]{0,}|['"]{0,}\)$/ig,""),c=B[a]={img:b},B.numTotal++,u(b,c)):(ca.href=a,ca.href=ca.href,ca.protocol+ca.host===
z||!0===d.allowTaint?(c=B[a]={img:b},B.numTotal++,u(b,c),b.source=a):p&&!d.allowTaint&&d.useCORS?(b.crossOrigin="anonymous",c=B[a]={img:b},B.numTotal++,u(b,c),b.source=a,b.customComplete=function(){if(this.img.complete)this.img.onerror();else this.timer=Ua(this.img.customComplete,100)}.bind(c),b.customComplete()):d.proxy&&(c=B[a]={img:b},B.numTotal++,f(a,b,c))))},cleanupDOM:function(a){var b,c;if(!B.cleanupDone){for(c in B)if(P(B,c)&&(b=B[c],"object"===typeof b&&b.callbackname&&A(b.succeeded))){n[b.callbackname]=
H;try{delete n[b.callbackname]}catch(p){}b.script&&b.script.parentNode&&(b.script.setAttribute("src","about:blank"),b.script.parentNode.removeChild(b.script));B.numLoaded++;B.numFailed++}K(n.stop)?n.stop():K(G.execCommand)&&G.execCommand("Stop",!1);K(G.close)&&G.close();B.cleanupDone=!0;a&&"string"===typeof a||e()}},renderingDone:function(){t&&Ba(t)}};0<d.timeout&&(t=Ua(w.cleanupDOM,d.timeout));B.firstRun=!0;s(F);for(F=0;F<U;F+=1)w.loadImage(S[F].getAttribute("src"));B.firstRun=!1;B.numTotal===B.numLoaded&&
e();return w};g.Renderer=function(a,b){return function(a){if("string"===typeof b.renderer&&K(g.Renderer[a]))a=g.Renderer[a](b);else if("function"===typeof a)a=a(b);else throw T("Unknown renderer");if("function"!==typeof a)throw T("Invalid renderer defined");return a}(b.renderer)(a,b,document,function(a){var b=[],c=function(a){var d=[],e=[];a.children.forEach(function(a){a.children&&0<a.children.length?(d.push(a),e.push(a.zindex)):b.push(a)});e.sort(function(a,b){return a-b});e.forEach(function(a){var b;
d.some(function(c,d){b=d;return c.zindex===a});c(d.splice(b,1)[0])})};c(a.zIndex);return b}(a),g)};g.Renderer.Canvas=function(a){function b(a,c){a.beginPath();c.forEach(function(b){a[b.name].apply(a,b.arguments)});a.closePath()}function c(g,h){switch(h.type){case "variable":g[h.name]=h.arguments;break;case "function":if("createPattern"===h.name){if(0<h.arguments[0].width&&0<h.arguments[0].height)try{g.fillStyle=g.createPattern(h.arguments[0],"repeat")}catch(l){}}else if("drawShape"===h.name)b(g,h.arguments);
else if("drawImage"===h.name){if(0<h.arguments[8]&&0<h.arguments[7]){var k;if(!(k=!a.taintTest)&&(k=a.taintTest))a:{if(-1===d.indexOf(h.arguments[0].src)){f.drawImage(h.arguments[0],0,0);try{f.getImageData(0,0,1,1)}catch(n){e=V("canvas");f=e.getContext("2d");k=!1;break a}d.push(h.arguments[0].src)}k=!0}if(k)try{g.drawImage.apply(g,h.arguments)}catch(F){}}}else g[h.name].apply(g,h.arguments)}}a=a||{};var d=[],e=V("canvas"),f=e.getContext("2d"),g=a.canvas||V("canvas");return function(a,b,d,e,f){d=g.getContext("2d");
var h;g.width=g.style.width=b.width||a.ctx.width;g.height=g.style.height=b.height||a.ctx.height;f=d.fillStyle;d.fillStyle="transparent"!==a.backgroundColor&&"rgba(0, 0, 0, 0)"!==a.backgroundColor||!K(b.background)?a.backgroundColor:b.background;d.fillRect(0,0,g.width,g.height);d.fillStyle=f;if(b.svgRendering&&K(a.svgRender))d.drawImage(a.svgRender,0,0);else for(f=0,h=e.length;f<h;f+=1)a=e.splice(0,1)[0],a.canvasPosition=a.canvasPosition||{},d.textBaseline="bottom",a.clip&&(d.save(),d.beginPath(),
d.rect(a.clip.left,a.clip.top,a.clip.width,a.clip.height),d.clip()),a.ctx.storage&&a.ctx.storage.forEach(c.bind(null,d)),a.clip&&d.restore();h=b.elements.length;return 1===h&&"object"===typeof b.elements[0]&&"BODY"!==b.elements[0].nodeName?(e=b.elements[0].getBounds(),b=V("canvas"),b.width=e.width,b.height=e.height,d=b.getContext("2d"),d.drawImage(g,e.left,e.top,e.width,e.height,0,0,e.width,e.height),g=null,b):g}};return function(a,b){function c(){g.Preload(h)}a=a.length?a:[a];var d=ra("viewport"),
e,f,h={elements:a,background:"transparent",proxy:null,timeout:0,useCORS:!1,allowTaint:!1,svgRendering:!1,ignoreElements:"IFRAME|OBJECT|PARAM",useOverflow:!0,letterRendering:!1,chinese:!1,width:null,height:null,taintTest:!1,renderer:"Canvas"},h=w(b,h);h.complete=function(a){var b=1*ia,c=1*W;W=ia=1;if("function"!==typeof h.onpreloaded||!1!==h.onpreloaded(a))if(d.setStyle(ha+"transform","scale("+ia+","+W+")"),e=g.Parse(a,h),"function"!==typeof h.onparsed||!1!==h.onparsed(e))if(f=g.Renderer(e,h),d.setStyle(ha+
"transform","scale("+b+","+c+")"),ia=b,W=c,"function"===typeof h.onrendered)h.onrendered(f)};!1!==h.async?Ua(c,0):c()}}(),ra=function(){function c(a,b){return L(s.sqrt(s.pow(b[0]-a[0],2)+s.pow(b[1]-a[1],2)))}function b(a){a&&A(a._elementID)&&(a._elementID=++Z);return a._elementID}function d(a,b){if(a&&a.retrieve)return a.retrieve(b)}function e(a,b,c){a&&a.store&&(A(c)?a.eliminate(b):a.store(b,c));return a}function u(a){return d(a,"type")}function k(a,b){return d(a,"type")===b}function w(a,b){if(d(a,
"recalc")||b)e(a,"recalc"),"center"===a.hAlign&&(a.hOffset=a.hOffset),"center"===a.vAlign&&(a.vOffset=a.vOffset)}function C(a){return k(a,"text")?a.lastChild:H}function I(a){var b=0,c;n.getSelection&&a?(c=n.getSelection(),0<c.rangeCount&&(b=c.getRangeAt(0),c=b.cloneRange(),c.selectNodeContents(a),c.setEnd(b.endContainer,b.endOffset),b=c.toString().length)):G.selection&&"Control"!==G.selection.type&&a&&(b=G.selection.createRange(),c=ja.createTextRange(),c.moveToElementText(a),c.setEndPoint("EndToEnd",
b),b=c.text.length);return b}var r=n.Element&&n.Element.prototype,l=n.HTMLElement&&n.HTMLElement.prototype,g=n.HTMLImageElement&&n.HTMLImageElement.prototype||l,h=n.Event&&n.Event.prototype,q=n.KeyboardEvent&&n.KeyboardEvent.prototype,m="hOffset vOffset hAlign vAlign width height rotate zOrder opacity visible anchorStyle wrap truncation".split(" "),x={},Z=0,J,X;if(A(r))throw T("Element needs to exist");(function(){var a={};(function(c){l.addEventListener=function(d,e,f){f=!0===f;a[d]||(a[d]=[]);var g=
this._elementID||b(this);a[d].push({id:g,type:d,fn:e,capture:f});return c.apply(this,[d,e,f])}})(l.addEventListener);(function(b){l.removeEventListener=function(c,d,e){var f=this,g=[];if(!d&&f){e=[];if("string"===E(c))e=[c];else for(var h in a)e.push(h);e.forEach(function(b){g=a[b]?g.concat(a[b].filter(function(a){return a.id===f._elementID})):g})}else f&&c?g=a[c]?g.concat(a[c].filter(function(a){return a.id===f._elementID&&a.fn===d})):g:na("nothing found");g.forEach(function(c){var d=a[c.type],e=
d&&d.indexOf(c);K(e)&&-1<e&&d.splice(e,1);d&&0===d.length&&delete a[c.type];b.apply(f,[c.type,c.fn,c.capture])})}})(l.removeEventListener)})();r.getBoundingClientRect||(r.getBoundingClientRect=function(){for(var a=this,b=a.offsetWidth,c=a.offsetHeight,b={left:0,top:0,right:b,bottom:c,width:b,height:c};a&&a!==ja;){var c=a.offsetLeft,d=a.offsetTop;b.left+=c;b.top+=d;b.right+=c;b.bottom+=d;a=a.offsetParent}return b});var ba="top bottom left right width height".split(" "),ea=function(){var a=V();return f.keys(a)}();
db(r,{getBounds:function(){var a=this.getBoundingClientRect();return{top:s.round(a.top/W),bottom:s.round((a.bottom||a.top+a.height)/W),left:s.round(a.left/ia),right:s.round(a.right/ia),width:s.round((a.width||a.right-a.left)/ia),height:s.round((a.height||a.bottom-a.top)/W)}},addClass:function(a){var b=this.className;if(!this.hasClass(a))return""!==b&&(a=" "+a),this.className=b+a,this},hasClass:function(a){return Na("\\s?\\b"+a+"\\b","g").test(this.className)},removeClass:function(a){var b=this.className;
a=Na("\\s?\\b"+a+"\\b","g");this.className=b=b.replace(a,"")},setStyles:function(a){for(var b in a||{})this.setStyle(b,a[b]);return this},getStyle:function(a){var b;b=-1===m.indexOf(a)?Wa(this,a):this[a];!A(b)&&"auto"!==b&&"inherit"!==b||-1===ba.indexOf(a)||(b=this.getBounds()[a]);return b},setStyle:function(a,b){a=-1!==a.indexOf("-")?a.camelize():a;"borderRadius"!==a||isNaN(b)?"transition"===a?a=(ha+"transition").camelize():"boxSizing"===a?a=((Ja.firefox?"-moz-":ha)+"box-sizing").camelize():"backgroundImage"===
a&&0!==b.indexOf("url(")&&(b="url("+b+")"):b=""+b+"px";-1===m.indexOf(a)?this.style[a]=b:this[a]=b;return this},getTextBounds:function(){var a=d(this,"textBounds");this.parentNode&&k(this,"text")&&A(a)&&this.data&&(a=mb(this),e(this,"textBounds",a));return a||{width:0,height:0}},store:function(a,c){var d=this._elementID||b(this);A(x[d])&&(x[d]={});x[d]&&(x[d][a]=c)},retrieve:function(a){var c=this._elementID||b(this);return x&&x[c]&&x[c][a]},eliminate:function(a){var b=this._elementID;b&&x[b]&&delete x[b][a]},
appendTo:function(a){return this.inject(a)},inject:function(a,b){if("top"===b&&a){var c=a.firstChild||H;c?a.insertBefore(this,c):b=H}b&&"bottom"!==b||!a||a.appendChild(this);w(this);return this},detach:function(){this.parentNode&&this.parentNode.removeChild&&this.parentNode.removeChild(this);return this},empty:function(a){a=a||!1;if(!this.firstChild||1!==this.firstChild.nodeType)return this;for(;this.lastChild;){var b=this.lastChild,c=a?H:b&&b.owner;c&&c.element===b?c.suicide():b&&(b.destroy&&b.destroy.call?
b.destroy():b&&b.parentNode&&b.parentNode.removeChild(b),b&&c&&na("owner still exists",c.ClassName,b))}return this},destroy:function(a){var b=this.detach(),c=b._elementID;b.empty.delay(0,b,[a]);b.removeEventListeners&&b.removeEventListeners();K(c)&&x[c]&&delete x[c];delete b._elementID;try{return sb.call(b)}finally{f.forEach(b,function(a,c){var d=E(c);!c||-1!==ea.indexOf(a)||"instance"!==d&&"object"!==d&&"element"!==d&&"array"!==d||na("memory leak?",a,d,b)})}},removeFromParentNode:function(){return this.destroy()},
createImage:function(){var a=V("img").addClass("image");na("createImage is only available in SDK");jc(this,{async:!1,onrendered:function(b){a.width=b.width;a.height=b.height;b=b.toDataURL();a.setAttribute("src",b)}});return a},select:function(){this.focusable&&!this.disabled&&this.dispatchEvent(sa("select",H,!0,!0));return this},navigate:function(a,b,d){var e=Q.now(),f=G.activeElement||this,g=this.window||this,h=this.getBounds()||{},m=h.width-(this.scrollLeft||0),l=h.height-(this.scrollTop||0),k=
[];if(g){g=K(g.querySelectorAll)?g.querySelectorAll("[tabindex]:not([class*=disabled])")||[]:g.getElementsByTagName("*")||[];b||("left"===a||"right"===a?b=[h[a],h.top+l/2]:"up"===a?b=[h.left+m/2,h.top]:"down"===a&&(b=[h.left+m/2,h.bottom]));for(var q=0;q<g.length;q++){var F=g[q],n=u(F);if(F.focusable&&!F.disabled&&"window"!==n&&F!==f&&F.allowNavigation&&"hidden"!==(Ca(F,null)||{}).visibility){var n=("innerText"===n?F.parentNode:F).getBounds()||{},r,U;if("left"===a||"right"===a){r=n["left"===a?"right":
"left"];U=n.top+n.height/2;s.abs(U-b[1])>=s.abs(n.bottom-b[1])&&(U=n.bottom-n.height/2);if(n.top<h.top||n.top>h.top+l)continue;if("right"===a&&b[0]-m/2>=r)continue;else if("left"===a&&b[0]+m/2<=r)continue}else if("up"===a||"down"===a)if(r=n.left+n.width/2,U=n["up"===a?"bottom":"top"],s.abs(r-b[0])>=s.abs(n.right-b[0])&&(r=n.right-n.width/2),"up"===a&&(b[1]+l/2<=U||n.top>=h.top))continue;else if("down"===a&&(b[1]-l/2>=U||n.top<h.top))continue;k.push({distance:c(b,[r,U]),x:n.left,y:"left"===a||"right"===
a?s.abs(n.top-h.top):n.top,el:F})}}if(0<k.length)return k.keySort({y:"up"===a?"desc":"asc",distance:"asc"}),b=k[0].el,!d&&b&&(b.focus(),X=a),Ia(e,"navigate, found "+k.length),b||!1;Ia(e,"navigate, nothing found");return!1}}});a(r,"focusedView",function(){var a=G.activeElement,b=a.window,c=this.window,d=u(a);if("window"===d||a===ja||!c)return!1;if(b&&"dialog"===u(b))return b;if("view"===d)return a==c?a:!1;for(a=a.parentNode;a;){if(a===c)return a;a=a.parentNode}return!1});a(r,"window",function(){if(k(this,
"view"))return this;for(var a=this.parentNode,b=u(a);a&&"view"!==b&&"dialog"!==b;){if("window"===b)return!1;a=a.parentNode;b=u(a)}return a});a(r,"visible",function(){return"hidden"!==this.style.visibility});z(r,"visible",function(a){this.style.visibility=!1===a?"hidden":null});a(r,"focusable",function(){return this.wantsFocus});a(r,"hasFocus",function(){return this===G.activeElement});var P=function(a){var b=a&&a.target||this;if(b&&b!==G.activeElement&&(a.type!==ab||b.allowNavigation)){for(var c=
u(b);b&&"window"!==c&&"view"!==c&&"dialog"!==c;){if(b===G.activeElement)return;if(!b.hasFocus&&b.focusable&&!b.disabled){switch(a.type){case ab:b.focus();break;case ib:b.removeClass("focused")}return}b=b.parentNode;c=u(b)}a.stopPropagation();a.preventDefault()}},B=function(a){if(!a.defaultPrevented)switch(a.type){case "focus":this.addClass("focused");break;case "blur":this.removeClass("focused")}},R=["focus","blur"];a(r,"wantsFocus",function(){return this.hasAttribute("tabindex")});z(r,"wantsFocus",
function(a){var b=u(this);!0===a?(this.setAttribute("tabindex",-1),R.forEach(function(a){this.addEventListener(a,B)},this),"window"!==b&&"view"!==b&&"dialog"!==b&&(this.addEventListener(ab,P),this.addEventListener(ib,P))):("window"!==b&&"view"!==b&&"dialog"!==b&&(this.removeEventListener(ab,P),this.removeEventListener(ib,P)),R.forEach(function(a){this.removeEventListener(a,B)},this),this.removeAttribute("tabindex"))});a(r,"frozen",function(){return this.hasClass("frozen")});z(r,"frozen",function(a){var b=
u(this);!0===a?this.addClass("text"===b?"frozenText":"frozen"):(this.removeClass("text"===b?"frozenText":"frozen"),w(this))});a(r,"updatesEnabled",function(){return!this.frozen});z(r,"updatesEnabled",function(a){this.frozen=!1===a});a(r,"zOrder",function(){return this.style.zIndex});z(r,"zOrder",function(a){this.style.zIndex=a});a(r,"opacity",function(){return parseFloat(this.style.opacity||1)});z(r,"opacity",function(a){this.style.opacity=1>a?a:null});a(r,"allowNavigation",function(){var a=u(this);
if(!1===d(this,"allowNavigation"))return!1;if("view"===a||"window"===a||"dialog"===a)return!0;for(var b=this.parentNode;b;){a=u(b);if(!1===d(b,"allowNavigation"))return!1;if("view"===a||"window"===a||"dialog"===a)break;b=b.parentNode}return!0});z(r,"allowNavigation",function(a){e(this,"allowNavigation",!0===a?H:!1)});a(r,"disabled",function(){return this.hasClass("disabled")});z(r,"disabled",function(a){!0===a?this.addClass("disabled"):this.removeClass("disabled")});var N={h:"left",v:"top",width:"h",
height:"v"},F={bottom:"top",right:"left"};["h","v"].forEach(function(b){a(r,b+"Align",function(){return d(this,b+"Align")||N[b]});z(r,b+"Align",function(a){a=a||N[b];var c=d(this,b+"Align")||N[b];if(c!==a){e(this,b+"Align",a);a=this.style;var f=this[b+"Offset"]||0;"center"===c?(eliminate(this,b+"Offset"),c="margin"+N[b].capitalize(),a[N[b]]=a[c]=null):a[c]=null;this[b+"Offset"]=f}});a(r,b+"Offset",function(){var a=this[b+"Align"];if("center"===a)return d(this,b+"Offset")||0;a=Wa(this,a)||0;return"auto"!==
a&&"inherit"!==a&&a?parseFloat(a):0});z(r,b+"Offset",function(a){a=a||0;var c=u(this),d=this[b+"Align"],f=this.style;"list"!==c&&"item"!==c||"absolute"===f.position?"center"===d?(e(this,b+"Offset",a),d=("h"===b?this.width:this.height)||0,c="margin"+N[b].capitalize(),0<d?(f[c]=a+-1*(d/2)+"px",f[N[b]]="50%"):e(this,"recalc",!0)):(c=F[d],"auto"===(c?Wa(this,c):"auto")||f[c]||(f[c]="auto"),f[d]=a):f["margin"+d.capitalize()]=a})});["width","height"].forEach(function(b){a(r,b,function(){var a=Wa(this,b)||
0,c=0;k(this,"text")&&"height"===b&&(c=this.lineHeight);return"auto"!==a&&"inherit"!==a&&a&&-1===a.indexOf("%")?parseFloat(a):c});z(r,b,function(a){var c=N[b];k(this,"image")?this.setAttribute(b,a):this.style[b]=isNaN(a)||!a?a:a+"px";"center"===this[c+"Align"]&&e(this,"recalc",!0);w(this)})});a(r,"lastNavigation",function(){return X});a(r,"currentNavigation",function(){return J});a(r,"owner",function(){return d(this,"owner")});z(r,"owner",function(a){e(this,"owner",a||H)});a(r,"rotate",function(){return this.retrieve("rotate")||
0});z(r,"rotate",function(a){var b=this.style,c=b[hb],c=c?new jb(c):new jb;b[hb]=c.rotateAxisAngle(0,0,0,a);this.store("rotate",a)});a(r,"html",function(){return this.innerHTML||""});z(r,"html",function(a){this.innerHTML=a||""});var $=function(a){(a&&a.target||this).dispatchEvent(sa("layoutchange"))};a(r,"allowChangeEvents",function(){return d(this,"allowChangeEvents")||!1});z(r,"allowChangeEvents",function(a){a?this.addEventListener("scroll",$):this.removeEventListener("scroll",$);e(this,"allowChangeEvents",
a||H)});["data","text"].forEach(function(b){a(r,b,function(){var a=C(this);return a&&a.html||""});z(r,b,function(a){var b=C(this);b&&b.html!==a&&(e(this,"textBounds"),e(this,"totalLines"),e(this,"visibleLines"),b.height=null,b.html=a||"",!0===this.allowChangeEvents&&($.call(this),this.dispatchEvent(sa("change"))))})});a(r,"cursor",function(){var a=C(this);return a&&this.editable?I(a)||0:!1});z(r,"cursor",function(a){var b=C(this);if(b&&-1<a&&n.getSelection&&b&&b.firstChild){var c=n.getSelection();
if(0<c.rangeCount){var d=c.getRangeAt(0),e=G.activeElement;b.focus();d.collapse(!0);try{d.setStart(b.firstChild,a),d.setEnd(b.firstChild,a),c.removeAllRanges(),c.addRange(d)}catch(f){}e!==b&&e.focus()}}});a(r,"editable",function(){var a=C(this);return a&&a.hasAttribute("contenteditable")||H});z(r,"editable",function(a){});a(r,"color",function(){return this.style.color||H});z(r,"color",function(a){this.style.color=a});a(r,"font",function(){return this.style.fontFamily||H});z(r,"font",function(a){this.style.fontFamily=
a});a(r,"truncated",function(){var a=C(this);if(a)return"ellipsis"===a.style.textOverflow?!0:!1});a(r,"truncation",function(){var a=C(this);return a&&"ellipsis"===a.style.textOverflow?"end":H});z(r,"truncation",function(a){var b=C(this);b&&(b=b.style,"end"===a?(b.overflow="hidden",b.textOverflow="ellipsis"):(b.overflow="visible",b.textOverflow="clip"))});a(r,"lineHeight",function(){return Eb(this)});z(r,"lineHeight",function(a){this.style.lineHeight=a});a(r,"textWidth",function(){return this.getTextBounds().width});
a(r,"textHeight",function(){return this.getTextBounds().height||this.lineHeight});a(r,"totalLines",function(){var a=C(this);if(a){var b=d(this,"totalLines");if(!b&&(a=mb(a))){b=a.height/this.lineHeight;if(isNaN(b))return 0;b=s.ceil(b);e(this,"totalLines",b)}return b}});a(r,"visibleLines",function(){if(k(this,"text")){var a=d(this,"visibleLines");if(!a){if(""===(this.data||this.html||""))a=0;else{var a=this.clientHeight,b=Eb(this);!a&&this.height?a=L(this.height):!a&&this.parentNode&&this.parentNode.width&&
(a=mb(this,!0).height);a=s.max(s.floor(a/b),0)}e(this,"visibleLines",a)}return a}});z(r,"visibleLines",function(a){k(this,"text")&&(this.height=a*this.lineHeight)});a(r,"firstLine",function(){if(k(this,"text"))return L((this.scrollTop||0)/this.lineHeight)});z(r,"firstLine",function(a){if(k(this,"text")){if(0<a){var b=this.totalLines/this.visibleLines,c=s.floor(b),d=s.ceil(b);c!==d&&(e(this,"totalLines",this.visibleLines*d),b=C(this),c=b.height/c*d,b.height=isFinite(c)?c:null)}this.scrollTop=a*this.lineHeight}});
a(r,"wrap",function(){return"nowrap"!==Wa(this,"white-space")});z(r,"wrap",function(a){var b=C(this);this.style.whiteSpace=a?"normal":"nowrap";b&&(b.style.wordWrap=a?"break-word":"normal")});a(r,"anchorStyle",function(){var a=C(this);if(a)return((a.style.textAlign||"left")+"-"+(a.style.verticalAlign||"top")).camelize()});z(r,"anchorStyle",function(a){var b=C(this);b&&a&&(a=Db(a),b=b.style,b.textAlign=a[0]||null,b.verticalAlign=a[1]||null)});a(l,"removeEventListeners",function(){return this.removeEventListener});
a(g,"aspect",function(){return d(this,"aspect")});var S="fit parent exact height width auto crop source original".split(" ");z(g,"aspect",function(a){-1!==S.indexOf(a)?e(this,"aspect",a):e(this,"aspect")});a(g,"source",function(){return this.getAttribute("src")||""});z(g,"source",function(a){this.hasAttribute("src")&&this.removeAttribute("src");a&&this.setAttribute("src",a)});a(r,"id",function(){return this.getAttribute("id")});z(r,"id",function(a){na("Element.id is not safe, please use Element.setAttribute()");
this.setAttribute("id",a)});a(g,"src",function(){return this.getAttribute("src")||""});z(g,"src",function(a){na("Image.src is not safe, please use Image.source");a?this.setAttribute("src",a):this.removeAttribute("src")});a(g,"remoteAsync",function(){return!1!==d(this,"remoteAsync")});z(g,"remoteAsync",function(a){e(this,"remoteAsync",!1!==a)});["srcWidth","srcHeight"].forEach(function(b){a(g,b,function(){return this[b.replace("src","natural")]})});var U={38:"up",40:"down",37:"left",39:"right",13:"enter",
8:"back",32:"space",16:"shift",9:"tab",983041:"enter",917536:"back",917555:"tab",3:"back"},ca={16:"shift",8:"backspace",13:"enter",32:"space"};n.addEventListener("mousedown",function(a){var b=a.target||G.activeElement;if(b&&1===a.which){if(b.allowNavigation){for(;b&&!b.focusable;)b=b.parentNode;var c=u(b);b&&"window"!==c&&"view"!==c&&"dialog"!==c&&b.select()}a.preventDefault()}});h&&function(a){h.preventDefault=function(){a&&a.call(this);this.returnValue=!1}}(h.preventDefault);a(q,"key",function(){var a=
this.keyCode||this.which,b=this.shiftKey||!1,c=b?ca[a]:U[a];c||!this.isChar&&!this.isNumeric||(c=D.fromCharCode(a))&&(c=b?oa(c):ga(c));return c});a(q,"isChar",function(){var a=this.keyCode||this.which;return 65<=a&&90>=a||97<=a&&122>=a||!1});a(q,"isNumeric",function(){var a=this.keyCode||this.which;return 48<=a&&57>=a||!1});n.addEventListener("keyup",function(a){var b=a.keyCode||a.which||0,c=G.activeElement,b=U[b]||U[b]||null;if(!a.defaultPrevented&&c&&c&&c.hasAttribute("contenteditable")&&"shift"!==
b){var b=I(c.firstChild)||0,d=c.html.stripTags();c.dispatchEvent(sa("cursor",{caret:b,size:d.length,"char":d.charAt(b),key:a.key,shift:a.shiftKey},!0,!0))}});n.addEventListener("keydown",function(a){var b=a.keyCode||a.which||0,c=G.activeElement,b=U[b]||U[b]||null,d;if(!a.defaultPrevented&&c){if(c&&c.hasAttribute("contenteditable")){var e=I(c.firstChild),f=c.html.stripTags().length;if("back"===b&&0===e&&0===f)d=sa("back",H,!0,!0);else if(("left"===b||"up"===b)&&0!==e||("right"===b||"down"===b)&&e!==
f)return}else"back"===b&&(d=sa("back",H,!0,!0));if("up"===b||"down"===b||"left"===b||"right"===b)d=sa("navigate",{direction:b},!0,!0),J=b;else if("enter"===b||"select"===b){c.select();return}c&&K(d)&&(c.dispatchEvent(d),a.preventDefault())}});n.addEventListener("navigate",function(a){var b=a.detail&&a.detail.direction||J,c=a.target||G.activeElement;K(b)&&!a.defaultPrevented&&c&&(c.navigate(b)||c.dispatchEvent(sa("navigateoutofbounds",{direction:b},!0,!0)));J=H});return function(a,b){var c=this||G;
c===n&&(c=G);b=b||c;"string"===E(a)&&K(b)&&(a=b.getElementById(a));return(a=a&&a.nodeType&&a.owner?a.owner:a)||H}}(),kc=function(c){function b(b,c,d,e){function f(){h=!0;d&&d.stopPropagation&&d.stopPropagation.call&&d.stopPropagation()}function g(){m=!0;d&&d.preventDefault&&d.preventDefault.call&&d.preventDefault()}if(!b)throw T("You can't create an event with no type");var h=!1,m=!1;a(this,"type",function(){return b});a(this,"payload",function(){return c||d.detail});a(this,"Event",function(){return d});
a(this,"HostEvent",function(){return e});a(this,"stopPropagation",function(){return f});a(this,"preventDefault",function(){return g});a(this,"propagationStopped",function(){return h});a(this,"defaultPrevented",function(){return m})}function d(a,b,c,d){if(!A(l[a])){"string"!==E(c)&&(c=X.stringify(c||{}));a=l[a];b=new a.HostEvent(b,c);b.error=!1;b.onDoneCalled=!1;b.onDone=d;try{a.widget.onHostEvent.call(a,b)}catch(e){a.error(e),b.error=!0}b.onDone&&!b.onDoneCalled&&(b.onDoneCalled=!0,b.onDone.call(a,
b))}}function e(){function c(a){return n[a]}function d(a){delete n[a];p({key:a,value:null,deleted:!0})}function e(a,b){n[a]=ma(b);p({key:a,value:b})}function g(a){n={};a&&(k=[])}function h(a){return n[a]!==H}function p(a){var c=new b(l,a);k.forEach(function(a){a(c)})}function m(a,b){f.forEach(n,a,b)}var l="onBroadcast",n={},k=[],q={};a(q,l,function(){return k.length?k:[]});z(q,l,function(a){if(a instanceof Z)k=a;else throw T("MAF.messages.subscribe: Invalid setting of subscribers");});a(this,"fetch",
function(){return c});a(this,"exists",function(){return h});a(this,"store",function(){return e});a(this,"remove",function(){return d});a(this,"reset",function(){return g});a(this,"forEach",function(){return m});a(this,"eventType",function(){return l});a(this,"subscribers",function(){return q})}function u(b){function c(a,b){var d="";if(b){var e={};f.forEach(b,function(a,c){switch(a){case "width":case "height":case "margin":case "marginTop":case "marginLeft":case "marginBottom":case "marginRight":case "padding":case "paddingTop":case "paddingLeft":case "paddingBottom":case "paddingRight":case "fontSize":d+=
a.hyphenate()+":"+(isNaN(c)||!c?c:c+"px")+";";break;case "borderRadius":d=isNaN(c)?d+(a.hyphenate()+":"+c+";"):d+(a.hyphenate()+":"+c+"px;");break;case "boxSizing":d+=(Ja.firefox?"-moz-":ha)+a.hyphenate()+":"+c+";";break;case "transition":d+=ha+a+":"+c+";";break;case "wrap":!0===c&&(d+="white-space:normal;",e.wordWrap="break-word");break;case "anchorStyle":var f=Db(c);e.textAlign=f[0]||"left";e.verticalAlign=f[1]||"top";break;case "truncation":e.overflow="hidden";e.textOverflow="end"===c?"ellipsis":
"clip";break;case "visible":c||(d+="visibility:hidden;");break;case "hAlign":case "vAlign":break;case "hOffset":case "vOffset":d+=(b[a.charAt(0)+"Align"]||q[a]).hyphenate()+":"+(isNaN(c)||!c?c:c+"px")+";";break;case "zOrder":d+="z-index:"+c+";";break;default:d+=a.hyphenate()+":"+c+";"}});0<f.keys(e).length&&c(a+k,e)}""!==d&&(l[a]=La(a+"{"+d+"}\n"),m.appendChild(l[a]))}function d(a,b,c){var e=l[a];if(e){var f=e.textContent,f=f.replace(a,a+","+b);e.textContent=f}c||s.forEach(function(c){l[a+c]&&d(a+
c,b+c,!0)})}function e(a,b){var c=h[a];return ma(c&&b?c[b]:c)}function g(a,b){h[a]=h[b]}var h={},m=kb(""),l={},n={},k=" .innerText",q={hOffset:"left",vOffset:"top"},r=this,s=[k,".focused",".selected"];h.get=e;h.add=function(a,b){"object"===E(a)?f.forEach(a,function(a,b){"object"===E(b)?(h[a]=ma(b),f.forEach(b,function(b,d){"styles"===b?c("."+a,d):d.styles&&("normal"===b?c("."+a,d.styles):c("."+a+"."+b,d.styles),h[a].styles=h[a].styles||{},h[a].styles[b]=ma(d.styles))})):(d("."+b,"."+a),g(a,b))}):
h[a]=ma(b)};h.alias=g;h.edit=function(a,b){h[a]=va(h[a],b)};a(this,"storage",function(){return h});this.renderSkin=function(a,b,c,d,e){var f=a+"-"+b+"-"+c+"x"+d;A(n[f])&&(n[f]=h[a]&&h[a].renderSkin&&h[a].renderSkin(b,c,d,e,r));return n[f]&&n[f].cloneNode(!0)};this.applyLayer=function(a,b,c){return b&&h[a]&&h[a].applyLayer(b.element||b,c,r)};this.getStyles=function(a,b){var c=e(a,"styles")||{};return c&&c[b||"normal"]||c}}function k(){(new Qa({url:"//"+Pa[0]+"."+ta+".com/?maf=true",jsonp:!0,timeout:3E3,
onSuccess:function(a){ua=a;var b=sa("geochanged");f.forEach(l,function(a,c){c.dispatchEvent(b)})},onFailure:function(){this.send.delay(6E4,this)}})).send()}function w(){function c(){"hash host hostname href pathname port protocol search".split(" ").forEach(function(b){a(this,b,function(){return pb[b]||""})},this)}function d(a){a&&a.url&&!Ma.test(a.url)&&(a.url="apps/"+(x||m)+"/Contents/"+a.url);return new Qa(a)}function e(b,c,d){function f(a){return Ha(k+(c?"0"+l:"")+a)}function g(a){n.set(f(a));
return!0}function h(a){return n.get(f(a))}function p(a,b){E(b);n.set(f(a),"object"===b?va(h(a)||{},b):b);return!0}function m(a,b){return n.has(f(a))}var l=":";d&&(d+=l);var k=(d||"")+b+(c?l:""),n=xa.storage;a(this,"remove",function(){return g});a(this,"set",function(){return p});a(this,"get",function(){return h});a(this,"has",function(){return m})}function g(a){a=a||{};var b=g.Mutators,c=g.Methods,d=g.Libraries,e=function(){for(var a in this)this[a]&&(this[a]&&this[a].call&&this[a].apply?this[a].__class__=
this[a].__class__||e:this[a]=ma(this[a]));this.constructor=e;if(g._prototyping)return this;a=!1===e.prototype.config?{}:arguments[0]||{};this._classID=(a.ClassName||this.ClassName||"Instance")+"-"+ ++w;a.methods&&b.Implements(this,a.methods);delete a.methods;this.addEvents(a.events);delete a.events;this.setConfig(a);var c;try{c=K(this.initialize)&&this.initialize.call?this.initialize.apply(this,arguments):this,a.initialize&&a.initialize.call(this)}catch(d){v.error(d)}return c},f;for(f in b)b[f]&&
a[f]&&(a=b[f](a,a[f],e),delete a[f]);["Config","Events"].forEach(function(c){b.Implements(a,d[c])});a.toString=function(){return"[Class] {"+(this._classID||"Proto")+"}"};db(e,this);e.constructor=g;e.prototype=a;e.implement=c.implement;e.getDefaults=c.getDefaults;e.inheritsFrom=c.inheritsFrom;a.ClassName&&(e.displayName=a.ClassName);return e}function k(a,b){var c=a||"div";b=b||{};b.styles=b.styles||{};switch(a){case "image":c="img";break;case "list":c="ul";break;case "item":c="li";break;case "window":A(b.focus)&&
(b.focus=!0);c="div";break;case "dialog":case "view":case "text":c="div";break;default:a="frame",c="div"}c=V(c).addClass(a);c.store("type",a);b.id&&c.setAttribute("id",b.id);!0===b.focus&&"image"!==a&&(c.wantsFocus=b.focus);!0===b.frozen&&(c.frozen=!0);if(b.events)for(var d in b.events)b.events[d]&&c.addEventListener(d,b.events[d]);"image"===a?((b.src||b.source)&&c.setAttribute("src",b.src||b.source),c.addEventListener("load",function(a){a=a.target||this;var b=Gb(a.frozen);a.frozen=!0;a.hasAttribute("width")||
a.setAttribute("width",a.srcWidth);a.hasAttribute("height")||a.setAttribute("height",a.srcHeight);"center"===a.hAlign&&(a.hOffset=a.hOffset);"center"===a.vAlign&&(a.vOffset=a.vOffset);b||(a.frozen=!1)})):"text"===a&&(d=V("span"),d.store("type","innerText"),d.addClass("innerText"),d.html=b.label||b.data||b.text||"",d.inject(c));b.width&&(b.styles.width=b.width);b.height&&(b.styles.height=b.height);b.styles&&c.setStyles(b.styles);return c}function p(b,c){var d=null,e=!1;this.onTimerFired=c;this.interval=
b||0;this.start=function(){null===d&&!e&&0<this.interval&&this.onTimerFired&&(d=Ta(this.onTimerFired.bind(this),1E3*this.interval),e=!0)};this.stop=function(){null!==d&&e&&(e=!1,xb(d),d=null)};this.reset=function(){this.stop();this.start()};a(this,"ticking",function(){return!0===e});z(this,"ticking",function(a){!0===a?this.start():this.stop()})}function q(a){var b=new Ea;b.open("GET",ba.scripts+"/"+a+("?"+Q.now()||""),!1);b.send();var c="";200===b.status&&b.responseText?(c=("\n"+b.responseText.replace(Ya,
"")).replace(tb,function(a,b){return q(b)}),c+="\n//@ sourceURL="+ba.scripts+"/"+a+"\n"):na("error loading maf-ui file: "+a);return c}var r=Q.now(),s={},w=0,v=this;v.console={};["log","warn","error"].forEach(function(b){a(this.console,b,function(){return function(){var a=[x+"*"].concat(la(arguments)),a="concat"===ba.console?[la(a).join(" ")]:a;ea[b].apply(ea,a)}});a(this,b,function(){return this.console[b]})},v);a(v,"destroy",function(){return function(){s=v=null}});a(v,"DEBUG",function(){return ba.debug&&
-1!==ba.debug.indexOf("ui")});["window","document","widget","filesystem"].forEach(function(b){a(v,b,function(){if(K(x))return l[x][b];throw T("No App is active");})});var B=function(){return{get:function(a){var b=la(arguments),c="";"stack"===a&&(c+='<span class="icon-stack">',b.splice(0,1));b.forEach(function(a){var b="";[].concat(a).forEach(function(a){b+="icon-"+a+" "});c+='<i class="'+b.trim()+'"></i>'});"stack"===a&&(c+="</span>");return c}}}();a(v,"FontAwesome",function(){return B});a(v,"Tuple",
function(){return Xb});a(v,"CSSMatrix",function(){return jb});a(v,"HashMap",function(){return dc});a(v,"getter",function(){return a});a(v,"setter",function(){return z});a(v,"current",function(){return l[x]});a(v,"atob",function(){return rb});a(v,"btoa",function(){return gb});a(v,"getComputedStyle",function(){return Ca});a(v,"md5",function(){return Ha});a(v,"sha1",function(){return cc});a(v,"JSON",function(){return X});a(v,"XMLDOM",function(){return Ib});a(v,"unlink",function(){return ma});a(v,"clone",
function(){return ma});a(v,"typeOf",function(){return E});a(v,"random",function(){return Rb});["open","emptyFn","confirm","prompt"].forEach(function(b){a(this,b,function(){return I})},v);var ka={Theme:new u,Library:{},element:{},control:{},dialogs:{},media:{},system:{Event:b},keyboard:{},utility:{vsprintf:yb},views:{}},C=ka.Library;c.prototype={constructor:c,toString:function(){return this.valueOf()},valueOf:function(){return D(pb)},reload:I,replace:I,assign:I};a(v,"location",function(){return new c});
a(v,"navigator",function(){return qb});var G=function(){function b(){var c=b.__instances__++;a(this,"id",function(){return Ha(this.ip+"P"+c)});a(this,"name",function(){return"Guest"});a(this,"ageRating",function(){return 0});a(this,"household",function(){return Ha(this.getIPAddress())});a(this,"operator",function(){return Ha(ta)});a(this,"packages",function(){return[]});a(this,"country",function(){return ga(ua&&ua.geo&&ua.geo.country||"nl")});a(this,"countryName",function(){return ua&&ua.geo&&ua.geo.countryName});
a(this,"language",function(){return ba.language||"en"});a(this,"city",function(){return ua&&ua.geo&&ua.geo.city});a(this,"ip",function(){return ua.ip||"127.0.0.1"});a(this,"mac",function(){return"00:00:00:00:00:00"});a(this,"locale",function(){return v.widget.locale||this.language+"-"+oa(this.country)});a(this,"hasPIN",function(){return!0});a(this,"locked",function(){return!1})}b.__instances__=0;b.constructor={constructor:b,validatePIN:function(a,b){if(!this.hasPIN)return!0;if(this.locked)return!1;
switch(b){case "master":return 1111===L(a);case "adult":return 0===L(a);case "youth":return 2222===L(a);case "purchase":return 3333===L(a)}return!1}};return new b}();a(v,"profile",function(){return G});var Ga=function(){function b(){var c=0,d=[{id:1,name:"Channel 1"},{id:2,name:"Channel 2"},{id:3,name:"Channel 3"},{id:5,name:"Channel 5"}];a(this,"channel",function(){return d[c]});z(this,"channel",function(a){var b=-1;switch(E(a)){case "string":"up"===a?(c++,c.length===c&&(c=0)):"down"===a&&(c--,0>
c&&(c=d.length-c));break;case "number":b=d.map(function(b){return b.id===a}).indexOf(!0)}-1<b&&(c=b)});a(this,"currentProgram",function(){return{title:null,description:null,start:Q.now(),duration:0}});a(this,"nextProgram",function(){return this.currentProgram});a(this,"blockedChannels",function(){return[]});a(this,"resizedChannels",function(){return[]})}b.constructor={constructor:b,pushNotification:I};return new b}();a(v,"tv",function(){return Ga});a(v,"Browser",function(){return Ja});a(ka,"Browser",
function(){return Ja});a(ka,"Event",function(){return b});a(ka,"Request",function(){return d});["Event","Request","Theme","Library"].forEach(function(b){a(this,b,function(){return ka[b]})},v);["innerWidth","outerWidth"].forEach(function(b){a(this,b,function(){return Za})},v);["innerHeight","outerHeight"].forEach(function(b){a(this,b,function(){return $a})},v);a(v,"screen",function(){var a=this.innerWidth,b=this.innerHeight;return{availWidth:a,availHeight:b,width:a,height:b}});a(v,"XMLHttpRequest",
function(){return Ea});e.prototype={constructor:e};var H=new e("pd",!0);a(v,"GenericStorage",function(){return e});a(v,"currentProfileData",function(){return H});"Array Boolean Date Function Number String RegExp".split(" ").forEach(function(b){var c,d="is"+b;/String|Number|Boolean/.test(b)&&(c=ga(b));ka[d]="Array"===b&&Z.isArray||function(a){return c&&E(a)===c?!0:Hb.call(a)==="[object "+b+"]"};a(this,d,function(){return this.MAF[d]})},v);a(v,"isEmpty",function(){return wb});C.Storage={store:function(a,
b){var c=this._classID;A(s[c])&&(s[c]={});s[c][a]=b},retrieve:function(a){var b=this._classID;return s[b]&&s[b][a]},eliminate:function(a){var b=this._classID;s[b]&&s[b][a]&&delete s[b][a]}};C.DOM={appendChild:function(a){a=ra(a);if(!a||!a.element)return!1;this.children.push(a);a.owner=this;a.element.inject(this.element);this.fire("onChildAppended",{child:a});a.fire("onAppend",{parent:this.element,owner:this});return this},adopt:function(){la(arguments).forEach(this.appendChild,this);return this},
appendTo:function(a){a=ra(a);if(!a||!a.element)return!1;a.appendChild(this);return this},moveTo:function(a){var b=ra(this.element);b&&b.owner?b.owner.detachChild(b):b&&b.detachChild(b);b.appendTo(a);return this},detachChild:function(a){var b;if(this.children){if("string"===E(a)){switch(a){case "first":b=0;break;case "last":b=this.children.length-1}a=this.children[b]}else"number"===E(a)?(b=a,a=this.children[b]):a&&a.owner===this&&(b=this.children.indexOf(a));K(b)&&this.children.splice(b,1)}delete a.owner;
return a},removeChild:function(a){this.detachChild(a);a.element.owner=null;a.element.destroy();this.fire("onChildRemoved",{child:a});return a},suicide:function(){var a=ra(this.element),b=D(this.ClassName);a&&a.owner?a.owner.removeChild(a):a&&a.removeChild(a);delete this.subscribers;delete this.element;if(this.children){for(;this.children.length;)this.children.pop().suicide();delete this.children}delete this.config;try{return sb.call(this)}finally{f.forEach(this,function(a,c){var d=E(c);"object"!==
d&&"array"!==d&&"instance"!==d||na("memory leak?",b,a,d)})}},empty:function(a){for(;this.children.length;)this.removeChild(this.children[0]);this.children=[];for(a&&this.removeSkin&&this.removeSkin();a&&this.element&&this.element.childNodes.length;)this.element.removeChild(this.element.childNodes.item(0));return this}};C.Styles={setStyle:function(a,b){"backgroundImage"!==a||Ma.test(b)||(b=(v.current&&v.current.filesystem&&v.current.filesystem.rootPath||"apps/"+(x||m)+"/Contents/")+b);this.element.setStyle(a,
b);return this},getStyle:function(a){return this.element.getStyle(a)},setStyles:function(a){for(var b in a||{})this.setStyle(b,a[b]);return this},getStylesCopy:function(){var a={},b=this.element;if(b)for(var c in b.style)K(b.style[c])&&(a[c]=b.style[c]);"height width hOffset vOffset hAlign vAlign".split(" ").forEach(function(b){K(this[b])&&(a[b]=this[b])},b);return a}};C.Themes={renderSkin:function(a,b,c){switch(a){case "normal":case "focused":case "disabled":case "activated":case "deactivated":c=
b,b=a,a=null}b=b||"normal";a=a||this.config.ClassName||this.ClassName;var d=this.element;this.removeSkin();(a=ka.Theme.renderSkin(a,b,d.width,d.height,c))&&a.addClass&&(this.skinElement=a.addClass("skin"),a.inject(this.element,"top"));return this},removeSkin:function(a){this.skinElement&&(this.skinElement.destroy(),this.skinElement=null,delete this.skinElement);var b=this.element.childNodes;if(a=a||this.children.length!==b.length)for(a=0;a<b.length;a++){var c=b.item(a);c.hasClass("skin")&&c.destroy()}return this}};
g.prototype={constructor:g};a(v,"Class",function(){return g});a(ka,"Class",function(){return g});a(g,"__instances__",function(){return w});g.helpers={extend:db,merge:va,unlink:ma,type:E,empty:wb,dump:I,contains:Sb,splat:Tb,later:Ub};g.Mutators={Protected:function(a,b,c){f.forEach(b,function(a,b){var d=function(){var c=arguments.callee&&arguments.callee.caller;if(c.allowed||c&&c.__class__&&this.constructor.inheritsFrom(c.__class__))return b.apply(this,arguments);throw T('Calling protected function "'+
a+'"');};d.__class__=b.__class__=c;z(d,"__parent__",function(a){b.__parent__=a});this[a]=d},a);return a},Extends:function(a,b){g._prototyping=b;var c=new b;delete c.parent;c=g.Methods.inherit(c,a);delete g._prototyping;return c},Implements:function(a,b){(b instanceof Z?b:[b]).forEach(function(b){g._prototyping=b;db(a,"class"===E(b)?new b:b);delete g._prototyping});return a}};g.Methods={inherit:function(a,b){var c=arguments.callee.caller,d;for(d in b)if(b[d]){var e=b[d],f=a[d],g=E(e);f&&"function"===
g?e!==f&&(c?(e.__parent__=f,a[d]=e):this.override(a,d,e)):a[d]=f&&"object"===g?va(f,e):e}c&&(a.parent=function(){var a=arguments.callee.caller;if(!a||!a.__parent__)throw T("no parent function found in class: "+this.ClassName);return a.__parent__.apply(this,arguments)});return a},override:function(a,b,c){var d=g._prototyping;d&&a[b]!==d[b]&&(d=null);a[b]=function(){var e=this.parent;this.parent=d?d[b]:a[b];var f=c.apply(this,arguments);this.parent=e;return f}},implement:function(){var a=this.prototype;
la(arguments).forEach(function(b){this.inherit(a,b)},this);return this},getDefaults:function(){return ma(this.prototype.config)},inheritsFrom:function(a){if(this===a)return!0;for(var b=this.prototype.constructor,c=b===a;!c&&b!==f;)b=b.prototype.constructor,c=a===b;return c},proxyProperty:function(b,c,d){a(b,d,function(){return c[d]});z(b,d,function(a){c[d]=a;return c[d]})},proxyProperties:function(a,b,c){for(var d=0;d<c.length;d++)this.proxyProperty(a,b,c[d])}};g.Libraries={Config:{setConfig:function(a){this.config=
va(this.config,a);return this},getConfig:function(){return ma(this.config)},getDefaults:function(){return this.constructor.getDefaults()}},Events:{subscribers:{},fire:W,addEvents:function(a){for(var b in a)if(a[b]&&/^on[A-Z]/.test(b)){var c=a[b];c.subscribeTo&&c.subscribeTo(this,b,this)}return this},getSubscriberCount:function(a){var b={length:0};if(a)b=this.subscribers[a];else for(var c in this.subscribers)if(a=this.subscribers[c])b.length+=a.length;return b&&b.length||0}}};k.prototype={constructor:k};
a(k,"__instances__",function(){return elementInstances});a(v,"Element",function(){return k});"Window View Dialog Frame Text Image List Item".split(" ").forEach(function(b){a(this,b,function(){var a=function(a){return new k(ga(b),a)};a.prototype={constructor:a};"Image"===b&&(a.WHITE=Lb,a.BLANK=$b,a.CHECKERS=Mb);return a})},v);p.prototype={constructor:p};a(v,"Timer",function(){return p});a(v,"createDocumentFragment",function(){return Bb});var J=[];a(v,"defines",function(){return J});a(v,"define",function(){return function(a,
b,c){0===a.indexOf("MAF")?Ab(a.substring(4),ka,b.bind(v)):J.push(Ab(a,v,b.bind(v)));c&&ka.Theme.storage.add(c)}});["messages","mediaplayer","HostEventManager","application"].forEach(function(b){a(ka,b,function(){return v.current&&v.current.MAF[b]})});var Ka=function(){function b(a,c){e.apply(this,arguments)}b.ISO8601=b.W3C=b.ATOM=b.JSON="yyyy-MM-ddTHH:mm:sszzz";b.RFC822=b.RFC1123=b.RFC2822=b.RSS="ddd, dd MMM yyyy HH:mm:ss zzz";b.RFC850=b.RFC1036=b.COOKIE="dddd, dd-MMM-yy HH:mm:ss zzz";b.CTIME="ddd MMM d HH:mm:ss yyyy";
b.DATETIME="yyyy-MM-dd HH:mm:ss";a(b,"FORMAT_DEFAULT",function(){return h[x]&&h[x].DATE_FORMAT||h[m]&&h[m].DATE_FORMAT||b.DATETIME});a(b,"PARSE_DEFAULT",function(){return h[x]&&h[x].DATE_PARSE||b.DATETIME});b.prototype={};b.names={};b.names["en-EU"]={era:{abbr:["BC","AD"],full:["B.C.","A.D."]},month:{abbr:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),full:"January February March April May June July August September October November December".split(" ")},day:{abbr:"Sun Mon Tue Wed Thu Fri Sat".split(" "),
full:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" ")},amPm:{abbr:["AM","PM"],full:["A.M.","P.M."]}};b.names["nl-NL"]={era:{abbr:["v. Chr.","n. Chr."],full:["Voor Christus","Anno Domini"]},month:{abbr:"jan. feb. maa. apr. mei jun. jul. aug. sep. okt. nov. dec.".split(" "),full:"januari februari maart april mei juni juli augustus september oktober november december".split(" ")},day:{abbr:"zo ma di wo do vr za".split(" "),full:"zondag maandag dinsdag woensdag donderdag vrijdag zaterdag".split(" ")},
amPm:{abbr:["AM","PM"],full:["A.M.","P.M."]}};b.names["nl-BE"]=b.names["nl-NL"];b.names["en-US"]=b.names["en-EU"];b.prototype.asUTC=!1;b.prototype.chunks=null;var c={d:4,f:3,F:3,g:2,h:2,H:2,j:3,K:1,m:2,M:4,s:2,t:2,y:5,z:4},d={d:{type:"RegExp",value:/\d{1,2}/},dd:{type:"RegExp",value:/\d{2}/},f:{type:"RegExp",value:/\d/},ff:{type:"RegExp",value:/\d{2}/},fff:{type:"RegExp",value:/\d{3}/},F:{type:"RegExp",value:/\d?/},FF:{type:"RegExp",value:/(\d{2})?/},FFF:{type:"RegExp",value:/(\d{3})?/},h:{type:"RegExp",
value:/\d{1,2}/},hh:{type:"RegExp",value:/\d{2}/},H:{type:"RegExp",value:/\d{1,2}/},HH:{type:"RegExp",value:/\d{2}/},j:{type:"RegExt",value:/\d{1,3}/},K:{type:"RegExp",value:/(?:UTC|Local)/},m:{type:"RegExp",value:/\d{1,2}/},mm:{type:"RegExp",value:/\d{2}/},M:{type:"RegExp",value:/\d{1,2}/},MM:{type:"RegExp",value:/\d{2}/},s:{type:"RegExp",value:/\d{1,2}/},ss:{type:"RegExp",value:/\d{2}/},y:{type:"RegExp",value:/\d/},yy:{type:"RegExp",value:/\d{2}/},yyy:{type:"RegExp",value:/\d{3,4}/},yyyy:{type:"RegExp",
value:/\d{4}/},yyyyy:{type:"RegExp",value:/\d{5}/},z:{type:"RegExp",value:/(?:Z|[\-\+]\d{1,2})/},zz:{type:"RegExp",value:/(?:Z|[\-\+]\d{2})/},zzz:{type:"RegExp",value:/(?:Z|[\-\+]\d{2}\d{2})/},zzzz:{type:"RegExp",value:/(?:Z|[\-\+]\d{2}\:\d{2})/}},e=function(a,d){a||(a=b.DATETIME);for(var e=a.length,f=0,g="",h=[],p="",m=function(a){""!==g&&(h[h.length]={type:a,value:g},g="")},l,n,k;f<e;)if(l=a.charAt(f),f++,""===p&&l in c){m("text");g=l;n=0;for(k=c[l]-1;n<k;n++)if(a.charAt(f+n)===l)g+=l;else break;
f+=n;m("pattern")}else'"'===l||"'"===l?a.charAt(f)===l?(g+=l,f++):""===p&&-1!==a.indexOf(l,f)?p=l:l===p?(m("text"),p=""):g+=l:g+=l;m("text");this.chunks=h;this.asUTC=!!d};b.prototype.format=function(a,c){c=c||x&&v.widget.locale||qa;a||(a=new Q);var d=this.chunks,e=this.asUTC,f=b.names[c]||b.names[x&&v.widget.locale||qa]||b.names[qa],g=function(a,b){for(a=a.toString();a.length<b;)a="0"+a;return a},h,p,l,m,n,k,q,t,F,r,s,U,u,$,S,ca,w,ka,z;e?(h=a.getUTCDate(),p=a.getUTCDay(),l=a.getUTCMilliseconds(),
m=a.getUTCHours(),k=a.getUTCMonth(),q=a.getUTCMinutes(),F=a.getUTCFullYear(),r=a.getUTCSeconds(),s=0):(h=a.getDate(),p=a.getDay(),l=a.getMilliseconds(),m=a.getHours(),k=a.getMonth(),q=a.getMinutes(),F=a.getFullYear(),r=a.getSeconds(),s=a.getTimezoneOffset());U=g(l,3);u=U.substr(0,2);l=U.substr(0,1);ca=0>F?0:1;n=m%12;$=k+1;t=12>m?0:1;S=g(F,5);ka=(0>s?-s:s)/60>>0;w=0>=s?"+":"-";z=g(ka,2);s=g(s%60,2);e={d:h.toString(),dd:g(h,2),ddd:f.day.abbr[p],dddd:f.day.full[p],f:l,ff:u,fff:U,F:0===L(l)?"":"."+l,
FF:0===L(u)?"":"."+u,FFF:0===L(U)?"":"."+U,g:f.era.abbr[ca],gg:f.era.full[ca],h:n.toString(),hh:g(n,2),H:m.toString(),HH:g(m,2),j:g(p,3),K:e?"UTC":"Local",m:q.toString(),mm:g(q,2),M:$.toString(),MM:g($,2),MMM:f.month.abbr[k],MMMM:f.month.full[k],s:r.toString(),ss:g(r,2),t:f.amPm.abbr[t],tt:f.amPm.full[t],y:S.substr(4),yy:S.substr(3),yyy:1E3>F?S.substr(2):F.toString(),yyyy:S.substr(1),yyyyy:S,z:w+ka.toString(),zz:w+z,zzz:w+z+s,zzzz:w+z+":"+s};f="";g=0;for(h=d.length;g<h;g++)p=d[g],f+="pattern"===p.type?
e[p.value]:p.value;return f};b.prototype.parse=function(a,c){c=c||x&&v.widget.locale||qa;var e=this.chunks,f=this.asUTC,g=b.names[c]||b.names[x&&v.widget.locale||qa]||b.names[qa];d.ddd={type:"Array",value:g.day.abbr};d.dddd={type:"Array",value:g.day.full};d.g={type:"Array",value:g.era.abbr};d.gg={type:"Array",value:g.era.full};d.MMM={type:"Array",value:g.month.abbr};d.MMMM={type:"Array",value:g.month.full};d.t={type:"Array",value:g.amPm.abbr};d.tt={type:"Array",value:g.amPm.full};var h={},p,l,m,n,
k,q,t,F;p=0;l=e.length;m=0;for(n=a.length;p<l&&m<n;p++)if(k=e[p],"text"===k.type)m+=k.value.length;else if(q=k.value,t=d[q],"Array"===t.type)for(k=t.value,t=0,F=k.length;t<F;t++){if(a.indexOf(k[t],m)===m){t=k[t];h[q]=t;m+=t.length;break}}else(q=a.substr(m).match(t.value))&&0<q.length&&(t=q[0],h[k.value]=t,m+=t.length);p=(new Date).getUTCFullYear();var r,s,U,u,S;h.yyyyy||h.yyyy||h.yyy?e=L(h.yyyyy||h.yyyy||h.yyy):h.yy?(e=100*(p/100>>0)+L(h.yy),e>p&&(e-=100)):h.y?(e=10*(p/10>>0)+L(h.y),e>p&&(e-=10)):
e=0;r=(r=h.gg)?g.era.full.indexOf(r):(r=h.g)?g.era.abbr.indexOf(r):1;0===r&&(e*=-1);s=(s=h.MMMM)?L(g.month.full.indexOf(s)):(s=h.MMM)?L(g.month.abbr.indexOf(s)):(s=h.MM||h.M)?L(s)-1:0;h.j?(r=L(h.j),s=0):r=h.dd||h.d?L(h.dd||h.d):0;h.HH||h.H?g=L(h.HH||h.H):h.hh||h.h?(p=h.hh||h.h,g=h.tt?L(p)+12*g.amPm.full.indexOf(h.tt):h.t?L(p)+12*g.amPm.abbr.indexOf(h.t):0):g=0;U=(U=h.mm||h.m)?L(U):0;u=(u=h.ss||h.s)?L(u):0;S=(S=h.fff||h.ff||h.f||h.FFF||h.F||h.F)?L(S):0;p=new Q;p.setUTCFullYear(e,s,r);h.zzzz||h.zzz||
h.zz||h.z?(f=h.zzzz||h.zzz||h.zz||h.z,"Z"===f?p.setUTCHours(g,U,u,S):(f=f.match(/^([\+\-])(\d{1,2})\:?(\d{0,2})$/),h=60*L(f[2]),2===f.length&&(h+=L(f[3])),f=("-"===f[1]?1:-1)*h,p.setUTCHours(g,U+f,u,S))):f?p.setUTCHours(g,U,u,S):p.setHours(g,U,u,S);return p};b.prototype.toString=function(){var a=this.chunks,b="",c,d,e;c=0;for(d=a.length;c<d;c++)e=a[c],b+="pattern"===e.type?"{"+e.value+"}":e.value;return"[DateFormat "+b+"]"};return b}();a(v,"DateFormat",function(){return Ka});Q.format=function(a,b,
c){a=a||new Q;b=b||Ka.FORMAT_DEFAULT;return(new Ka(b)).format(a,c)};Q.parse=function(a,b,c){b=b||Ka.PARSE_DEFAULT;return(new Ka(b)).parse(a,c)};var N={"en-EU":",","en-US":"."};a(cb,"DECIMAL",function(){return N[x&&v.widget.locale||qa]||N[qa]});var ic={"en-EU":"\u20ac","en-GB":"\u00a3","en-US":"$"};a(cb,"CURRENCY",function(){return ic[x&&v.widget.locale||qa]||N[qa]});a(v,"MAF",function(){return ka});a(v,"include",function(){return function(a){try{return Da("with(this){"+q(a)+"}").call(v)}catch(b){return bb(a,
b)}}});n.addEventListener("unload",function(){P&&(P.destroy(),P=null)});Ia(r,"shared scope created");r=Q.now();v.include("maf-ui.js");Ia(r,"ui components loaded")}function C(b,c,d){var e=za.bind(c);a(this,"dispatchChildEvent",function(){return e});a(this,"locale",function(){return J.getLocale()});f.forEach(g[b],function(c){a(this,c,function(){return g[b][c]})},this);this.getImageSource=function(a,c){var d=g[b].images&&g[b].images;return c?d&&d[a]&&d[a][c]||H:d&&d[a]||H};this.getImage=function(a,b){var c=
V("img"),d=this.getImageSource.apply(this,arguments)||"";c.source=d;return c};this.focus=function(){d.focus()};this.blur=function(){d.blur()};this.addEventListener=function(){return d.addEventListener.apply(d,arguments)};this.removeEventListener=function(){return d.removeEventListener.apply(d,arguments)};this.dispatchEvent=function(){return d.dispatchEvent.apply(d,arguments)};this.getElementById=function(a){return ra(b+"-"+a)};this.getLocalizedString=function(a,c){var d=h[b]&&h[b][a]||h[m]&&h[m][a]||
a;return c?D.vsprintf(d,c):d};this.createDocumentFragment=Bb;this.createWindowFromXML=I}function N(a,b,c){function d(a){(new Qa({url:"apps/"+a+"/Contents/Localization/"+c+".strings"+("?"+Q.now()||""),mimetype:"text/plain",onSuccess:function(c){h[a]=c;b&&b(a)},onFailure:function(){c!==qa&&(c=qa,d())}})).send()}a=[].concat(a);c=c||J.getLocale();a.forEach(function(a){(new Qa({url:"apps/"+a+"/Contents/metadata.json"+("?"+Q.now()||""),onSuccess:function(b){g[a]=b;d(a)}})).send()})}function r(){a(this,
"active",function(){return x})}Q.now();var l={},g={},h={},q=ra("viewport"),m=c.ui,x,P,J,ia;b.prototype={constructor:b};var W=function(a,c,d){var e=this.subscribers||{},g=b,h;c=c||{};a instanceof g?(h=a,a=h.type):h=new g(a,c,d);e[a]=[].concat(e[a]||[]).filter(function(a){return a instanceof Da});if(!e[a].length)return delete e[a],!0;var m=!1;f.each(e[h.type]||{},function(a,b){if(b&&b.call)try{b.call(this,h)}catch(c){P.error(c)}h.defaultPrevented&&(m=!0);if(h.propagationStopped)return!1},this);return!m};
(function(){R.subscribeTo||(R.subscribeTo=function(a,b,c){b=[].concat(b);if(!a instanceof f)throw T("Didn't provide an Object to subscribe to");if(!b.length||"string"!==E(b[0]))throw T("Didn't provide any event types to subscribe to");if(a.fire&&a.fire!==W)throw T("Your Object already has a fire method");a.subscribers||(a.subscribers={});a.fire=W;this.__class__=c&&c.constructor||a.constructor;var d=c?this.bind(c):this;b.forEach(function(b){var c=a.subscribers[b]||[];!c.some(function(a){return a===
d})&&d&&c.push(d);a.subscribers[b]=c});return d});R.subscribeOnce||(R.subscribeOnce=function(a,b,c){b=[].concat(b);if(!a instanceof f)throw T("Didn't provide an Object to subscribe to");if(!b.length||"string"!==E(b[0]))throw T("Didn't provide any event types to subscribe to");if(a.fire&&a.fire!==W)throw T("Your Object already has a fire method");a.subscribers||(a.subscribers={});a.fire=W;c=c?this.bind(c):this;var d=function(){this._listener.apply(null,la(arguments));this.unsubscribeFrom(this._target,
this._types)};d._listener=c;d._types=b;d._target=a;b.forEach(function(b){var c=a.subscribers[b]||[];!c.some(function(a){return a===d})&&d&&c.push(d);a.subscribers[b]=c});return d});R.unsubscribeFrom||(R.unsubscribeFrom=function(a,b){if(!a||!a.subscribers)throw T("Didn't provide a valid Object to unsubscribe from");var c=this;b=[].concat(b);b.forEach(function(b){var d=a.subscribers[b]||[];a.subscribers[b]=d.filter(function(a){return a!==c});d&&d.length||(a.subscribers[b]=[])});return this})})();(function(){var a=
n.Element&&n.Element.prototype;(function(b){a.getAttribute=function(a){return this.retrieve("@"+a)||b.call(this,a)}})(a.getAttribute);(function(b){eb.original=b;a.setAttribute=function(a,c){if("window"===this.retrieve("type")||"src"!==a&&"id"!==a)return b.call(this,a,c);this.store("@"+a,c);if(c)switch(a){case "src":var d=Ma.test(c),e=this.aspect,f=0===c.indexOf("data:");d||f||(c="apps/"+x+"/Contents/"+c);if(d&&!f&&c&&(e||!this.remoteAsync)){d=D(c);c="//"+Pa[2]+"."+ta+".com/?url="+encodeURIComponent(c);
if(e){var h=this.retrieve("originalWidth")||this.width||0,g=this.retrieve("originalHeight")||this.height||0;0<h&&"height"!==e?(c+="&width="+L(h),this.store("originalWidth",h),"crop"!==e&&this.removeAttribute("width")):"height"===e&&this.removeAttribute("width");0<g&&"width"!==e?(c+="&height="+L(g),this.store("originalHeight",g),"crop"!==e&&this.removeAttribute("height")):"width"===e&&this.removeAttribute("height");c+="&type="+e}4096<c.length&&(c=d)}this.remoteAsync||f||(new Qa({url:c,proxy:!1,async:!1,
mimetype:"text/plain; charset=x-user-defined",onSuccess:function(a){c=a},onFailure:function(a,b){throw b;}})).send();break;case "id":x&&c&&0!==c.indexOf(x)&&(c=x+"-"+c)}return b.call(this,a,c)}})(a.setAttribute)})();e.prototype={constructor:e};u.prototype={constructor:u};k.prototype={constructor:k,getLocale:function(){return(ba.language||"en")+"-"+oa(ba.country||"EU")}};J=new k;var xa=function(){function b(a){var c={};a=(a+"").split("");var d=[],e=a[0],f=256,h,g;for(g=1;g<a.length;g++)h=a[g],K(c[e+
h])?e+=h:(d.push(1<e.length?c[e]:e.charCodeAt(0)),c[e+h]=f,f++,e=h);d.push(1<e.length?c[e]:e.charCodeAt(0));for(g=0;g<d.length;g++)d[g]=pa(d[g]);return d.join("")}function c(a){var b={};a=(a+"").split("");var d=a[0],e=d,f=[d],g=256,h,k;for(k=1;k<a.length;k++)h=a[k].charCodeAt(0),h=256>h?a[k]:b[h]?b[h]:e+d,f.push(h),d=h.charAt(0),b[g]=e+d,g++,e=h;return f.join("")}function e(){this.data={};this.synced=!0}function h(a,d){a=a||"maf";d=d||2E3;var e=n.localStorage,f=e&&e.getItem(a);this.data=f&&X.parse(c(f)||
"{}")||{};e?(this.sync=function(){this.synced||(e.setItem(a,b(X.stringify(this.data))),this.synced=!0)},Ta(this.sync.bind(this),d)):na("localstorage not supported")}function g(a,d,e){function f(){return decodeURIComponent(G.cookie.split(";").map(function(a){return a.trim().split("=")}).reduce(function(b,c){0===c[0].indexOf(a)&&b.push(c[1]);return b},[]).join(""))}function h(b){b=encodeURIComponent(b||"").match(Na("[\\s\\S]{1,"+k+"}","g"))||[];b.length<e&&b.forEach(function(b,c){G.cookie=a+c+"="+b})}
a=a||"maf";d=d||2E3;e=e||50;var k=4058-a.length-D(e).length-1,m=G.cookie,l=m&&f();this.data=l&&X.parse(c(l)||"{}")||{};K(m)?(this.sync=function(){if(this.data&&!this.synced){for(var c=G.cookie&&G.cookie.split(";"),d=0;d<c.length;d++){var e=c[d];if(0===e.indexOf(a)){var f=e.indexOf("="),e=-1<f?e.substr(0,f):e;G.cookie=e+"=;expires=Thu, 01 Jan 1970 00:00:00 GMT"}}h(b(X.stringify(this.data)));this.synced=!0}},Ta(this.sync.bind(this),d)):na("cookies not supported")}function m(a,b,c){return"localStorage"in
n&&n.localStorage?new h(a,b):new g(a,b,c)}function k(){}function r(a){a=/\.js[^\.]*$/.test(a)?a+("?"+Q.now()||""):a+(".js?"+Q.now()||".min.js");var b=new Ea;b.open("GET",Ma.test(a)?a:"plugin/"+a,!1);b.send();var c="";200===b.status&&b.responseText?(c=("\n"+b.responseText.replace(Ya,"")).replace(tb,function(a,b){return r(b)}),c+="\n//@ sourceURL="+ba.scripts+"/"+a+"\n"):na("error loading plugin: "+a);return c}function u(a){try{return Da("with(this){"+r(a)+"}").call(B)}catch(b){return bb(a,b)}}e.prototype=
{constructor:e,set:function(a,b){A(b)||null===b?delete this.data[a]:this.data[a]!==b&&(this.data[a]=b,this.synced=!1)},get:function(a){return this.data[a]},has:function(a){return K(this.data[a])},sync:I};h.prototype=new e;h.prototype.constructor=h;g.prototype=new e;g.prototype.constructor=g;k.TV=0;k.PIP=1;k.MUSIC=2;k.FX=3;k.type={VIDEO:0,AUDIO:1};k.prototype={constructor:k,subscribers:null,id:k.TV,type:k.type.VIDEO,startTime:0,currentTime:0,rate:1,duration:0,muted:!1,volume:1,src:null,paused:!0,bounds:[0,
0,Za,$a],destroy:I};k.state={INIT:-1,PLAY:0,PAUSE:1,FORWARD:2,REWIND:3,STOP:4,BUFFERING:5,BUFFEREMPTY:6,INFOLOADED:7,EOF:8,UNKNOWN:9,ERROR:10};var w=function(){function b(e,h){function g(a){a=a.type||"unknown";switch(a){case "ended":case "loadstart":u=!1;break;case "canplaythrough":u=!0;break;case "progress":if(u)return;break;case "ratechange":a=n.rate;if(0===a){n.pause();return}if(1===a){if(n.paused){n.play();return}a="play"}else a=0>a?"rewind":"forward"}a=d[a];K(a)&&v!==a&&(ea.log("HTML5Player",
a,f.keys(k.state)[a+1]),W.call(this,"onStateUpdate",{state:a}),v=a)}function m(){c.forEach(function(a){this.removeEventListener(a,g)},n);n.destroy();l=F=n=r=null;delete this.subscribers}h=k.type.AUDIO===h?k.type.AUDIO:k.type.VIDEO;var l=h===k.type.AUDIO,p=V(l?"audio":"video"),n=p&&q.appendChild(p),r=l?H:this.constructor.prototype.bounds,F=n&&n.style,u=!1,v;n&&(this.subscribers={},l||e===k.PIP||(F.backgroundImage="url("+Mb+")"),e===k.PIP&&(F.display="none",F.zIndex=9999),c.forEach(function(a){this.addEventListener(a,
g)},n),a(this,"id",function(){return e}),a(this,"type",function(){return h}),a(this,"startTime",function(){return n.startTime||0}),z(this,"startTime",function(a){n.startTime=a}),a(this,"currentTime",function(){return n.currentTime||0}),z(this,"currentTime",function(a){n.currentTime=a}),a(this,"rate",function(){return n.playbackRate}),z(this,"rate",function(a){n.playbackRate=a}),a(this,"duration",function(){return n.duration||0}),a(this,"muted",function(){return!0===n.muted}),z(this,"muted",function(a){n.muted=
!0===a}),a(this,"volume",function(){return n.volume}),z(this,"volume",function(a){n.volume=s.max(s.min(parseFloat(a),1),0)}),a(this,"src",function(){return n.src||null}),z(this,"src",function(a){a?(v=H,n.src=a):n.hasAttribute("src")&&(n.src="",n.removeAttribute("src"))}),a(this,"paused",function(){return n.paused}),z(this,"paused",function(a){a!==n.paused&&n.src&&u&&(a?n.pause():n.play())}),a(this,"bounds",function(){return l?H:r}),z(this,"bounds",function(a){var b=a&&a.length||0;!l&&1<b&&(4===b&&
(F.width=r[2]=L(a[2]),F.height=r[3]=L(a[3])),F.left=r[0]=L(a[0]),F.top=r[1]=L(a[1]))}),a(this,"destroy",function(){return m}))}var c="ratechange ended progress loadstart canplaythrough abort emptied error pause play".split(" "),d={loadstart:k.state.INIT,play:k.state.PLAY,pause:k.state.PAUSE,forward:k.state.FORWARD,rewind:k.state.REWIND,emptied:k.state.STOP,progress:k.state.BUFFERING,abort:k.state.BUFFEREMPTY,canplaythrough:k.state.INFOLOADED,ended:k.state.EOF,error:k.state.ERROR};b.prototype=new k;
return b.prototype.constructor=b}(),v={storage:null,system:null,tv:null,players:[],profiles:[]},B={Browser:Ja,Storage:e,Player:k,CookieStorage:g,HTML5Storage:h,AutoStorage:m,HTML5Player:w,getter:a,setter:z,fire:W,send:d};a(B,"apps",function(){return l});a(B,"active",function(){return x});a(B,"plugins",function(){return v});Ja.middleware&&u(Ja.middleware);v.storage||(v.storage=new m);0===v.players.length&&v.players.push(new w(k.TV),new w(k.PIP),new w(k.MUSIC,k.type.AUDIO),new w(k.FX,k.type.AUDIO));
w={};a(w,"storage",function(){return v.storage});return w}(),ya=function(){function b(c){var d={},e={},f={},h={},g={};a(e,"play",function(){return I});a(e,"pause",function(){return I});a(e,"stop",function(){return I});a(e,"rewind",function(){return I});a(e,"forward",function(){return I});a(e,"seek",function(){return I});a(h,"get",function(){return I});a(h,"set",function(){return I});a(h,"start",function(){return I});a(h,"loadEntry",function(){return I});a(h,"previousEntry",function(){return I});a(h,
"nextEntry",function(){return I});a(h,"currentEntry",function(){return I});a(h,"currentIndex",function(){return I});a(f,"currentPlayerState",function(){return-1});a(f,"currentPlayerStatus",function(){return-1});a(f,"currentTimeIndex",function(){return 0});a(f,"currentMediaDuration",function(){return 0});a(this,"subscribers",function(){return d});a(this,"control",function(){return e});a(this,"tvapi",function(){return f});a(this,"playlist",function(){return h});a(this,"constants",function(){return g});
a(this,"initialize",function(){return I});a(this,"setViewportBounds",function(){return I});a(this,"getViewportBounds",function(){return I});a(this,"isPlaylistEntryActive",function(){return I})}b.prototype={constructor:b};return b}();w.prototype={constructor:w};P=new w;var B=function(a){var b=l[m];if(!b||!b.widget.handleHostEvent||b.widget.handleHostEvent.apply(this,arguments)){var c=a.getData(),b=a.getResult(),e;switch(a.subject){case "onAppInit":a.error||d(a.id,"getSnippetConfs",null,B);break;case "onAppFin":a.error||
((e=this.currentViewId)&&d(a.id,"onUnselect",{id:e},B),(c=(c=ra(a.id+"-@snippets"))&&c.firstChild.owner.config.viewId)&&d(a.id,"onShowView",{id:c},B),this.document.body.detach(),b.forEach(function(b){d(a.id,"onUnloadView",{id:b},B)}),x&&m&&a.id!==m&&l[x]&&(x=m,d(x,"onShowView",{id:l[x]&&l[x].currentViewId},B)));break;case "onLoadView":!a.error&&c.id&&((e=this.currentViewId)&&e!==c.id&&d(a.id,"onUnselect",{id:e},B),d(a.id,"onShowView",{id:c.id},B));break;case "onShowView":!a.error&&c.id&&d(a.id,"onSelect",
{id:c.id},B);break;case "onLoadProfile":case "onUnloadProfile":na("Profile not implemented");break;case "getSnippetConfs":!a.error&&0<b.length&&b.forEach(function(b){d(a.id,"onLoadView",{id:b.id},B)});break;case "onUnselect":!a.error&&c.id&&d(a.id,"onHideView",{id:c.id},B);break;case "onActivateSnippet":!a.error&&b.id&&(this.document.body.inject(q).frozen=!1,d(a.id,"onLoadView",{id:b.id},B))}}},za=function(a){var b=l[m],c=a.getData(),e="loadView"===a.subject?this.widget.getElementById(c.id):H;if(!b||
!b.widget.handleChildEvent||b.widget.handleChildEvent.apply(this,arguments))switch(a.subject){case "exit":case "exitToDock":!a.error&&a.id&&d(a.id,"onAppFin",{id:a.id},B);break;case "loadView":!a.error&&c.id&&(e?((b=this.currentViewId)&&d(a.id,"onUnselect",{id:b},B),d(a.id,"onShowView",{id:c.id},B)):d(a.id,"onLoadView",{id:c.id},B))}this.widget.onDispatchedChildEvent.apply(this,arguments)};C.prototype={constructor:C};var Ba=function(){function c(a){l[a]&&delete l[a]}function g(a){J.call(this,a,c)}
var k="atob btoa open getComputedStyle md5 confirm prompt sha1 JSON XMLDOM unlink clone typeOf random location navigator profile tv Browser FontAwesome CSSMatrix HashMap Class Event Theme Library innerWidth outerWidth innerHeight outerHeight screen currentProfileData XMLHttpRequest DateFormat isArray isBoolean isDate isFunction isNumber isString isRegExp isEmpty Timer Element Window View Dialog Frame Text Image List Item".split(" ").concat(P.defines),n="onActivateBackButton onActivateHomeButton onActivateFavButton onActivateSettingsButton onActivateSnippet onActivateApp onLoadView onUnloadView onShowView onHideView onSelectView onUnselectView getSnippetConfs onDialogCancelled onDialogDone onApplicationStartup onApplicationShutdown onLoadProfile onUnloadProfile onWidgetKeyPress onPlayControlKeyPress onViewChangeInitiated".split(" "),
q="onAppInit onAppFin onDialogCancelled onDialogDone onHideView onLoadProfile onLoadView onShowView onUnloadProfile onUnloadView getSnippetConfs onSelect onUnselect onDispatchedChildEvent onPlaybackAction onActivateAppButton onActivateSnippet".split(" "),p="changeProfile loadView hideDialog showDialog setSnippetConfs addSnippetConfs deleteSnippetConfs exitToDock exit setFavAction setIcons setWaitIndicator setFullscreenVideoMode launchApp".split(" "),r=["focus","blur","addEventListener","removeEventListener",
"dispatchEvent"],s="open close location addEventListener removeEventListener dispatchEvent".split(" "),u=["window","parent","top","self"],w=["messages","mediaplayer","HostEventManager","Request","application"],v={SNIPPET:"snippet",SIDEBAR:"sidebar",FULLSCREEN:"fullscreen"},E=f.keys(v).filter(function(a){return"snippet"===v[a]}),K=["red","blue","yellow","green"],L=["play","pause","rewind","forward"],J=function(c,g){function l(b){a(this,"rootPath",function(){return b});this.lastModified=function(a){var c=
new Ea;request.open("HEAD",b+a,!1);request.send();if(200===c.status)try{return Q(request.getResponseHeader("last-modified")||Q.now()).getTime()}catch(d){}return Q.now()};this.readFile=function(a,c){c=c||!1;var d=new Ea;d.open("GET",b+a+("?"+Q.now()||""),!1);d.send();return 200===d.status?d.responseXML?d.responseXML:c?d.responseText.replace(/\n/g,"<br/>"):d.responseText:""}}function F(a){a&&a.url&&!Ma.test(a.url)&&(a.url=W.rootPath+a.url);return new Qa(a)}function J(a){var b=new Ea;b.open("GET",W.rootPath+
a+("?"+Q.now()||""),!1);b.send();var d="";200===b.status&&b.responseText?(d=("\n"+b.responseText.replace(Ya,"")).replace(tb,function(a,b){return J(b)}),d+="\n//@ sourceURL="+W.rootPath+a+"\n"):na(c+": request issue "+a);return d}function I(b,d){this.result="";a(this,"id",function(){return c});a(this,"subject",function(){return b});a(this,"data",function(){return d})}function y(){var a=zb().diff(ob);0<a.length&&O.warn("global scope has been poluted",a);a=D(Y.identifier);Y.close();aa.messages.reset(!0);
aa=ha=oa=R=$=Y=aa.messages=null;for(var b in this)delete this[b];(b=ra(a))&&b.destroy();sb.call(this);g&&g(a)}var N=Q.now(),O=this,$=Cb(c),R={},Y=new C(c,O,$),aa={messages:new e};k.forEach(function(b){a(this,b,function(){return P[b]})},O);l.prototype={constructor:l};var W=new l("apps/"+c+"/Contents/");a(O,"filesystem",function(){return W});a(aa,"Request",function(){return F});a(O,"Request",function(){return F});var ga=P.GenericStorage,pa=new ga("ac",!1,c),qa=new ga("ad",!0,c);a(O,"currentAppConfig",
function(){return pa});a(O,"currentAppData",function(){return qa});f.forEach(P.MAF,function(b,c){-1===w.indexOf(b)&&a(aa,b,function(){return c})});aa.mediaplayer=new ya(c);a(O,"MAF",function(){return aa});a(O,"localization",function(){return h});a(O,"widget",function(){return Y});a(O,"$_",function(){return function(){return Y.getLocalizedString.apply(Y,arguments)}});a(O,"$",function(){return function(){return Y.getElementById.apply(Y,arguments)}});r.forEach(function(b){a(this,b,function(){return Y[b]})},
O);O.console={};["log","warn","error"].forEach(function(b){a(this.console,b,function(){return function(){var a=[c+" "].concat(la(arguments)),a="concat"===ba.console?[la(a).join(" ")]:a;ea[b].apply(ea,a)}});a(this,b,function(){return this.console[b]})},O);a(O,"alert",function(){return this.log});a(R,"getElementById",function(){return Y.getElementById});a(R,"body",function(){return $});a(R,"activeElement",function(){return G.activeElement!==ja?G.activeElement:H});s.forEach(function(b){a(this,b,function(){return O[b]})},
R);a(O,"document",function(){return R});a(O,"include",function(){return function(a){try{return Da("with(this){"+J(a)+"}").call(O)}catch(b){return bb(c,a,b)}}});I.prototype={constructor:I,getData:function(){try{return this.data&&X.parse(this.data)||H}catch(a){}},getResult:function(){try{return this.result&&X.parse(this.result)||H}catch(a){}}};a(O,"HostEvent",function(){return I});var ha=function(){function c(){}var d={},e={};Y.onHostEvent=function(a){if(-1===q.indexOf(a.subject))O.warn('Received "'+
a.subject+'" from ui that is not recognized. This is probably bad!');else if(d[a.subject]&&d[a.subject].length){var c=a.data&&X.parse(a.data),e=new b(a.subject,c,null,a);d[a.subject].forEach(function(a){a(e)})}};Y.onDispatchedChildEvent=function(a){if(-1===p.indexOf(a.subject))O.warn('Received "'+a.subject+'" response from ui that is not recognized. This is probably bad!');else if(d.onDispatchedChildEvent&&d.onDispatchedChildEvent.length){var c=a.data&&X.parse(a.data),e=new b("onDispatchedChildEvent",
c,null,a);d.onDispatchedChildEvent.forEach(function(a){a(e)})}};c.prototype={constructor:c,send:function(a,b){A(b)&&(b={});if(-1!==p.indexOf(a))return Y.dispatchChildEvent(new I(a,X.stringify(b)));if("simulateFakeLoadView"===a)Y.onHostEvent(new I("onShowView",X.stringify(b))),Y.onHostEvent(new I("onSelect",X.stringify(b)));else throw T("MAF.HostEventManager.fire: Unknown eventType: "+a);return!0},addSubscribeableEvent:function(b){a(e,b,function(){return d[b]?d[b]:[]});z(e,b,function(a){if(a instanceof
Z)d[b]=a;else throw T("MAF.HostEventManager.subscribe: Invalid setting of subscribers for eventType: "+b);})},addFireableEvent:function(a){p.push(a)}};var f=new c;f.subscribers=e;q.forEach(f.addSubscribeableEvent);return f}();a(aa,"HostEventManager",function(){return ha});var oa=function(c){function e(){M.length=0;M=[]}function h(a){a&&(I=H=G="",A={},D={},R=S=P=N=null);Q={};e()}function g(a){if(!Q[a.type])return!0;for(var b=!1,c=0;c<Q[a.type].length&&(Q[a.type][c](a),b=b||a.defaultPrevented,!a.propagationStopped);c++);
return!b}function k(a){var b=a&&a.viewClass,c=b&&b.prototype;if(a.id&&b&&c)return{id:a.id,type:v[c.viewType]};O.warn("Invalid config!")}function l(){return G||H}function p(a,c,d,e){d=d||"forward";var f=l();a===f&&"back"!==d?O.warn("Refusing to [forward] load the same view! ("+a+")"):g(new b("onViewChangeInitiated",{currentId:f,destinationId:a,direction:d}))&&(P=c,N=e,S=a,R=d,c="loadView",a==f&&(O.warn("Oh boy, we are faking a loadView for a previousView attempt. Hold onto your socks!"),c="simulateFakeLoadView"),
a in D&&D[a].viewClass&&D[a].viewClass.inheritsFrom(aa.system.FullscreenView)&&ha.send("setFullscreenVideoMode",D[a].viewClass.prototype.config.showPassthroughVideo?"passthrough":"default"),ha.send(c,k(D[a])))}function q(){e();p(I)}function r(a,b){var c=M.length;1<M.length&&1<b&&b<=c&&(b--,M.splice(c-b,b));(c=M.pop())?p(c.id,c.persist,"back",a):Y.identifier!==m&&u()}function s(a,c,d){if(a instanceof b&&D[c]){var f=k(D[c]);e();P=d;N=null;S=c;R="forward";a.HostEvent.result=X.stringify(f);return f}O.warn("Invalid call to setHostResultToViewId")}
function t(){var a=[];f.forEach(D,function(b,c){c&&c.viewClass&&c.viewClass.prototype&&-1!==E.indexOf(c.viewClass.prototype.viewType)&&a.push(k(c))});return a}function u(){ha.send("exit");h()}function w(a){var b=null,c=null,d=null;S==a&&(S=null,b=N||{},N=null,c=P||{},P=null,d=R||"forward",R=null);if(A[a]&&A[a]instanceof aa.system.BaseView)return A[a].backParams=b||A[a].backParams||{},A[a].persist=c||A[a].persist||{},A[a].historyDirection=d||A[a].direction||"forward",A[a];var e=D[a],f=J(a)||V("li").addClass("item");
if(!e||!e.viewClass.inheritsFrom(aa.system.BaseView))throw T("Can't get a view which we don't have a valid config for "+e.id);f&&(A[a]=new e.viewClass({viewId:a,data:ma(e.data),element:f,backParams:b||{},persistParams:c||{}}),A[a].historyDirection=d||"forward");return A[a]}function F(a){var c=a.payload&&a.payload.id?a.payload.id:null,d=c&&w(c);switch(a.type){case "onActivateAppButton":switch(a.payload.type){case "app-back":g(new b("onActivateBackButton",{view:d,viewId:c,defaultActionCallback:r},null,
a.HostEvent))&&d.fire(new b("onActivateBackButton",{view:d,defaultActionCallback:r},null,a.HostEvent))&&(backParams=A[l()]&&A[l()].viewBackParams||null,r(backParams));break;case "app-home":case "app-title":g(new b("onActivateHomeButton",{view:d,viewId:c,defaultActionCallback:q},null,a.HostEvent))&&(backParams=A[l()]&&A[l()].viewBackParams||null,q(backParams));break;case "app-fav-add":case "app-fav-delete":g(new b("onActivateFavButton",{view:d,action:a.payload.type,viewId:c},null,a.HostEvent))&&d.favbutton.call(d,
new b("onActivateFavButton",{view:d,action:a.payload.type,viewId:c},null,a.HostEvent))}break;case "onActivateSnippet":a=new b("onActivateSnippet",{view:d,viewId:c},null,a.HostEvent);g(a)&&(d&&!d.fire(a)||s(a,a.payload.targetViewID||(D[c]&&D[c].data?D[c].data.targetViewID||D[c].data.destinationID||I:I),a.payload.forwardParams||{}));break;case "onLoadView":d.data=va(d.data||{},a.payload.data||{});g(new b("onLoadView",{view:d,viewId:c},null,a.HostEvent))&&d.onLoadView.call(d,new b("onLoadView",{view:d},
null,a.HostEvent));d.rendered=!0;break;case "onUnloadView":g(new b("onUnloadView",{view:d,viewId:c},null,a.HostEvent))&&(d.onUnloadView.call(d,new b("onUnloadView",{view:d},null,a.HostEvent)),delete d.backParams,delete d.persist,delete d.data,delete A[c],d.suicide());d.rendered=!1;break;case "onShowView":d.thaw();G=c;d.data=va(d.data||{},a.payload.data||{});g(new b("onShowView",{view:d,viewId:c},null,a.HostEvent))&&d.onShowView.call(d,new b("onShowView",{view:d,viewId:c},null,a.HostEvent));G=!1;break;
case "onHideView":d.freeze();g(new b("onHideView",{view:d,viewId:c},null,a.HostEvent))&&d.onHideView.call(d,new b("onHideView",{view:d,viewId:c},null,a.HostEvent));break;case "onSelect":d.selected=!0;d.data=va(d.data||{},a.payload.data||{});H=c;g(new b("onSelectView",{view:d,viewId:c},null,a.HostEvent))&&d.onSelectView.call(d,new b("onSelectView",{view:d,viewId:c},null,a.HostEvent));d.setInitialFocus.call(d,new b("onGainFocus",{view:d,viewId:c},null));break;case "onUnselect":d.selected=!1,g(new b("onUnselectView",
{view:d,viewId:c},null,a.HostEvent))&&d.onUnselectView.call(d,new b("onUnselectView",{view:d,viewId:c},null,a.HostEvent))}}function y(a){switch(a.type){case "getSnippetConfs":var d=t();if(0<d.length){var e=$.appendChild(V("ul").addClass("list").addClass("frozen"));e.setAttribute("id",c+"-@snippets");d.forEach(function(a){e.appendChild(w(a.id).element)})}g(new b("getSnippetConfs",{},null,a.HostEvent))&&(a.HostEvent.result=X.stringify(d));break;case "onDialogCancelled":if(g(new b("onDialogCancelled",
a.HostEvent.getData(),null,a.HostEvent)))return!1;break;case "onDialogDone":if(g(new b("onDialogDone",a.HostEvent.getData(),null,a.HostEvent)))return!1;break;case "onAppInit":g(new b("onApplicationStartup",{},null,a.HostEvent));break;case "onAppFin":if(g(new b("onApplicationShutdown",{},null,a.HostEvent))){var h=t().pluck("id")||[],k=[];f.forEach(A,function(a,b){-1===h.indexOf(a)&&k.push(a)});a.HostEvent.result=X.stringify(k);$.frozen=!0}break;case "onLoadProfile":g(new b("onLoadProfile",{},null,
a.HostEvent))&&f.each(A,function(c,d){d.fire(new b("onLoadProfile",{},null,a.HostEvent))});break;case "onUnloadProfile":g(new b("onUnloadProfile",{},null,a.HostEvent))&&(f.each(A,function(c,d){d.fire(new b("onUnloadProfile",{},null,a.HostEvent))}),a.HostEvent.result=X.stringify(t()))}}function C(){a(this,"viewTypes",function(){return v});this.subscribers=W}var J=Y.getElementById,G="",H="",I="",A={},D={},M=[],N=null,P=null,S=null,R=null,Q={};F.allowed=!0;y.allowed=!0;F.subscribeTo(ha,"onActivateAppButton onActivateSnippet onHideView onLoadView onShowView onUnloadView onSelect onUnselect".split(" "));
y.subscribeTo(ha,"getSnippetConfs onAppInit onAppFin onDialogCancelled onDialogDone onUnloadProfile onLoadProfile onPlaybackAction".split(" "));var W={};n.forEach(function(b){a(W,b,function(){return Q[b]?Q[b]:[]});z(W,b,function(a){if(a instanceof Z)Q[b]=a;else throw T("MAF.application.subscribe: Invalid setting of subscribers for eventType: "+b);})});Y.close=function(){c===x&&0<f.keys(A).length&&u();f.forEach(A,function(a){d(c,"onUnloadView",{id:a},B)});h(!0);W=null};Y.addEventListener("keydown",
function(a){g(new b("onWidgetKeyPress",{keyCode:a.keyCode,key:a.key,eventPhase:a.eventPhase,type:a.type},a))&&(3==a.eventPhase&&-1!==L.indexOf(a.key)&&g(new b("onPlayControlKeyPress",{keyCode:a.keyCode,key:a.key,eventPhase:a.eventPhase,type:a.type},a)),3==a.eventPhase&&-1!==K.indexOf(a.key)&&g(new b("onColorKeyPress",{keyCode:a.keyCode,key:a.key,eventPhase:a.eventPhase,type:a.type,color:a.key},a)))});Y.addEventListener("back",function(a){if(!a.defaultPrevented&&g(new b("onActivateBackButton",{view:c},
a))&&(c=l())&&c in A){var c=w(c);c.fire(new b("onActivateBackButton",{view:c},a))&&r(c.viewBackParams||{})}});C.prototype={constructor:C,init:function(a){a.views instanceof Z&&a.defaultViewId?(h(!0),I=a.defaultViewId,a.views.forEach(function(a){this.addViewConfig(a)},this)):O.warn("Invalid application config. The following properties are required: views, defaultViewId")},removeView:function(a){},loadView:function(a,b,c){var d=l();a===d&&O.warn("You can't switch to a view you are already on");a in
D?D[a].viewClass.inheritsFrom(aa.system.SnippetView)?O.warn("You can't call loadView on a snippet view!"):(c||(c=l())&&c in A&&(A[c]instanceof aa.system.SnippetView||M.push({id:c,persist:A[c].persist})),p(a,b,"forward")):O.warn("You can't switch to a view for which we don't have a config for (typo maybe?)")},reloadView:function(a,b){},previousView:r,clearViewHistory:e,loadDefaultView:q,loadSettingsView:function(){},getViewProperty:function(a,b){return A[a]&&A[a][b]},isSidebarLoaded:function(){var a=
l();return a in D&&D[a].viewClass&&D[a].viewClass.inheritsFrom(aa.system.WindowedView)||!1},getCurrentViewId:l,setHostResultToViewId:s,getViewConfig:function(a){return D[a]||!1},launchApp:function(a,b){ha.send("launchApp",{id:a,data:b})},exitToDock:function(){O.warn("MAF.application.exitToDock() is deprecated, please use MAF.application.exit()");u()},exit:u,addViewConfig:function(a){if(!a.viewClass||!a.viewClass.inheritsFrom(aa.system.BaseView))throw T("Invalid view config. All configs must at minimum provide an id and a viewClass ("+
a.id+")");D[a.id]=a}};return new C}(c);a(aa,"application",function(){return oa});a(O,"currentViewId",function(){return oa.getCurrentViewId()});c===m&&a(O,"ApplicationManager",function(){return ia});a(O,"close",function(){return y});u.forEach(function(b){a(this,b,function(){return this})},O);a(O,"name",function(){return Y.name});a(O,"KONtx",function(){return this.MAF});Ia(N,Y.identifier+": created sandbox")};g.prototype={constructor:g};return g}();r.prototype={constructor:r,getApplications:function(){return f.keys(g).filter(function(a){return a!==
m})},getMetadata:function(a){return g[a]},getLocalization:function(a){return h[a]},load:function(a){var b=l[a],c=x&&D(x);if(!b&&g[a]){var b=l[a]=new Ba(a),e=[].concat(g[a].scripts);x=a;e.forEach(function(a){b.include(a)},b);d(a,"onAppInit",{id:a},B);x=c}},unload:function(a){var b=l[a];b&&(x=a,b.close(),x=a!==m?m:H)},open:function(a){l[a]&&(x&&x!==a&&d(x,"onUnselect",{id:l[x].currentViewId},B),x=a,d(a,"onActivateSnippet",{},B))},close:function(a){l[a]&&a===x&&d(a,"onAppFin",{id:a},B)},forEach:function(a,
b){f.forEach(l,a,b)},fire:function(a,b,c){return d(a,b,c,B)},reload:function(){n.location.reload()}};ia=new r;N(m,function(){ia.load(m);ia.open(m);N(c.apps)});this.destroy=function(){f.forEach(l,function(a){ia.close(a);ia.unload(a);delete g[a];delete h[a]});l=g=h=q=P=J=ia=null};this.dump=function(){return[l,g,h]}};(function(){function a(){if(!1!==ha&&ja){var b=ba&&ba.scale||"width",c={width:ja.offsetWidth||0,height:ja.offsetHeight||0},f=ba.hacks&&!0===ba.hacks["3d"]||!1,k;0!==s.min(c.width,c.height)&&
("width"===b||"height"===b?W=ia=s.min(c[b]/viewport[b],1):"both"==b&&(ia=s.min(c.width/viewport.width,1),W=s.min(c.height/viewport.height,1)),f&&(k=k||{},k[ha+"transform-style"]="preserve-3d"),(1!==ia||1!==W)&&0<s.min(ia,W)&&(k=k||{},b=new jb,k[ha+"transform-origin"]="0px 0px",k[ha+"transform"]=b.scale(ia,W,1)),K(k)&&ra("viewport").setStyles(k))}}var b;n.addEventListener("resize",a);n.addEventListener("load",function(){ja=G.body;var d=ra("viewport");d?d.addClass("window"):d=Cb("viewport").inject(ja);
var e=d.style;eb(V().addClass("text").inject(d),"id","textrenderer");["-moz-","-webkit-","-o-","-ms-",""].forEach(function(a){var b=(a+"transform").camelize();K(e[b])&&(ha=a)});hb=(ha+hb).camelize();a();ob=zb();ba&&(b=new kc(ba));d.frozen=!1});n.addEventListener("unload",function(d){n.removeEventListener("resize",a);try{b&&(b.destroy(),b=null);var e=ra("viewport");e&&e.destroy()}catch(f){bb(f),d.preventDefault()}lb=ja=ob=null})})();Ia(Fb,"maf 3.0.0 loaded")})(window,document);