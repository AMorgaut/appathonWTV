(function(q,G,E){function ka(){}function I(a){return a!==E}function z(a){return a===E}function ga(a){return C.slice.call(a||[])}function O(a,c){return ta.hasOwnProperty.call(a,c)}function N(a,c){return parseInt(a,c||10)}function ua(a,c){if(!a||!a.call)throw S("Callback is not callable"+(c?" from: "+c:""));return!0}function Mb(a){return u.floor(u.random()*(a||1E3))}function F(a){if(z(a))return"undefined";if(null===a)return"null";if(I(a.constructor))switch(a.constructor){case r:if("number"===typeof a.length){if(a.callee)return"arguments";
if(a.item)return"collection"}return"object";case W:return"array";case $a:return isFinite(a)?"number":!1;case T:return"date";default:if(a&&I(a._classID))return"instance";if(a&&I(a.nodeName))return"element";if(a&&I(a.helpers))return"class"}return typeof a}function ab(a,c){c=c||{};for(var d in c)c[d]&&O(c,d)&&(a[d]=c[d]);return a}function Z(a){var c;switch(F(a)){case "object":c={};for(var d in a)I(a[d])&&(c[d]=Z(a[d])||a[d]);break;case "array":c=[];d=0;for(var m=a.length;d<m;d++)c[d]=Z(a[d]);break;default:return a}return c}
function Nb(a){if(z(a)||null===a)return!0;var c=F(a);switch(c){case "string":return 0<a.length?!1:!0;case "number":return!1;default:return c?!1:!0}}function qa(){for(var a={},c=0,d=arguments.length;c<d;c++){var m=arguments[c];if("object"===F(m))for(var b in m)if(I(m[b])&&O(m,b)){var g=m[b],x=a[b];a[b]="object"===F(g)&&"object"===F(x)?qa(x,g):Z(g)}}return a}function ca(a){return a.toLowerCase()}function ra(a){return a.toUpperCase()}function Ob(a,c,d){switch(F(c)){case "object":return r.contains(a,
c,d||!1);case "array":case "string":return-1<c.indexOf(a)}return!0}function Pb(a){var c=F(a);return c?-1===["array","arguments"].indexOf(c)?[a]:a:[]}function Qb(a,c,d,m,b){a=a||0;d=d||{};b=b||!1;m="array"!==F(m)?[m]:m;var g="string"===F(c)?d[c]:c,x,fb;ua(x);x=function(){g.apply(d,m)};fb=b?Na(x,a):Oa(x,a);return{interval:b?a:0,cancel:function(){this.interval?tb(fb):Fa(fb)}}}function ub(){var a=arguments,c=0,d=function(a,c,d,m){d||(d=" ");c=a.length>=c?"":W(1+c-a.length>>>0).join(d);return m?a+c:c+
a},m=function(a,c,m,b,s,k){var e=b-a.length;0<e&&(a=m||!s?d(a,b,k,m):a.slice(0,c.length)+d("",e,"0",!0)+a.slice(c.length));return a},b=function(a,c,b,f,s,k,e){a>>>=0;b=b&&a&&{2:"0b",8:"0",16:"0x"}[c]||"";a=b+d(a.toString(c),k||0,"0",!1);return m(a,b,f,s,e)};return a[c++].replace(/%%|%(\d+\$)?([-+\'#0 ]*)(\*\d+\$|\*|\d+)?(\.(\*\d+\$|\*|\d+))?([scboxXuideEfFgG])/g,function(g,x,r,q,s,k,e){var p,l;if("%%"===g)return"%";var h=!1;l="";var y=s=!1;p=" ";for(var Pa=r.length,L=0;r&&L<Pa;L++)switch(r.charAt(L)){case " ":l=
" ";break;case "+":l="+";break;case "-":h=!0;break;case "'":p=r.charAt(L+1);break;case "0":s=!0;break;case "#":y=!0}q=q?"*"===q?+a[c++]:"*"===q.charAt(0)?+a[q.slice(1,-1)]:+q:0;0>q&&(q=-q,h=!0);if(!isFinite(q))throw S("Minimum width must be finite");k=k?"*"===k?+a[c++]:"*"===k.charAt(0)?+a[k.slice(1,-1)]:+k:-1<"fFeE".indexOf(e)?6:"d"===e?0:E;x=x?a[x.slice(0,-1)]:a[c++];switch(e){case "s":return e=D(x),k&&(e=e.slice(0,k)),m(e,"",h,q,s,p);case "c":return e=ma(+x),k&&(e=e.slice(0,k)),m(e,"",h,q,s,void 0);
case "b":return b(x,2,y,h,q,k,s);case "o":return b(x,8,y,h,q,k,s);case "x":return b(x,16,y,h,q,k,s);case "X":return ra(b(x,16,y,h,q,k,s));case "u":return b(x,10,y,h,q,k,s);case "i":case "d":return p=+x||0,p=u.round(p-p%1),g=0>p?"-":l,x=g+d(D(u.abs(p)),k,"0",!1),m(x,g,h,q,s);case "e":case "E":case "f":case "F":case "g":case "G":return p=+x,g=0>p?"-":l,l=["toExponential","toFixed","toPrecision"]["efg".indexOf(ca(e))],e=["toString","toUpperCase"]["eEfFgG".indexOf(e)%2],x=g+u.abs(p)[l](k),m(x,g,h,q,s)[e]();
default:return g}})}function vb(){var a=[],c;for(c in q)q[c]&&(O(q,c)&&"_FirebugCommandLine"!==c&&0!==c.indexOf("moz")&&"constructor"!==c)&&a.push(c);return a}function wb(a,c,d){a=a.split(".");var m=c;for(c=0;c<a.length;c++)z(m[a[c]])&&(m[a[c]]=d&&c===a.length-1?d():{}),m=m[a[c]];return a[0]}function b(a,c,d){a&&a.__defineGetter__(c,d)}function J(a,c,d){a&&a.__defineSetter__(c,d)}function xb(){return G.createDocumentFragment()}function P(a){return G.createElement(a||"div")}function Ga(a){return G.createTextNode(a||
"")}function yb(a){var c=P().addClass("window");a&&c.setAttribute("id",a);c.store("type","window");c.frozen=!0;c.wantsFocus=!0;return c}function xa(a,c){return q.getComputedStyle(a,c||null)}function Qa(a,c){if(!z(c)&&a){c=c.hyphenate();var d=xa(a).getPropertyValue(c);if(d)return d;d=a.style[c];switch(d){case "inherit":if(d=a.parentNode){for(;d&&(!d.style||!d.style[c]);){if(d===fa)return;d=d.parentNode}return d&&d.style&&d.style[c]}break;case "auto":break;default:return d}}}function Rb(a,c,d){a.setAttribute(c,
d)}function gb(a,c){a=a||"";c=c||hb;var d;Ha.test(a)?(d=P("link"),d.type="text/css",d.rel="stylesheet",d.href=a):(d=P("style"),d.type="text/css",d.rel="stylesheet",d.styleSheet?d.styleSheet.cssText=a:d.appendChild(Ga(a)));c.appendChild(d);return d}function Sb(a,c,d){var m=P("script");m.type="text/javascript";m.charset="utf-8";m.src=a;c&&c.call&&(m.onreadystatechange=function(){"complete"===this.readyState&&c()},m.onload=c);d&&d.call&&(m.onerror=d);return hb.appendChild(m)}function Tb(a,c){a=a||"";
return Ia(c?"<"+a+"(?!\\w)[^>]*>([\\s\\S]*?)</"+a+"(?!\\w)>":"</?"+a+"([^>]+)?>","gi")}function oa(a,c,d,m){return new bb(a,{detail:c||null,bubbles:!0===d,cancelable:!0===m})}function zb(a){a=(a||"leftTop").dasherize().split("-")||[];1<=a.length&&(1===a.length?"justify"===a[0]?a[1]=null:"center"===a[0]&&(a[1]="middle"):"center"===a[1]?a[1]="middle":"left"===a[1]&&(a[1]=null),"top"===a[0]&&(a[0]=null));return a}function ib(a,c){var d={},m=G.getElementById("textrenderer");if(m){var b=a.style;m.setStyles({whiteSpace:a.wrap?
"normal":"nowrap",fontSize:b.fontSize||null,fontWeight:b.fontWeight||null});m.innerHTML=a.data||a.html;d.width=c||a.wrap&&m.clientWidth>a.parentNode.width?m.width=a.parentNode.width:m.clientWidth;d.height=m.clientHeight;m.innerHTML="";m.width=null;m.removeAttribute("style")}return d}function Ab(a){var c=xa(a).getPropertyValue("line-height");return"normal"!==c&&c?N(c):N(xa(a).getPropertyValue("font-size")||a.parentNode&&a.parentNode.style.fontSize||a.style.fontSize||24)*jb}var Bb=+new Date,Ub=G.getElementsByTagName("html")[0],
hb=G.head||G.getElementsByTagName("head")[0],fa,kb,Ja=G.implementation,lb=q.location,mb=q.navigator,V=q.console,cb=q.md5,Ra=q.Image,r=Object,W=Array,ya=Function,$a=Number,Cb=Boolean,T=Date,D=String,u=Math,Ia=RegExp,S=Error,db=q.btoa,nb=q.atob,C=W.prototype,Q=ya.prototype,R=D.prototype,ta=r.prototype,Vb=T.prototype,Db=ta.toString,va=new TypeError,ob=ya("return delete this"),Oa=q.setTimeout,Fa=q.clearTimeout,Na=q.setInterval,tb=q.clearInterval,ma=D.fromCharCode,za=q.XMLHttpRequest||q.ActiveXObject&&
q.ActiveXObject("Microsoft.XMLHTTP"),X=q.JSON,bb=q.CustomEvent,Eb={parse:function(a){if("string"===typeof a){if(q.DOMParser)return(new q.DOMParser).parseFromString(a,"text/xml");if(q.ActiveXObject){var c=new q.ActiveXObject("Microsoft.XMLDOM");c.async=!1;return c.loadXML(a)}throw S("DOMParser not supported");}return a||E}},Ka="jsonip cdn image proxy connect event".split(" "),sa=D("metrological"),Ha=Ia("^(https?:)?//"),Sa=/(?:\/\*(?:[\s\S]*?)\*\/)|(?:[\s]+\/\/(?:.*)$)/gm,pb=/[^.]\s*include\s*\(\s*["']([^'"\s]+)["']\s*\)/g,
Ta=1920,Ua=1080,jb=1.3,Fb=D('html,body{overflow:hidden;height:100%}body{margin:0;padding:0;font:12px/18px "Lucida Grande","Lucida Sans Unicode",Helvetica,Arial,Verdana,sans-serif;background-color:transparent;line-height:1}[tabindex]{outline:0;}img:not([src]),img[src=""]{display:none}.frame,.text,.view,.dialog,.window,video,audio{position:absolute;overflow:hidden;}.frame,.view,.dialog,.window,video,audio{top:0;left:0}.window,video{width:'+Ta+";height:"+Ua+"}.list{margin:0;padding:0;list-style:none}.image{position:absolute}.frame,.text,.list,.image{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}.text{font-size:22px;white-space:nowrap;line-height:"+
100*jb+"%;color:white;min-height:"+jb+'em}.text:before{content:"";display:inline-block;height:100%;vertical-align:middle}.innerText{display:inline-block;width:inherit;cursor:default}.frozen,audio{display:none}.skin{width:inherit;height:inherit}.innerText[contenteditable="true"]{cursor:auto}#textrenderer{display:block;left:0;top:0;visibility:hidden;overflow:visible}'),Wb=D("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789"),Gb=D("data:image/gif;base64,R0lGODlhAQABAIABAP///wAAACwAAAAAAQABAAACAkQBADs="),
Xb=D("data:image/gif;base64,R0lGODlhAQABAIABAP///wAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="),Hb=D("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAQAAAAngNWGAAAAGUlEQVQoz2NQacCEDNjAqEI6KxwNiUGqEAAeh4AhmRJYkwAAAABJRU5ErkJggg=="),Y=q.MAE,ha=Y.locale||Ub.lang||"en-EU",wa=!1,ba=1,U=1,Va="mousemove",eb="mouseout",ia=ka,Wa=ka,Ca=ka;(function(){if(!I(q.MAF)){q.MAF={name:"Metrological Application Framework",version:"3.0.0"};z(Y.scripts)&&(Y.scripts="lib");gb(Fb);Fb=E;gb("//"+Ka[1]+"."+sa+".com/css/font-awesome.min.css?v=3.2.1");
var a="concat"===Y.console;Ka[1]+="-sdk";Y.perf&&(Ca=function(c,d){var m=["perf",T.now()-Bb,T.now()-c,d],m=a?[m.join(" ")]:m;V.log.apply(V,m)});ia=function(){var c=a?[ga(arguments).join(" ")]:arguments;V.warn.apply(V,c)};Wa=function(){var c=a?[ga(arguments).join(" ")]:arguments;V.error.apply(V,c)}}})();(function(){function a(){if(!0!==r.defineProperty({},"x",{get:function(){return!0}}).x)throw va;return!0}try{a()&&!ta.__defineGetter__&&(r.defineProperty(ta,"__defineGetter__",{enumerable:!1,configurable:!0,
value:function(a,c){r.defineProperty(this,a,{get:c,enumerable:!0,configurable:!0})}}),r.defineProperty(ta,"__defineSetter__",{enumerable:!1,configurable:!0,value:function(a,c){r.defineProperty(this,a,{set:c,enumerable:!0,configurable:!0})}}))}catch(c){if(ta.__defineGetter__)r.defineProperty=function(a,c,d){"value"in d?a[c]=d.value:("get"in d&&b(a,c,d.get),"set"in d&&J(a,c,d.set))};else throw S("Object.defineProperty is minimum required");}try{Ja&&(Ja.hasFeature.call&&Ja.hasFeature("Events.MouseEnter",
"3.0"))&&(Va="mouseenter"),Ja&&(Ja.hasFeature.call&&Ja.hasFeature("Events.MouseLeave","3.0"))&&(eb="mouseleave")}catch(d){}z(q.getComputedStyle)&&(q.getComputedStyle=function(a,c){this.el=a;this.getPropertyValue=function(c){var d=/(\-([a-z]){1})/g;"float"==c&&(c="styleFloat");d.test(c)&&(c=c.replace(d,function(a,c,d){return ra(d)}));return a.currentStyle&&a.currentStyle[c]?a.currentStyle[c]:null};return this});if(z(za))throw S("XMLHttpRequest not supported");if(!1==="1">=0)throw S('Type check is not correctly implemented ("1" >= 0)');
if(z(Eb.parse('<?xml version="1.0" encoding="UTF-8"?><root></root>')))throw S("DOMParser is not working correctly");if(z(V)){V=q.console={};var m=q.alert||ka;V.log=V.warn=V.debug=V.error=V.info=function(){try{m(ga(arguments).join(" "))}catch(a){}};V.assert=V.dir=ka}})();(function(){var a=Wb+"+/=";z(db)&&(db=function(c){for(var d,m,b,g,x,q,r=0,s=c.length,k=u.max,e="";r<s;){d=c.charCodeAt(r++)||0;m=c.charCodeAt(r++)||0;q=c.charCodeAt(r++)||0;if(255<k(d,m,q))throw S("Invalid character");b=d>>2&63;d=
(d&3)<<4|m>>4&15;g=(m&15)<<2|q>>6&3;x=q&63;m?q||(x=64):g=x=64;e+=a.charAt(b)+a.charAt(d)+a.charAt(g)+a.charAt(x)}return e});z(nb)&&(nb=function(c){c=c.replace(/=+$/,"");var d,b,f,g,x=0,q=c.length,r=[];if(1===q%4)throw S("Invalid character");for(;x<q;)d=a.indexOf(c.charAt(x++)),b=a.indexOf(c.charAt(x++)),f=a.indexOf(c.charAt(x++)),g=a.indexOf(c.charAt(x++)),d=(d&63)<<2|b>>4&3,b=(b&15)<<4|f>>2&15,f=(f&3)<<6|g&63,r.push(ma(d)),b&&r.push(ma(b)),f&&r.push(ma(f));return r.join("")})})();(function(){if(z(cb)){var a=
function(a,c){return a+c&4294967295},c=function(c,d,b,p,l,h){d=a(a(d,c),a(p,h));return a(d<<l|d>>>32-l,b)},d=function(a,d,b,p,l,h,m){return c(d&b|~d&p,a,d,l,h,m)},b=function(a,d,b,m,l,h,g){return c(d&m|b&~m,a,d,l,h,g)},f=function(a,d,b,m,l,h,g){return c(b^(d|~m),a,d,l,h,g)},g=function(g,k){var e=g[0],p=g[1],l=g[2],h=g[3],e=d(e,p,l,h,k[0],7,-680876936),h=d(h,e,p,l,k[1],12,-389564586),l=d(l,h,e,p,k[2],17,606105819),p=d(p,l,h,e,k[3],22,-1044525330),e=d(e,p,l,h,k[4],7,-176418897),h=d(h,e,p,l,k[5],12,
1200080426),l=d(l,h,e,p,k[6],17,-1473231341),p=d(p,l,h,e,k[7],22,-45705983),e=d(e,p,l,h,k[8],7,1770035416),h=d(h,e,p,l,k[9],12,-1958414417),l=d(l,h,e,p,k[10],17,-42063),p=d(p,l,h,e,k[11],22,-1990404162),e=d(e,p,l,h,k[12],7,1804603682),h=d(h,e,p,l,k[13],12,-40341101),l=d(l,h,e,p,k[14],17,-1502002290),p=d(p,l,h,e,k[15],22,1236535329),e=b(e,p,l,h,k[1],5,-165796510),h=b(h,e,p,l,k[6],9,-1069501632),l=b(l,h,e,p,k[11],14,643717713),p=b(p,l,h,e,k[0],20,-373897302),e=b(e,p,l,h,k[5],5,-701558691),h=b(h,e,p,
l,k[10],9,38016083),l=b(l,h,e,p,k[15],14,-660478335),p=b(p,l,h,e,k[4],20,-405537848),e=b(e,p,l,h,k[9],5,568446438),h=b(h,e,p,l,k[14],9,-1019803690),l=b(l,h,e,p,k[3],14,-187363961),p=b(p,l,h,e,k[8],20,1163531501),e=b(e,p,l,h,k[13],5,-1444681467),h=b(h,e,p,l,k[2],9,-51403784),l=b(l,h,e,p,k[7],14,1735328473),p=b(p,l,h,e,k[12],20,-1926607734),e=c(p^l^h,e,p,k[5],4,-378558),h=c(e^p^l,h,e,k[8],11,-2022574463),l=c(h^e^p,l,h,k[11],16,1839030562),p=c(l^h^e,p,l,k[14],23,-35309556),e=c(p^l^h,e,p,k[1],4,-1530992060),
h=c(e^p^l,h,e,k[4],11,1272893353),l=c(h^e^p,l,h,k[7],16,-155497632),p=c(l^h^e,p,l,k[10],23,-1094730640),e=c(p^l^h,e,p,k[13],4,681279174),h=c(e^p^l,h,e,k[0],11,-358537222),l=c(h^e^p,l,h,k[3],16,-722521979),p=c(l^h^e,p,l,k[6],23,76029189),e=c(p^l^h,e,p,k[9],4,-640364487),h=c(e^p^l,h,e,k[12],11,-421815835),l=c(h^e^p,l,h,k[15],16,530742520),p=c(l^h^e,p,l,k[2],23,-995338651),e=f(e,p,l,h,k[0],6,-198630844),h=f(h,e,p,l,k[7],10,1126891415),l=f(l,h,e,p,k[14],15,-1416354905),p=f(p,l,h,e,k[5],21,-57434055),
e=f(e,p,l,h,k[12],6,1700485571),h=f(h,e,p,l,k[3],10,-1894986606),l=f(l,h,e,p,k[10],15,-1051523),p=f(p,l,h,e,k[1],21,-2054922799),e=f(e,p,l,h,k[8],6,1873313359),h=f(h,e,p,l,k[15],10,-30611744),l=f(l,h,e,p,k[6],15,-1560198380),p=f(p,l,h,e,k[13],21,1309151649),e=f(e,p,l,h,k[4],6,-145523070),h=f(h,e,p,l,k[11],10,-1120210379),l=f(l,h,e,p,k[2],15,718787259),p=f(p,l,h,e,k[9],21,-343485551);g[0]=a(e,g[0]);g[1]=a(p,g[1]);g[2]=a(l,g[2]);g[3]=a(h,g[3])},x=function(a){var c=a.length,d=[1732584193,-271733879,
-1732584194,271733878],b,l,h;for(b=64;b<=c;b+=64){h=d;l=a.substring(b-64,b);for(var m=[],f=void 0,f=0;64>f;f+=4)m[f>>2]=l.charCodeAt(f)+(l.charCodeAt(f+1)<<8)+(l.charCodeAt(f+2)<<16)+(l.charCodeAt(f+3)<<24);g(h,m)}a=a.substring(b-64);l=a.length;h=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(b=0;b<l;b+=1)h[b>>2]|=a.charCodeAt(b)<<(b%4<<3);h[b>>2]|=128<<(b%4<<3);if(55<b)for(g(d,h),b=0;16>b;b+=1)h[b]=0;c=(8*c).toString(16).match(/(.*?)(.{0,8})$/);a=N(c[2],16);c=N(c[1],16)||0;h[14]=a;h[15]=c;g(d,h);return d},
q="0123456789abcdef".split(""),r=function(a){var c;for(c=0;c<a.length;c+=1){for(var d=a,b=c,l=a[c],h="",g=void 0,g=0;4>g;g+=1)h+=q[l>>8*g+4&15]+q[l>>8*g&15];d[b]=h}return a.join("")};"b48ce274efe63bc264a6e101f867da83"!==r(x(sa))&&(a=function(a,c){var d=(a&65535)+(c&65535);return(a>>16)+(c>>16)+(d>>16)<<16|d&65535});cb=function(a){return r(x(a))}}})();(function(){try{oa(sa)}catch(a){bb=E}z(bb)&&(bb=function(a,c){var b;try{b=G.createEvent("CustomEvent")}catch(g){}if(!b)try{b=G.createEvent("Event")}catch(q){}if(!b)try{b=
G.createEvent("HTMLEvent")}catch(r){}c=c||{};c.detail=c.detail||null;c.bubbles=!0===c.bubbles;c.catchable=!0===c.catchable;if(b&&b.initCustomEvent)b.initCustomEvent(a,c.bubbles,c.catchable,c.detail);else if(b&&b.initEvent)b.initEvent(a,c.bubbles,c.catchable),b.detail=c.detail;else throw S("No CustomEvent support");return b});var c=function(a){"object"!==F(a.detail)&&ia("Event implementation is incorrect");q.removeEventListener(sa,c)};q.addEventListener(sa,c);G.dispatchEvent(oa(sa,{},!0))})();(function(){function a(a){return 10>
a?"0"+a:a}function c(a){f.lastIndex=0;return f.test(a)?'"'+a.replace(f,function(a){var c=u[a];return"string"===F(c)?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function d(a,b){var e,m,l,h,y=g,f,L=b[a];L&&("object"===F(L)&&"function"===F(L.toJSON))&&(L=L.toJSON(a));"function"===F(r)&&(L=r.call(b,a,L));switch(typeof L){case "string":return c(L);case "number":return isFinite(L)?D(L):"null";case "boolean":case "null":return D(L);case "object":if(!L)return"null";g+=x;f=[];if("[object Array]"===
Db.call(L)){h=L.length;for(e=0;e<h;e+=1)f[e]=d(e,L)||"null";l=0===f.length?"[]":g?"[\n"+g+f.join(",\n"+g)+"\n"+y+"]":"["+f.join(",")+"]";g=y;return l}if(r&&"object"===typeof r)for(h=r.length,e=0;e<h;e+=1)"string"===typeof r[e]&&(m=r[e],(l=d(m,L))&&f.push(c(m)+(g?": ":":")+l));else for(m in L)O(L,m)&&(l=d(m,L))&&f.push(c(m)+(g?": ":":")+l);l=0===f.length?"{}":g?"{\n"+g+f.join(",\n"+g)+"\n"+y+"}":"{"+f.join(",")+"}";g=y;return l}}z(X)&&(X=q.JSON={});"function"!==F(Vb.toJSON)&&(dataProto.toJSON=function(){return isFinite(this.valueOf())?
this.getUTCFullYear()+"-"+a(this.getUTCMonth()+1)+"-"+a(this.getUTCDate())+"T"+a(this.getUTCHours())+":"+a(this.getUTCMinutes())+":"+a(this.getUTCSeconds())+"Z":null},R.toJSON=$a.prototype.toJSON=Cb.prototype.toJSON=function(){return this.valueOf()});var b=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,f=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,g,x,r,u={"\b":"\\b",
"\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};"function"!==F(X.stringify)&&(X.stringify=function(a,c,b){var m;x=g="";if("number"===F(b))for(m=0;m<b;m+=1)x+=" ";else"string"===F(b)&&(x=b);if((r=c)&&"function"!==F(c)&&("object"!==F(c)||"number"!==F(c.length)))throw S("JSON.stringify");return d("",{"":a})});"function"!==F(X.parse)&&(X.parse=function(a,c){function d(a,b){var g,m=a[b];m&&"object"===F(m)&&O(m,void 0)&&(g=d(m,void 0),I(g)?m[void 0]=g:delete m[void 0]);return c.call(a,
b,m)}var g;a=D(a);b.lastIndex=0;b.test(a)&&(a=a.replace(b,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return g=ya("return ("+a+")").call(null),"function"===F(c)?d({"":g},""):g;throw S("JSON.parse");})})();(function(){C.forEach||(C.forEach=function(a,c){var d=0;if(z(this))throw va;
var b=r(this),f=b.length>>>0;for(ua(a);d<f;)d in b&&O(b,d)&&a.call(c,b[d],d,b),d++});C.each||r.defineProperty(C,"each",{enumerable:!1,configurable:!1,writable:!1,value:function(a,c){var d=0;if(z(this))throw va;var b=r(this),f=b.length>>>0;for(ua(a);d<f&&!(d in b&&O(b,d)&&!1===a.call(c,b[d],d,b));)d++}});C.unique||r.defineProperty(C,"unique",{enumerable:!1,configurable:!1,writable:!1,value:function(){return this.filter(function(a,c,d){return d.indexOf(a)===c})}});C.merge||r.defineProperty(C,"merge",
{enumerable:!1,configurable:!1,writable:!1,value:function(){for(var a=0;a<arguments.length;a++)for(var c=arguments[a],d=0;d<c.length;d++)-1===this.indexOf(c[d])&&this.push(c[d]);return this}});C.indexOf||(C.indexOf=function(a){for(var c=0;c<this.length;c++)if(this[c]===a)return c;return-1});C.map||r.defineProperty(C,"map",{enumerable:!1,configurable:!1,writable:!1,value:function(a,c){if(z(this))throw va;var d=this.length>>>0,b=W(d);ua(a);for(var f=0;f<d;f++)f in this&&O(this,f)&&(b[f]=a.call(c,this[f],
f,this));return b}});C.pluck||r.defineProperty(C,"pluck",{enumerable:!1,configurable:!1,writable:!1,value:function(a){var c=[],d,b,f;d=0;for(b=this.length;d<b;d++)f=this[d],I(f[a])&&c.push(f[a]);return 0<c.length?c:null}});C.filter||r.defineProperty(C,"filter",{enumerable:!1,configurable:!1,writable:!1,value:function(a,c){if(z(this))throw va;var d=r(this),b=d.length>>>0;ua(a);for(var f=[],g=0;g<b;g++)if(g in d&&O(d,g)){var q=d[g];a.call(c,q,g,d)&&f.push(q)}return f}});C.every||r.defineProperty(C,
"every",{enumerable:!1,configurable:!1,writable:!1,value:function(a,c){if(z(this))throw va;var d=r(this),b=d.length>>>0;ua(a);for(var f=0;f<b;f++)if(f in d&&O(d,f)&&!a.call(c,d[f],f,d))return!1;return!0}});C.some||r.defineProperty(C,"some",{enumerable:!1,configurable:!1,writable:!1,value:function(a,c){if(z(this))throw va;var d=r(this),b=d.length>>>0;ua(a);for(var f=0;f<b;f++)if(f in d&&O(d,f)&&a.call(c,d[f],f,d))return!0;return!1}});C.clean||r.defineProperty(C,"clean",{enumerable:!1,configurable:!1,
writable:!1,value:function(a){return this.filter(function(c){return null!==c&&I(c)&&!1===a&&""!==c})}});C.diff||r.defineProperty(C,"diff",{enumerable:!1,configurable:!1,writable:!1,value:function(a){return this.filter(function(c){return-1===a.indexOf(c)})}});C.clone||r.defineProperty(C,"clone",{enumerable:!1,configurable:!1,writable:!1,value:function(){return Z(this)}});C.keySort||function(){r.defineProperty(C,"keySort",{enumerable:!1,configurable:!1,writable:!1,value:function(a){a=a||{};var c="object"===
F(a)?r.keys(a):[],d=c.length;if(!d)return this.sort(a);r.forEach(a,function(a,c){this[a]="desc"===c||-1===c?-1:"skip"===c||0===c?0:1},a);this.sort(function(b,f){for(var g=0,r=0;0===g&&r<d;){var q=c[r];if(q){var g=b[q],u=f[q],q=a[q],q=null!==q?q:1,g=g==u?0:g>u?1*q:-1*q;r++}}return g});return this}})}();W.forEach||(W.forEach=function(a,c,d){C.forEach.call(a,c,d)});W.each||(W.each=function(a,c,d){C.each.call(a,c,d)});W.slice||(W.slice=function(a,c,d){return C.slice.call(a,c,d)});W.from||(W.from=function(a){return ga(a)});
W.of||(W.of=function(){return ga(arguments)});Q.bind=function(a){var c=C.slice.call(arguments,1),d=this,b=function(){},f=function(){return d.apply(this instanceof b&&a?this:a,c.concat(ga(arguments)))};d.__class__&&(f.__class__=d.__class__);d.__parent__&&(f.__parent__=d.__parent__);b.prototype=this.prototype;f.prototype=new b;return f};Q.bindTo||(Q.bindTo=Q.bind);Q.pass||(Q.pass=function(a,c){a=a||[];a=[].concat(a);var d=this;return function(){return d.apply(c,a.concat(ga(arguments)))}});Q.delay||
(Q.delay=function(a,c,d){return Oa(this.pass(d,c),a)});Q.defer||(Q.defer=Q.delay);Q.periodical||(Q.periodical=function(a,c,d){return Na(this.pass(d,c),a)});r.merge||(r.merge=qa);r.forEach||(r.forEach=function(a,c,d){for(var b in a)b in a&&O(a,b)&&c.call(d||a,b,a[b],a)});r.each||(r.each=function(a,c,d){for(var b in a)if(b in a&&O(a,b)&&!1===c.call(d||a,b,a[b],a))break});r.keyOf||(r.keyOf=function(a,c){for(var b in a)if(b===c)return b;return E});r.indexOf||(r.indexOf=function(a,c){for(var b in a)if(a[b]===
c)return b;return E});r.flip||(r.flip=function(a){var c={},b;for(b in a)b in a&&O(a,b)&&(c[a[b]]=b);return c});r.keys||(r.keys=function(a){var c=[],b;for(b in a)b in a&&O(a,b)&&c.push(b);return c});r.values||(r.values=function(a){var c=[],b;for(b in a)b in a&&O(a,b)&&c.push(a[b]);return c});r.contains||(r.contains=function(a,c,b){var m,f=!1,g;for(g in a)if(g in a&&O(a,g)&&(m=b?g:a[g],m===c)){f=g;break}return f});r.clone||(r.clone=function(a){return Z(a)});r.toQueryString||(r.toQueryString=function(a){var c=
[],b=function(a,f){f||(f="");for(var g in a){var q=a[g];q&&(""!==f&&(g=f+"["+g+"]"),"object"===F(q)?b(q,g):c.push(encodeURIComponent(g)+"="+encodeURIComponent(q)))}};b(a);return c.join("&")});T.now||(T.now=function(){return+new Date});D.sprintf||(D.sprintf=ub);D.vsprintf||(D.vsprintf=function(a,c){return D.sprintf.apply(this,[a].concat(c))});R.trim||(R.trim=function(){return D(this).replace(/^\s+|\s+$/g,"")});R.stripTags||(R.stripTags=function(a,c){return D(this).replace(Tb(a,c),"")});R.clean||(R.clean=
function(){return D(this).replace(/\s+/g," ").trim()});R.repeat||(R.repeat=function(a,c){for(var b=[],m=a||1;m--;)b.push(D(this));return b.join(c||"")});R.reverse||(R.reverse=function(){return ga(this).reverse().join("")});R.camelize||(R.camelize=function(){return D(this).replace(/-\D/g,function(a){return ra(a.charAt(1))})});R.capitalize||(R.capitalize=function(){return D(this).replace(/\b[a-z]/g,function(a){return ra(a)})});R.hyphenate||(R.hyphenate=function(){return D(this).replace(/[A-Z]/g,function(a){return"-"+
ca(a.charAt(0))})});R.dasherize||(R.dasherize=function(){var a=D(this);return-1===a.indexOf("_")?ca(a.replace(/[A-Z]/g,"-$&")):a.replace(/_/g,"-")})})();var $b=function(){function a(a){return F(q(e(a)))}function c(a){return s(q(e(a)))}function b(a,c){return k(q(e(a)),c)}function m(a,c){return F(r(e(a),e(c)))}function f(a,c){return s(r(e(a),e(c)))}function g(a,c,b){return k(r(e(a),e(c)),b)}function q(a){return l(h(p(a),8*a.length))}function r(a,c){var b=p(a);16<b.length&&(b=h(b,8*a.length));for(var d=
W(16),g=W(16),e=0;16>e;e++)d[e]=b[e]^909522486,g[e]=b[e]^1549556828;b=h(d.concat(p(c)),512+8*c.length);return l(h(g.concat(b),672))}function F(a){for(var c=L?"0123456789ABCDEF":"0123456789abcdef",b="",d,h=0;h<a.length;h++)d=a.charCodeAt(h),b+=c.charAt(d>>>4&15)+c.charAt(d&15);return b}function s(a){for(var c="",b=a.length,d=0;d<b;d+=3)for(var h=a.charCodeAt(d)<<16|(d+1<b?a.charCodeAt(d+1)<<8:0)|(d+2<b?a.charCodeAt(d+2):0),l=0;4>l;l++)c=8*d+6*l>8*a.length?c+Zb:c+tab.charAt(h>>>6*(3-l)&63);return c}
function k(a,c){var b=c.length,d=[],h,l,g,e,y=W(u.ceil(a.length/2));for(h=0;h<y.length;h++)y[h]=a.charCodeAt(2*h)<<8|a.charCodeAt(2*h+1);for(;0<y.length;){e=[];for(h=g=0;h<y.length;h++)if(g=(g<<16)+y[h],l=u.floor(g/b),g-=l*b,0<e.length||0<l)e[e.length]=l;d[d.length]=g;y=e}b="";for(h=d.length-1;0<=h;h--)b+=c.charAt(d[h]);d=u.ceil(8*a.length/(u.log(c.length)/u.log(2)));for(h=b.length;h<d;h++)b=c[0]+b;return b}function e(a){for(var c="",b=-1,d,h;++b<a.length;)d=a.charCodeAt(b),h=b+1<a.length?a.charCodeAt(b+
1):0,55296<=d&&(56319>=d&&56320<=h&&57343>=h)&&(d=65536+((d&1023)<<10)+(h&1023),b++),127>=d?c+=ma(d):2047>=d?c+=ma(192|d>>>6&31,128|d&63):65535>=d?c+=ma(224|d>>>12&15,128|d>>>6&63,128|d&63):2097151>=d&&(c+=ma(240|d>>>18&7,128|d>>>12&63,128|d>>>6&63,128|d&63));return c}function p(a){for(var c=W(a.length>>2),b=0,b=0;b<c.length;b++)c[b]=0;for(b=0;b<8*a.length;b+=8)c[b>>5]|=(a.charCodeAt(b/8)&255)<<24-b%32;return c}function l(a){for(var c="",b=0;b<32*a.length;b+=8)c+=ma(a[b>>5]>>>24-b%32&255);return c}
function h(a,c){a[c>>5]|=128<<24-c%32;a[(c+64>>9<<4)+15]=c;for(var b=W(80),d=1732584193,h=-271733879,l=-1732584194,g=271733878,e=-1009589776,m=0;m<a.length;m+=16){for(var p=d,n=h,t=l,B=g,L=e,f=0;80>f;f++){b[f]=16>f?a[m+f]:(b[f-3]^b[f-8]^b[f-14]^b[f-16])<<1|(b[f-3]^b[f-8]^b[f-14]^b[f-16])>>>31;var k=d<<5|d>>>27,w;w=20>f?h&l|~h&g:40>f?h^l^g:60>f?h&l|h&g|l&g:h^l^g;k=y(y(k,w),y(y(e,b[f]),20>f?1518500249:40>f?1859775393:60>f?-1894007588:-899497514));e=g;g=l;l=h<<30|h>>>2;h=d;d=k}d=y(d,p);h=y(h,n);l=y(l,
t);g=y(g,B);e=y(e,L)}return W(d,h,l,g,e)}function y(a,c){var b=(a&65535)+(c&65535);return(a>>16)+(c>>16)+(b>>16)<<16|b&65535}function Pa(){}var L=0,Zb="=";Pa.prototype={constructor:Pa,hex:function(c,b){return(b?m:a)(c,b)},b64:function(a,b){return(b?f:c)(a,b)},any:function(a,c,h){return(h?g:b)(a,c,h)}};return new Pa}(),Xa=function(a,c){a=a&&ca(a);c=c&&ca(c);var b=/(tnt browser)/.exec(a)||/(webkit|firefox|netfront|nds|nsn)[ \/]([\w.]+)/.exec(a)||/(webkit|opera)(?:.*version)?[ \/]([\w.]+)/.exec(a)||
/(msie) ([\w.]+)/.exec(a)||[],m=b[1]||"unknown",f=/mobile|midp/.test(a),g=c&&"activevideo"===c&&c,b=parseFloat(b[2]||0);switch(m){case "msie":b=G.documentMode||b;break;case "ipod":case "ipad":case "iphone":case "safari":case "chrome":case "netfront":m="webkit";break;case "tnt browser":g="naf";m="webkit";break;case "nds":case "nsn":g=m;m="webkit";break;case "opera":case "firefox":case "webkit":break;default:ia("browser not detected correctly"),m="unkown"}f={name:m,version:b,mobile:f};g&&(f.middleware=
g,f[g]=!0);f[m]=!0;return f}(mb.userAgent,mb.vendor),La=function(){function a(a,c,f){f=f||a;if(4===a.readyState){if(c.onComplete)c.onComplete(a);if(200===a.status)try{var m=(a.getResponseHeader("Content-Type")||"").split(";")[0],q;switch(ca(m)){case "text/xml":case "application/xml":q=a.responseXML;break;case "text/json":case "application/json":q=X.parse(a.responseText);break;case "text/javascript":case "application/javascript":q=ya("with(this){"+a.responseText.replace(Sa,"")+("}\n//# sourceURL="+
c.url)+"\n").call(c.scope);break;case "image/jpeg":case "image/jpg":case "image/png":case "image/gif":for(var k=a.responseText,e=k.length,p="",l=0;l<e;l+=1)p+=ma(k.charCodeAt(l)&255);q="data:"+m+";base64,"+db(p);break;default:if(/\.strings$/.test(c.url.split("?")[0])){m={};l=(a.responseText||"").replace(Sa,"").match(/(.+)=(.+);/gm)||[];for(k=0;k<l.length;k++){var h=l[k].match(/['"](.+)['"][\s|\t]+=[\s|\t]+['"](.+)['"]/);h&&3===h.length&&(m[h[1]]=h[2].replace(b,"$1"))}p=m}else p=a.responseText;q=p}c.onSuccess&&
c.onSuccess.call&&c.onSuccess.call(f,q,a)}catch(y){c.onError&&c.onError.call&&c.onError.call(f,y)}else c.onFailure&&c.onFailure.call&&c.onFailure.call(f,a)}}function c(c){c=c||{};c.method=c.method&&ra(c.method)||"GET";c.headers=c.headers||{};!0===c.form&&(c.headers["Content-Type"]="application/x-www-form-urlencoded");this.get=function(a){c.method="GET";return this.send(a)};this.post=function(a){c.method="POST";return this.send(a)};this.send=function(b){var d=c.scope||this,u=-1;b=b||c.data;!0===c.jsonp&&
(u=m++,b=b||{},I(c.callback)&&"string"===F(c.callback)?b[c.callback]=f+u:z(b.callback)&&(b.callback=f+u));"object"===F(b)&&(c.url+=""+(-1===c.url.indexOf("?")?"?":"&"),c.url=!0===c.form||"GET"===c.method?c.url+r.toQueryString(b):c.url+X.stringify(b));if(-1<u&&c.onSuccess&&c.onSuccess.call){var s;q[b.callback]=function(){I(s)?c.onSuccess.apply(c.scope||null,arguments):c.onFailure&&c.onFailure.call&&c.onFailure.call(d);s.destroy();s=E;delete q[b.callback]};try{s=Sb(c.url,null,c.onFailure.bind(d))}catch(k){c.onError&&
c.onError.call&&c.onError.call(d,k)}return this}var u=!1===c.async,e=new za;r.forEach(c.headers,function(a,c){e.setRequestHeader(a,c)});var p;I(c.timeout)&&!isNaN(c.timeout)&&(p=function(){p=E;if(I(e)){var a=0;try{a=e&&e.status||0}catch(b){}0===a&&(e.abort&&e.abort.call)&&(e.abort(),c.onTimeout&&c.onTimeout.call&&c.onTimeout.call(d,e))}}.delay(c.timeout));var l=c.url;c.user&&c.password?l=l.replace("//","//"+encodeURIComponent(c.user)+":"+encodeURIComponent(c.password)+"@"):c.user&&(l=l.replace("//",
"//"+encodeURIComponent(c.user)+"@"));-1!==l.indexOf("//")&&(-1===l.indexOf(sa+".com/")&&!1!==c.proxy)&&(l="//"+Ka[3]+"."+sa+".com/?url="+encodeURIComponent(l),"object"===F(c.proxy)&&r.forEach(c.proxy,function(a,c){"object"===F(c)&&(c=X.stringify(c));l+="&"+a+"="+escape(c)}));I(c.mimetype)&&(e.overrideMimeType&&e.overrideMimeType.call)&&e.overrideMimeType(c.mimetype);try{e.open(c.method,l,!u),e.send(b)}catch(h){c.onFailure&&c.onFailure.call&&c.onFailure.call(d,e,h);e=E;return}u?(I(p)&&(Fa(p),p=E),
a(e,c,d),e=E):e.onreadystatechange=function(){4===e.readyState&&(I(p)&&(Fa(p),p=E),a(e,c,d),e=E)};return this}}var b=/\\("|')/g,m=0,f="mafreq";c.prototype={constructor:c};return c}(),ac=function(){function a(){this.clear()}a.uid=0;a.prototype={constructor:a,get:function(a){return(a=this._data[this.hash(a)])&&a[1]},set:function(a,b){this._data[this.hash(a)]=[a,b]},has:function(a){return this.hash(a)in this._data},remove:function(a){delete this._data[this.hash(a)]},type:function(a){var b=ta.toString.call(a),
b=ca(b.slice(8,-1));return"domwindow"!==b||a?b:a+""},count:function(){var a=0,b;for(b in this._data)a++;return a},clear:function(){delete this._data;this._data={}},hash:function(c){switch(this.type(c)){case "undefined":case "null":case "boolean":case "number":case "regexp":return c+"";case "date":return":"+c.getTime();case "string":return'"'+c;case "array":for(var b=[],m=0;m<c.length;m++)b[m]=this.hash(c[m]);return"["+b.join("|");default:return c._hmuid_||(c._hmuid_=++a.uid,r.defineProperty&&r.defineProperty(c,
"_hmuid_",{enumerable:!1})),"{"+c._hmuid_}},forEach:function(a,b){b=b||this;for(var m in this._data){var f=this._data[m];a.apply(b,[f[1],f[0]])}}};return a}(),ec=function(){function a(a,c,b){function d(c,b){var h=a.runtimeStyle&&a.runtimeStyle[c],e,f=a.style;!/^-?[0-9]+\.?[0-9]*(?:px)?$/i.test(b)&&/^-?\d/.test(b)&&(e=f.left,h&&(a.runtimeStyle.left=a.currentStyle.left),f.left="fontSize"===c?"1em":b||0,b=f.pixelLeft+"px",f.left=e,h&&(a.runtimeStyle.left=h));return/^(thin|medium|thick)$/i.test(b)?b:
u.round(parseFloat(b))+"px"}var e,f=c.match(/^background(Size|Position)$/);s!==a&&(k=xa(a,null),s=a);e=k[c]||a.style[c];if(f){if(e=(e||"").split(","),e=e[b||0]||e[0]||"auto",e=e.trim().split(" "),"backgroundSize"!==c||e[0]&&!e[0].match(/cover|contain|auto/)){e[0]=-1===e[0].indexOf("%")?d(c+"X",e[0]):e[0];if(z(e[1])){if("backgroundSize"===c)return e[1]="auto",e;e[1]=e[0]}e[1]=-1===e[1].indexOf("%")?d(c+"Y",e[1]):e[1]}}else if(/border(Top|Bottom)(Left|Right)Radius/.test(c))c=e.split(" "),1>=c.length&&
(c[1]=c[0]),c[0]=N(c[0]),c[1]=N(c[1]),e=c;else if(/(margin|padding)(Top|Bottom|Left|Right)/.test(c)||/border(Top|Bottom|Left|Right)Width/.test(c)||"width"===c||"height"===c||/(top|left|bottom|right)/.test(c))return e=e&&N(e)||0,isNaN(e)?0:e;return e}function c(a){var c,b,d,e,f,m=[],g,p=0,q=0,k,r,M=function(){c&&('"'===b.substr(0,1)&&(b=b.substr(1,b.length-2)),b&&r.push(b),"-"===c.substr(0,1)&&0<(e=c.indexOf("-",1)+1)&&(d=c.substr(0,e),c=c.substr(e)),m.push({prefix:d,method:ca(c),value:f,args:r}));
r=[];c=d=b=f=""};M();for(var K=0,ja=a.length;K<ja;K++)if(g=a[K],!(0===p&&-1<" \r\n\t".indexOf(g))){switch(g){case '"':k?k===g&&(k=null):k=g;break;case "(":if(k)break;else if(0===p){p=1;f+=g;continue}else q++;break;case ")":if(k)break;else if(1===p)if(0===q){p=0;f+=g;M();continue}else q--;break;case ",":if(!k)if(0===p){M();continue}else if(1===p&&0===q&&!c.match(/^url$/i)){r.push(b);b="";f+=g;continue}}f+=g;0===p?c+=g:b+=g}M();return m}function b(c,d,e,f,g,m){d=a(d,c,g);var p;1===d.length&&(g=d[0],
d=[],d[0]=g,d[1]=g);if(-1!==d[0].toString().indexOf("%"))p=parseFloat(d[0])/100,g=e.width*p,"backgroundSize"!==c&&(g-=(m||f).width*p);else if("backgroundSize"===c)if("auto"===d[0])g=f.width;else if(d[0].match(/contain|cover/)){g=e.width;p=e.height;var k=d[0],q=f.width/f.height;g=k&&"auto"!==k?g/p<q^"contain"===k?p*q:g:g}else g=N(d[0]);else g=N(d[0]);"auto"===d[1]?e=g/f.width*f.height:-1!==d[1].toString().indexOf("%")?(p=parseFloat(d[1])/100,e=e.height*p,"backgroundSize"!==c&&(e-=(m||f).height*p)):
e=N(d[1]);return[g,e]}function m(a,c,e,f,g){a=b("backgroundPosition",a,c,e,f,g);return{left:a[0],top:a[1]}}function f(a,c,e,f){a=b("backgroundSize",a,c,e,f);return{width:a[0],height:a[1]}}function g(a){var c;try{var b;if(a.nodeName&&"IFRAME"===ra(a.nodeName))b=a.contentDocument||a.contentWindow.document;else{var d=a.childNodes;a=[];if(null!==d){var e=a.length,f=0;if("number"===typeof d.length)for(var g=d.length;f<g;f++)a[e++]=d[f];else for(;I(d[f]);)a[e++]=d[f++];a.length=e}b=a}c=b}catch(m){c=[]}return c}
function x(a,c){for(var b in a)O(a,b)&&(c[b]=a[b]);return c}function F(a,c){var b=[];return{storage:b,width:a,height:c,clip:function(){b.push({type:"function",name:"clip",arguments:arguments})},translate:function(){b.push({type:"function",name:"translate",arguments:arguments})},fill:function(){b.push({type:"function",name:"fill",arguments:arguments})},save:function(){b.push({type:"function",name:"save",arguments:arguments})},restore:function(){b.push({type:"function",name:"restore",arguments:arguments})},
fillRect:function(){b.push({type:"function",name:"fillRect",arguments:arguments})},createPattern:function(){b.push({type:"function",name:"createPattern",arguments:arguments})},drawShape:function(){var a=[];b.push({type:"function",name:"drawShape",arguments:a});return{moveTo:function(){a.push({name:"moveTo",arguments:arguments})},lineTo:function(){a.push({name:"lineTo",arguments:arguments})},arcTo:function(){a.push({name:"arcTo",arguments:arguments})},bezierCurveTo:function(){a.push({name:"bezierCurveTo",
arguments:arguments})},quadraticCurveTo:function(){a.push({name:"quadraticCurveTo",arguments:arguments})}}},drawImage:function(){b.push({type:"function",name:"drawImage",arguments:arguments})},fillText:function(){b.push({type:"function",name:"fillText",arguments:arguments})},setVariable:function(a,c){b.push({type:"variable",name:a,arguments:c})}}}function J(a,c){function b(){var a=new Ra,c=P("canvas"),d=z(c.getContext)?!1:c.getContext("2d");if(!1===d)return!1;c.width=c.height=10;a.source="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' width='10' height='10'><foreignObject width='10' height='10'><div xmlns='http://www.w3.org/1999/xhtml' style='width:10;height:10;'>sup</div></foreignObject></svg>";
try{d.drawImage(a,0,0),c.toDataURL()}catch(e){return!1}return!0}return{rangeBounds:function(){var a,b,d=!1;c.createRange&&(a=c.createRange(),a.getBoundingClientRect&&(b=P("boundtest"),b.style.height="123px",b.style.display="block",fa.appendChild(b),a.selectNode(b),a=a.getBoundingClientRect(),a=a.height,123===a&&(d=!0),fa.removeChild(b)));return d}(),svgRendering:a.svgRendering&&b()}}var s,k,e={},p=function(){var a={};return function(c,b,d){if(I(a[c+"-"+b]))return a[c+"-"+b];d=na("viewport");var e=
P("div"),f=P("img"),g=P("span"),m;e.setStyles({visibility:"hidden",fontFamily:c,fontSize:b,margin:0,padding:0});d.appendChild(e);f.source=Gb;f.width=1;f.height=1;f.setStyles({margin:0,padding:0,verticalAlign:"baseline"});g.setStyles({fontFamily:c,fontSize:b,margin:0,padding:0}).appendChild(Ga("Hidden Text"));e.appendChild(g);e.appendChild(f);m=f.offsetTop-g.offsetTop+1;e.removeChild(g);e.appendChild(Ga("Hidden Text"));e.setStyle("lineHeight","normal");f.setStyle("verticalAlign","super");f={baseline:m,
lineWidth:1,middle:f.offsetTop-e.offsetTop+1};a[c+"-"+b]=f;d.removeChild(e);return f}}();e.Parse=function(b,d){function e(a){var c="",b;do b=a%26,c=ma(b+64)+c,a/=26;while(26<26*a);return c}function k(a){var c="M CM D CD C XC L XL X IX V IV I".split(" "),b=[1E3,900,500,400,100,90,50,40,10,9,5,4,1],n="",d,t=c.length;if(0>=a||4E3<=a)return a;for(d=0;d<t;d+=1)for(;a>=b[d];)a-=b[d],n+=c[d];return n}function q(c,b){var n=N(a(c,b));return isNaN(n)?0:n}function s(a,c,b,n,d,t){"transparent"!==t&&(a.setVariable("fillStyle",
t),a.fillRect(c,b,n,d))}function I(a,c){switch(c){case "lowercase":return ca(a);case "capitalize":return a.replace(/(^|\s|:|-|\(|\))([a-z])/g,function(a,c,b){if(0<a.length)return c+ra(b)});case "uppercase":return ra(a);default:return a}}function Yb(a){return/^(normal|none|0px)$/.test(a)}function Ib(c,b,n,d){var t=a(b,"fontWeight"),e=a(b,"fontFamily"),v=a(b,"fontSize");switch(N(t)){case 401:t="bold";break;case 400:t="normal"}c.setVariable("fillStyle",d);c.setVariable("font",[a(b,"fontStyle"),a(b,"fontVariant"),
t,v,e].join(" "));c.setVariable("textAlign","left");if("none"!==n)return p(e,v,G)}function A(c,b,n){var t=n.ctx,e=a(c,"color"),v=a(c,"textDecoration");n=a(c,"textAlign");var B,f,ea=b,l=0;0<b.nodeValue.trim().length&&(b.nodeValue=I(b.nodeValue,a(c,"textTransform")),n=n.replace(["-webkit-auto"],["auto"]),f=!d.letterRendering&&/^(left|right|justify|auto)$/.test(n)&&Yb(a(c,"letterSpacing"))?b.nodeValue.split(/(\b| )/):b.nodeValue.split(""),B=Ib(t,c,v,e),d.chinese&&f.forEach(function(a,c){/.*[\u4E00-\u9FA5].*$/.test(a)&&
(a=a.split(""),a.unshift(c,1),f.splice.apply(f,a))}),f.forEach(function(a,c){var b;b=c<f.length-1;var n;if($.rangeBounds){if("none"!==v||0!==a.trim().length){b=ea;n=l;var d=G.createRange();d.setStart(b,n);d.setEnd(b,n+a.length);n=d.getBoundingClientRect()}l+=a.length}else if(ea&&"string"===typeof ea.nodeValue){b=b?ea.splitText(a.length):null;var la=ea;n=la.parentNode;var d=P("wrapper"),h=la.cloneNode(!0);d.appendChild(la.cloneNode(!0));n.replaceChild(d,la);la=d.getBounds();n.replaceChild(h,d);n=la;
ea=b}if(b=n)switch(n=b.left,d=b.bottom,null!==a&&0<a.trim().length&&t.fillText(a,n,d),v){case "underline":s(t,b.left,u.round(b.top+B.baseline+B.lineWidth),b.width,1,e);break;case "overline":s(t,b.left,u.round(b.top),b.width,1,e);break;case "line-through":s(t,b.left,u.ceil(b.top+B.middle+B.lineWidth),b.width,1,e)}}))}function E(c,b,n){var d;b=b.ctx;var t=a(c,"listStyleType");if(/^(decimal|decimal-leading-zero|upper-alpha|upper-latin|upper-roman|lower-alpha|lower-greek|lower-latin|lower-roman)$/i.test(t)){var v;
v=-1;var B=1,h=c.parentNode.childNodes;if(c.parentNode){for(;h[++v]!==c;)1===h[v].nodeType&&B++;v=B}else v=-1;switch(t){case "decimal":d=v;break;case "decimal-leading-zero":d=1===v.toString().length?"0"+v.toString():v.toString();break;case "upper-roman":d=k(v);break;case "lower-roman":d=ca(k(v));break;case "lower-alpha":d=ca(e(v));break;case "upper-alpha":d=e(v)}d+=". ";v=P("boundelement");v.style.display="inline";B=c.style.listStyleType;c.style.listStyleType="none";v.appendChild(Ga(d));c.insertBefore(v,
c.firstChild);t=v.getBounds();c.removeChild(v);c.style.listStyleType=B;Ib(b,c,"none",a(c,"color"));"inside"===a(c,"listStylePosition")&&(b.setVariable("textAlign","left"),c=n.left,n=t.bottom,null!==d&&0<d.trim().length&&b.fillText(d,c,n))}}function D(a){return(a=b[a])&&!0===a.succeeded?a.img:!1}function M(a,c){var b=u.max(a.left,c.left),n=u.max(a.top,c.top),d=u.min(a.left+a.width,c.left+c.width),t=u.min(a.top+a.height,c.top+c.height);return{left:b,top:n,width:d-b,height:t-n}}function K(a,c,b,n,d){var t=
q(c,"paddingLeft"),v=q(c,"paddingTop"),e=q(c,"paddingRight");c=q(c,"paddingBottom");w(a,b,0,0,b.width,b.height,n.left+t+d[3].width,n.top+v+d[0].width,n.width-(d[1].width+d[3].width+t+e),n.height-(d[0].width+d[2].width+v+c))}function ja(c){return["Top","Right","Bottom","Left"].map(function(b){return{width:q(c,"border"+b+"Width"),color:a(c,"border"+b+"Color")}})}function pa(c){return["TopLeft","TopRight","BottomRight","BottomLeft"].map(function(b){return a(c,"border"+b+"Radius")})}function n(a,c,b,
d){var t=function(a,c,b){return{x:a.x+(c.x-a.x)*b,y:a.y+(c.y-a.y)*b}};return{start:a,startControl:c,endControl:b,end:d,subdivide:function(v){var e=t(a,c,v),B=t(c,b,v),h=t(b,d,v),f=t(e,B,v),B=t(B,h,v);v=t(f,B,v);return[n(a,e,f,v),n(v,B,h,d)]},curveTo:function(a){a.push(["bezierCurve",c.x,c.y,b.x,b.y,d.x,d.y])},curveToReversed:function(n){n.push(["bezierCurve",b.x,b.y,c.x,c.y,a.x,a.y])}}}function t(a,c,b,n,d,t,v){0<c[0]||0<c[1]?(a.push(["line",n[0].start.x,n[0].start.y]),n[0].curveTo(a),n[1].curveTo(a)):
a.push(["line",t,v]);(0<b[0]||0<b[1])&&a.push(["line",d[0].start.x,d[0].start.y])}function B(a,c,b,n,d,t,v){var e=[];0<c[0]||0<c[1]?(e.push(["line",n[1].start.x,n[1].start.y]),n[1].curveTo(e)):e.push(["line",a.c1[0],a.c1[1]]);0<b[0]||0<b[1]?(e.push(["line",t[0].start.x,t[0].start.y]),t[0].curveTo(e),e.push(["line",v[0].end.x,v[0].end.y]),v[0].curveToReversed(e)):(e.push(["line",a.c2[0],a.c2[1]]),e.push(["line",a.c3[0],a.c3[1]]));0<c[0]||0<c[1]?(e.push(["line",d[1].end.x,d[1].end.y]),d[1].curveToReversed(e)):
e.push(["line",a.c4[0],a.c4[1]]);return e}function Da(c,b,n){var d,v,e,h,f,ea,l,g,m=b.left,M=b.top,Ya=b.width,p=b.height,k,q,w,Da,r=pa(c);g=b.left;k=b.top;ea=b.width;l=b.height;v=r[0][0];e=r[0][1];h=r[1][0];f=r[1][1];var H=r[2][0],Za=r[2][1];q=r[3][0];w=r[3][1];var Ea=ea-h,K=l-Za,aa=ea-H,s=l-w;d=Aa(g,k,v,e).topLeft.subdivide(0.5);v=Aa(g+n[3].width,k+n[0].width,u.max(0,v-n[3].width),u.max(0,e-n[0].width)).topLeft.subdivide(0.5);e=Aa(g+Ea,k,h,f).topRight.subdivide(0.5);h=Aa(g+u.min(Ea,ea+n[3].width),
k+n[0].width,Ea>ea+n[3].width?0:h-n[3].width,f-n[0].width).topRight.subdivide(0.5);f=Aa(g+aa,k+K,H,Za).bottomRight.subdivide(0.5);ea=Aa(g+u.min(aa,ea+n[3].width),k+u.min(K,l+n[0].width),u.max(0,H-n[1].width),u.max(0,Za-n[2].width)).bottomRight.subdivide(0.5);l=Aa(g,k+s,q,w).bottomLeft.subdivide(0.5);g=Aa(g+n[3].width,k+s,u.max(0,q-n[3].width),u.max(0,w-n[2].width)).bottomLeft.subdivide(0.5);k=[];switch(a(c,"backgroundClip")){case "content-box":case "padding-box":t(k,r[0],r[1],v,h,b.left+n[3].width,
b.top+n[0].width);t(k,r[1],r[2],h,ea,b.left+b.width-n[1].width,b.top+n[0].width);t(k,r[2],r[3],ea,g,b.left+b.width-n[1].width,b.top+b.height-n[2].width);t(k,r[3],r[0],g,v,b.left+n[3].width,b.top+b.height-n[2].width);break;default:t(k,r[0],r[1],d,e,b.left,b.top),t(k,r[1],r[2],e,f,b.left+b.width,b.top),t(k,r[2],r[3],f,l,b.left+b.width,b.top+b.height),t(k,r[3],r[0],l,d,b.left,b.top+b.height)}s={clip:k,borders:[]};for(c=0;4>c;c++)if(0<n[c].width){b=m;k=M;q=Ya;w=p-n[2].width;switch(c){case 0:w=n[0].width;
Da=B({c1:[b,k],c2:[b+q,k],c3:[b+q-n[1].width,k+w],c4:[b+n[3].width,k+w]},r[0],r[1],d,v,e,h);break;case 1:b=m+Ya-n[1].width;q=n[1].width;Da=B({c1:[b+q,k],c2:[b+q,k+w+n[2].width],c3:[b,k+w],c4:[b,k+n[0].width]},r[1],r[2],e,h,f,ea);break;case 2:k=k+p-n[2].width;w=n[2].width;Da=B({c1:[b+q,k+w],c2:[b,k+w],c3:[b+n[3].width,k],c4:[b+q-n[2].width,k]},r[2],r[3],f,ea,l,g);break;case 3:q=n[3].width,Da=B({c1:[b,k+w+n[2].width],c2:[b,k],c3:[b+q,k+n[0].width],c4:[b+q,k+w]},r[3],r[0],l,g,d,v)}s.borders.push({args:Da,
color:n[c].color})}return s}function Ea(a,c){var b=a.drawShape();c.forEach(function(a,c){b[0===c?"moveTo":a[0]+"To"].apply(null,a.slice(1))});return b}function qb(c,b,n){var d=P("valuewrap");"lineHeight textAlign fontFamily color fontSize paddingLeft paddingTop width height border borderLeftWidth borderTopWidth".split(" ").forEach(function(b){try{d.style[b]=a(c,b)}catch(n){}});d.style.borderColor="black";d.style.borderStyle="solid";d.style.display="block";d.style.position="absolute";if(/^(submit|reset|button|text|password)$/.test(c.type)||
"SELECT"===c.nodeName)d.style.lineHeight=a(c,"height");d.style.top=b.top+"px";d.style.left=b.left+"px";b="SELECT"===c.nodeName?(c.options[c.selectedIndex]||0).text:c.value;b||(b=c.placeholder);b=Ga(b);d.appendChild(b);fa.appendChild(d);A(c,b,n);fa.removeChild(d)}function w(a){a.drawImage.apply(a,C.slice.call(arguments,1))}function Jb(a,b){var n=xa(a,b);if(n&&n.content&&"none"!==n.content&&"-moz-alt-content"!==n.content&&"none"!==n.display){var d=n.content+"",t=d.substr(0,1);t===d.substr(d.length-
1)&&t.match(/'|"/)&&(d=d.substr(1,d.length-2));var t="url"===d.substr(0,3),v=P(t?"img":"span");v.className=Ba+"-before "+Ba+"-after";r.keys(n).filter(da).forEach(function(a){try{v.style[a]=n[a]}catch(c){}});t?v.source=c(d)[0].args[0]:v.innerHTML=d;return v}}function da(a){return isNaN(N(a))}function bc(a,c){var b=Jb(a,":before"),n=Jb(a,":after");if(b||n)b&&(a.className+=" "+Ba+"-before",a.parentNode.insertBefore(b,a),H(b,c,!0),a.parentNode.removeChild(b),a.className=a.className.replace(Ba+"-before",
"").trim()),n&&(a.className+=" "+Ba+"-after",a.appendChild(n),H(n,c,!0),a.removeChild(n),a.className=a.className.replace(Ba+"-after","").trim())}function Kb(a,c,b,n){var d=u.round(n.left+b.left);b=u.round(n.top+b.top);a.createPattern(c);a.translate(d,b);a.fill();a.translate(-d,-b)}function Ma(a,c,b,n,d,t,v,e){var h=[];h.push(["line",u.round(d),u.round(t)]);h.push(["line",u.round(d+v),u.round(t)]);h.push(["line",u.round(d+v),u.round(e+t)]);h.push(["line",u.round(d),u.round(e+t)]);Ea(a,h);a.save();
a.clip();Kb(a,c,b,n);a.restore()}function cc(c,b,n,d,t){var v=f(c,b,d,t),e=m(c,b,d,t,v);c=a(c,"backgroundRepeat").split(",").map(function(a){return a.trim()});d=rb(d,v);c=c[t]||c[0];switch(c){case "repeat-x":Ma(n,d,e,b,b.left,b.top+e.top,99999,d.height);break;case "repeat-y":Ma(n,d,e,b,b.left+e.left,b.top,d.width,99999);break;case "no-repeat":Ma(n,d,e,b,b.left+e.left,b.top+e.top,d.width,d.height);break;default:Kb(n,d,e,{top:b.top,left:b.left,width:d.width,height:d.height})}}function dc(b,n,d){for(var t=
a(b,"backgroundImage"),v=c(t),e=v.length;e--;)t=v[e],t.args&&0!==t.args.length&&(t=D("url"===t.method?t.args[0]:t.value))&&cc(b,n,d,t,e)}function rb(a,c){if(a.width===c.width&&a.height===c.height)return a;var b,n=P("canvas");n.width=c.width;n.height=c.height;b=n.getContext("2d");w(b,a,0,0,a.width,a.height,0,0,c.width,c.height);return n}function v(c,b,n){var t=F(b?n.width:Ta,b?n.height:Ua),v;var e=a(c,"zIndex");(v=b?b.zIndex:null)?"auto"!==e&&(e={zindex:e,children:[]},v.children.push(e),v=e):v=e={zindex:0,
children:[]};e=a(c,"opacity")*(b?b.opacity:1);t.setVariable("globalAlpha",e);b={ctx:t,zIndex:v,opacity:e,cssPosition:a(c,"position"),borders:ja(c),clip:b&&b.clip?x({},b.clip):null};!0===d.useOverflow&&(!0===/(hidden|scroll|auto)/.test(a(c,"overflow"))&&!1===/(BODY)/i.test(c.nodeName))&&(b.clip=b.clip?M(b.clip,n):n);b.zIndex.children.push(b);return b}function ea(a,b,c){a={left:b.left+a[3].width,top:b.top+a[0].width,width:b.width-(a[1].width+a[3].width),height:b.height-(a[0].width+a[2].width)};c&&(a=
M(a,c));return a}function Ya(b,c,n){var d=b.getBounds(),t,e=aa.test(b.nodeName)?"#efefef":a(b,"backgroundColor");c=v(b,c,d);var h=c.borders,B=c.ctx,f=ea(h,d,c.clip),l=Da(b,d,h);Ea(B,l.clip);B.save();B.clip();0<f.height&&0<f.width&&(s(B,d.left,d.top,d.width,d.height,e),dc(b,f,B));B.restore();l.borders.forEach(function(a){var b=a.args;a=a.color;"transparent"!==a&&(B.setVariable("fillStyle",a),Ea(B,b),B.fill())});n||bc(b,c);switch(b.nodeName){case "IMG":(t=D(b.getAttribute("src")))&&K(B,b,t,d,h);break;
case "INPUT":/^(text|url|email|submit|button|reset)$/.test(b.type)&&0<(b.value||b.placeholder||"").length&&qb(b,d,c);break;case "TEXTAREA":0<(b.value||b.placeholder||"").length&&qb(b,d,c);break;case "SELECT":0<(b.options||b.placeholder||"").length&&qb(b,d,c);break;case "LI":E(b,c,f);break;case "CANVAS":K(B,b,b,d,h)}return c}function H(b,c,n){"none"===a(b,"display")||("hidden"===a(b,"visibility")||b.hasAttribute("data-html2canvas-ignore"))||(c=Ya(b,c,n)||c,aa.test(b.nodeName)||g(b).forEach(function(a){1===
a.nodeType?H(a,c,n):3===a.nodeType&&A(b,a,c)}))}function Za(a,b){function c(a){a=g(a);var b=a.length,n,d,t,e,h;for(h=0;h<b;h+=1)if(e=a[h],3===e.nodeType)v+=e.nodeValue.replace(/</g,"&lt;").replace(/>/g,"&gt;");else if(1===e.nodeType&&!/^(script|meta|title)$/.test(ca(e.nodeName))){v+="<"+ca(e.nodeName);if(e.hasAttributes())for(n=e.attributes,t=n.length,d=0;d<t;d+=1)v+=" "+n[d].name+'="'+n[d].value+'"';v+=">";c(e);v+="</"+ca(e.nodeName)+">"}}var n=new Ra,d=Ta,t=Ua,v="";c(a);n.source=["data:image/svg+xml,",
"<svg xmlns='http://www.w3.org/2000/svg' version='1.1' width='"+d+"' height='"+t+"'>","<foreignObject width='"+d+"' height='"+t+"'>","<html xmlns='http://www.w3.org/1999/xhtml' style='margin:0;'>",v.replace(/\#/g,"%23"),"</html></foreignObject></svg>"].join("");n.onload=function(){b.svgRender=n}}var Lb=z(d.elements)?na("viewport"):d.elements[0],$=J(d,G),aa=Ia("("+d.ignoreElements+")"),Ba="__internal___pseudoelement",sb=P("style");sb.innerHTML="."+Ba+'-before:before { content: "" !important; display: none !important; }.'+
Ba+'-after:after { content: "" !important; display: none !important; }';fa.appendChild(sb);b=b||{};var Aa=function(a){return function(b,c,d,t){var v=d*a,e=t*a;d=b+d;t=c+t;return{topLeft:n({x:b,y:t},{x:b,y:t-e},{x:d-v,y:c},{x:d,y:c}),topRight:n({x:b,y:c},{x:b+v,y:c},{x:d,y:t-e},{x:d,y:t}),bottomRight:n({x:d,y:c},{x:d,y:c+e},{x:b+v,y:t},{x:b,y:t}),bottomLeft:n({x:d,y:t},{x:d-v,y:t},{x:b,y:c+e},{x:b,y:c})}}}(4*((u.sqrt(2)-1)/3));return function(){var b=Ya(Lb,null);$.svgRendering&&Za(G.documentElement,
b);C.slice.call(Lb.children,0).forEach(function(a){H(a,b)});b.backgroundColor=a(G.documentElement,"backgroundColor");fa.removeChild(sb);return b}()};e.Preload=function(b){function d(){!A.firstRun&&A.numLoaded>=A.numTotal&&"function"===typeof b.complete&&b.complete(A)}function e(a,c,t){var B,f=b.proxy,g;n.href=a;a=n.href;B="html2canvas_"+K++;t.callbackname=B;f=-1<f.indexOf("?")?f+"&":f+"?";f+="url="+encodeURIComponent(a)+"&callback="+B;g=P("script");q[B]=function(b){"error:"===b.substring(0,6)?(t.succeeded=
!1,A.numLoaded++,A.numFailed++,d()):(s(c,t),c.source=b);q[B]=E;try{delete q[B]}catch(a){}g.parentNode.removeChild(g);g=null;delete t.script;delete t.callbackname};g.setAttribute("type","text/javascript");g.setAttribute("src",f);t.script=g;fa.appendChild(g)}function f(b,a){var n=xa(b,a),d=n.content;"url"===d.substr(0,3)&&x.loadImage(c(d)[0].args[0]);p(n.backgroundImage,b)}function k(b){f(b,":before");f(b,":after")}function m(b){return b&&b.method&&b.args&&0<b.args.length}function p(b,a){var n;c(b).filter(m).forEach(function(b){if("url"===
b.method)x.loadImage(b.args[0]);else if(b.method.match(/\-?gradient$/)){z(n)&&(n=a.getBounds());b=b.value;var c=createGradient(b,n);I(c)&&(A[b]={img:c,succeeded:!0},A.numTotal++,A.numLoaded++,d())}})}function r(b){var c=!1;try{g(b).forEach(function(b){r(b)})}catch(n){}try{c=b.nodeType}catch(d){c=!1}if(1===c||z(c)){k(b);try{p(a(b,"backgroundImage"),b)}catch(t){}p(b)}}function s(a,c){a.onload=function(){I(c.timer)&&Fa(c.timer);A.numLoaded++;c.succeeded=!0;a.onerror=a.onload=null;d()};a.onerror=function(){if("anonymous"===
a.crossOrigin&&(Fa(c.timer),b.proxy)){var n=a.source;a=new Ra;c.img=a;a.source=n;e(a.source,a,c);return}A.numLoaded++;A.numFailed++;c.succeeded=!1;a.onerror=a.onload=null;d()}}var A={numLoaded:0,numFailed:0,numTotal:0,cleanupDone:!1},u,x,M,K=0;M=b.elements[0]||fa;var ja=M.getElementsByTagName("img"),pa=ja.length,n=P("a"),t=function(b){return I(b.crossOrigin)}(new Ra),B;n.href=lb.href;u=n.protocol+n.host;x={loadImage:function(a){var c,d;a&&z(A[a])&&(c=new Ra,a.match(/data:image\/.*;base64,/i)?(c.source=
a.replace(/url\(['"]{0,}|['"]{0,}\)$/ig,""),d=A[a]={img:c},A.numTotal++,s(c,d)):(n.href=a,n.href=n.href,n.protocol+n.host===u||!0===b.allowTaint?(d=A[a]={img:c},A.numTotal++,s(c,d),c.source=a):t&&!b.allowTaint&&b.useCORS?(c.crossOrigin="anonymous",d=A[a]={img:c},A.numTotal++,s(c,d),c.source=a,c.customComplete=function(){if(this.img.complete)this.img.onerror();else this.timer=Oa(this.img.customComplete,100)}.bind(d),c.customComplete()):b.proxy&&(d=A[a]={img:c},A.numTotal++,e(a,c,d))))},cleanupDOM:function(b){var a,
c;if(!A.cleanupDone){for(c in A)if(O(A,c)&&(a=A[c],"object"===typeof a&&a.callbackname&&z(a.succeeded))){q[a.callbackname]=E;try{delete q[a.callbackname]}catch(n){}a.script&&a.script.parentNode&&(a.script.setAttribute("src","about:blank"),a.script.parentNode.removeChild(a.script));A.numLoaded++;A.numFailed++}I(q.stop)?q.stop():I(G.execCommand)&&G.execCommand("Stop",!1);I(G.close)&&G.close();A.cleanupDone=!0;b&&"string"===typeof b||d()}},renderingDone:function(){B&&Fa(B)}};0<b.timeout&&(B=Oa(x.cleanupDOM,
b.timeout));A.firstRun=!0;r(M);for(M=0;M<pa;M+=1)x.loadImage(ja[M].getAttribute("src"));A.firstRun=!1;A.numTotal===A.numLoaded&&d();return x};e.Renderer=function(a,b){return function(a){if("string"===typeof b.renderer&&I(e.Renderer[a]))a=e.Renderer[a](b);else if("function"===typeof a)a=a(b);else throw S("Unknown renderer");if("function"!==typeof a)throw S("Invalid renderer defined");return a}(b.renderer)(a,b,document,function(a){var b=[],c=function(a){var d=[],e=[];a.children.forEach(function(a){a.children&&
0<a.children.length?(d.push(a),e.push(a.zindex)):b.push(a)});e.sort(function(a,b){return a-b});e.forEach(function(a){var b;d.some(function(c,d){b=d;return c.zindex===a});c(d.splice(b,1)[0])})};c(a.zIndex);return b}(a),e)};e.Renderer.Canvas=function(a){function b(a,c){a.beginPath();c.forEach(function(b){a[b.name].apply(a,b.arguments)});a.closePath()}function c(g,k){switch(k.type){case "variable":g[k.name]=k.arguments;break;case "function":if("createPattern"===k.name){if(0<k.arguments[0].width&&0<k.arguments[0].height)try{g.fillStyle=
g.createPattern(k.arguments[0],"repeat")}catch(m){}}else if("drawShape"===k.name)b(g,k.arguments);else if("drawImage"===k.name){if(0<k.arguments[8]&&0<k.arguments[7]){var p;if(!(p=!a.taintTest)&&(p=a.taintTest))a:{if(-1===d.indexOf(k.arguments[0].src)){f.drawImage(k.arguments[0],0,0);try{f.getImageData(0,0,1,1)}catch(q){e=P("canvas");f=e.getContext("2d");p=!1;break a}d.push(k.arguments[0].src)}p=!0}if(p)try{g.drawImage.apply(g,k.arguments)}catch(M){}}}else g[k.name].apply(g,k.arguments)}}a=a||{};
var d=[],e=P("canvas"),f=e.getContext("2d"),g=a.canvas||P("canvas");return function(a,b,d,e,f){d=g.getContext("2d");var h;g.width=g.style.width=b.width||a.ctx.width;g.height=g.style.height=b.height||a.ctx.height;f=d.fillStyle;d.fillStyle="transparent"!==a.backgroundColor&&"rgba(0, 0, 0, 0)"!==a.backgroundColor||!I(b.background)?a.backgroundColor:b.background;d.fillRect(0,0,g.width,g.height);d.fillStyle=f;if(b.svgRendering&&I(a.svgRender))d.drawImage(a.svgRender,0,0);else for(f=0,h=e.length;f<h;f+=
1)a=e.splice(0,1)[0],a.canvasPosition=a.canvasPosition||{},d.textBaseline="bottom",a.clip&&(d.save(),d.beginPath(),d.rect(a.clip.left,a.clip.top,a.clip.width,a.clip.height),d.clip()),a.ctx.storage&&a.ctx.storage.forEach(c.bind(null,d)),a.clip&&d.restore();h=b.elements.length;return 1===h&&"object"===typeof b.elements[0]&&"BODY"!==b.elements[0].nodeName?(e=b.elements[0].getBounds(),b=P("canvas"),b.width=e.width,b.height=e.height,d=b.getContext("2d"),d.drawImage(g,e.left,e.top,e.width,e.height,0,0,
e.width,e.height),g=null,b):g}};return function(a,b){function c(){e.Preload(k)}a=a.length?a:[a];var d=na("viewport"),f,g,k={elements:a,background:"transparent",proxy:null,timeout:0,useCORS:!1,allowTaint:!1,svgRendering:!1,ignoreElements:"IFRAME|OBJECT|PARAM",useOverflow:!0,letterRendering:!1,chinese:!1,width:null,height:null,taintTest:!1,renderer:"Canvas"},k=x(b,k);k.complete=function(a){var b=1*ba,c=1*U;U=ba=1;if("function"!==typeof k.onpreloaded||!1!==k.onpreloaded(a))if(d.setStyle(wa+"transform",
"scale("+ba+","+U+")"),f=e.Parse(a,k),"function"!==typeof k.onparsed||!1!==k.onparsed(f))if(g=e.Renderer(f,k),d.setStyle(wa+"transform","scale("+b+","+c+")"),ba=b,U=c,"function"===typeof k.onrendered)k.onrendered(g)};!1!==k.async?Oa(c,0):c()}}(),na=function(){function a(a,b){return N(u.sqrt(u.pow(b[0]-a[0],2)+u.pow(b[1]-a[1],2)))}function c(a){a&&z(a._elementID)&&(a._elementID=++X);return a._elementID}function d(a,b){if(a&&a.retrieve)return a.retrieve(b)}function m(a,b,c){a&&a.store&&(z(c)?a.eliminate(b):
a.store(b,c));return a}function f(a){return d(a,"type")}function g(a,b){return d(a,"type")===b}function x(a,b){if(d(a,"recalc")||b)m(a,"recalc"),"center"===a.hAlign&&(a.hOffset=a.hOffset),"center"===a.vAlign&&(a.vOffset=a.vOffset)}function C(a){return g(a,"text")?a.lastChild:E}function W(a){var b=0,c;q.getSelection&&a?(c=q.getSelection(),0<c.rangeCount&&(b=c.getRangeAt(0),c=b.cloneRange(),c.selectNodeContents(a),c.setEnd(b.endContainer,b.endOffset),b=c.toString().length)):G.selection&&("Control"!==
G.selection.type&&a)&&(b=G.selection.createRange(),c=fa.createTextRange(),c.moveToElementText(a),c.setEndPoint("EndToEnd",b),b=c.text.length);return b}var s=q.Element&&q.Element.prototype,k=q.HTMLElement&&q.HTMLElement.prototype,e=q.HTMLImageElement&&q.HTMLImageElement.prototype||k,p=q.Event&&q.Event.prototype,l=q.KeyboardEvent&&q.KeyboardEvent.prototype,h="hOffset vOffset hAlign vAlign width height zOrder opacity visible anchorStyle wrap truncation".split(" "),y={},X=0,L,V;if(z(s))throw S("Element needs to exist");
(function(){var a={};(function(b){k.addEventListener=function(d,e,f){f=!0===f;a[d]||(a[d]=[]);var h=this._elementID||c(this);a[d].push({id:h,type:d,fn:e,capture:f});return b.apply(this,[d,e,f])}})(k.addEventListener);(function(b){k.removeEventListener=function(c,d,e){var f=this,h=[];if(!d&&f){e=[];if("string"===F(c))e=[c];else for(var g in a)e.push(g);e.forEach(function(b){h=a[b]?h.concat(a[b].filter(function(a){return a.id===f._elementID})):h})}else f&&c?h=a[c]?h.concat(a[c].filter(function(a){return a.id===
f._elementID&&a.fn===d})):h:ia("nothing found");h.forEach(function(c){var d=a[c.type],e=d&&d.indexOf(c);I(e)&&-1<e&&d.splice(e,1);d&&0===d.length&&delete a[c.type];b.apply(f,[c.type,c.fn,c.capture])})}})(k.removeEventListener)})();s.getBoundingClientRect||(s.getBoundingClientRect=function(){for(var a=this,b=a.offsetWidth,c=a.offsetHeight,b={left:0,top:0,right:b,bottom:c,width:b,height:c};a&&a!==fa;){var c=a.offsetLeft,d=a.offsetTop;b.left+=c;b.top+=d;b.right+=c;b.bottom+=d;a=a.offsetParent}return b});
var Y="top bottom left right width height".split(" "),O=function(){var a=P();return r.keys(a)}();ab(s,{getBounds:function(){var a=this.getBoundingClientRect();return{top:u.round(a.top/U),bottom:u.round((a.bottom||a.top+a.height)/U),left:u.round(a.left/ba),right:u.round(a.right/ba),width:u.round((a.width||a.right-a.left)/ba),height:u.round((a.height||a.bottom-a.top)/U)}},addClass:function(a){var b=this.className;if(!this.hasClass(a))return""!==b&&(a=" "+a),this.className=b+a,this},hasClass:function(a){return Ia("\\s?\\b"+
a+"\\b","g").test(this.className)},removeClass:function(a){var b=this.className;a=Ia("\\s?\\b"+a+"\\b","g");this.className=b=b.replace(a,"")},setStyles:function(a){for(var b in a||{})this.setStyle(b,a[b]);return this},getStyle:function(a){var b;b=-1===h.indexOf(a)?Qa(this,a):this[a];!z(b)&&"auto"!==b&&"inherit"!==b||-1===Y.indexOf(a)||(b=this.getBounds()[a]);return b},setStyle:function(a,b){a=-1!==a.indexOf("-")?a.camelize():a;"backgroundImage"===a&&0!==b.indexOf("url(")&&(b="url("+b+")");-1===h.indexOf(a)?
this.style[a]=b:this[a]=b;return this},getTextBounds:function(){var a=d(this,"textBounds");this.parentNode&&(g(this,"text")&&z(a))&&(a=this.data?ib(this):{width:0,height:0},m(this,"textBounds",a));return a},store:function(a,b){var d=this._elementID||c(this);z(y[d])&&(y[d]={});y[d]&&(y[d][a]=b)},retrieve:function(a){var b=this._elementID||c(this);return y&&y[b]&&y[b][a]},eliminate:function(a){var b=this._elementID;b&&y[b]&&delete y[b][a]},appendTo:function(a){return this.inject(a)},inject:function(a,
b){if("top"===b&&a){var c=a.firstChild||E;c?a.insertBefore(this,c):b=E}b&&"bottom"!==b||!a||a.appendChild(this);x(this);return this},detach:function(){this.parentNode&&this.parentNode.removeChild&&this.parentNode.removeChild(this);return this},empty:function(a){a=a||!1;if(!this.firstChild||1!==this.firstChild.nodeType)return this;for(;this.lastChild;){var b=this.lastChild,c=a?E:b&&b.owner;c&&c.element===b?c.suicide():b&&(b.destroy(),b&&c&&ia("owner still exists",c.ClassName,b))}return this},destroy:function(a){var b=
this.detach(),c=b._elementID;b.empty.delay(0,b,[a]);b.removeEventListeners&&b.removeEventListeners();I(c)&&y[c]&&delete y[c];delete b._elementID;try{return ob.call(b)}finally{r.forEach(b,function(a,c){var d=F(c);!c||(-1!==O.indexOf(a)||"instance"!==d&&"object"!==d&&"element"!==d&&"array"!==d)||ia("memory leak?",a,d,b)})}},removeFromParentNode:function(){return this.destroy()},createImage:function(){var a=P("img").addClass("image");ia("createImage is only available in SDK");ec(this,{async:!1,onrendered:function(b){a.width=
b.width;a.height=b.height;b=b.toDataURL();a.setAttribute("src",b)}});return a},select:function(){this.focusable&&!this.disabled&&this.dispatchEvent(oa("select",E,!0,!0));return this},navigate:function(b,c,d){var e=T.now(),h=G.activeElement||this,g=this.window||this,k=this.getBounds()||{},l=k.width-(this.scrollLeft||0),m=k.height-(this.scrollTop||0),p=[];if(g){g=I(g.querySelectorAll)?g.querySelectorAll("[tabindex]:not([class*=disabled])")||[]:g.getElementsByTagName("*")||[];c||("left"===b||"right"===
b?c=[k[b],k.top+m/2]:"up"===b?c=[k.left+l/2,k.top]:"down"===b&&(c=[k.left+l/2,k.bottom]));for(var M=0;M<g.length;M++){var q=g[M],r=f(q);if(q.focusable&&(!q.disabled&&"window"!==r&&q!==h&&q.allowNavigation)&&"hidden"!==(xa(q,null)||{}).visibility){var r=("innerText"===r?q.parentNode:q).getBounds()||{},s,K;if("left"===b||"right"===b)if(s=r["left"===b?"right":"left"],K=r.top+r.height/2,u.abs(K-c[1])>=u.abs(r.bottom-c[1])&&(K=r.bottom-r.height/2),"right"===b&&c[0]-l/2>=s)continue;else{if("left"===b&&
c[0]+l/2<=s)continue}else if("up"===b||"down"===b)if(s=r.left+r.width/2,K=r["up"===b?"bottom":"top"],u.abs(s-c[0])>=u.abs(r.right-c[0])&&(s=r.right-r.width/2),"up"===b&&(c[1]+m/2<=K||r.top>=k.top))continue;else if("down"===b&&(c[1]-m/2>=K||r.top<k.top))continue;p.push({distance:a(c,[s,K]),x:r.left,y:"left"===b||"right"===b?u.abs(r.top-k.top):r.top,el:q})}}if(0<p.length)return p.keySort({y:"up"===b?"desc":"asc",distance:"asc"}),c=p[0].el,!d&&c&&(c.focus(),V=b),Ca(e,"navigate, found "+p.length),c||
!1;Ca(e,"navigate, nothing found");return!1}}});b(s,"focusedView",function(){var a=G.activeElement,b=a.window,c=this.window,d=f(a);if("window"===d||a===fa||!c)return!1;if(b&&"dialog"===f(b))return b;if("view"===d)return a==c?a:!1;for(a=a.parentNode;a;){if(a===c)return a;a=a.parentNode}return!1});b(s,"window",function(){if(g(this,"view"))return this;for(var a=this.parentNode,b=f(a);a&&"view"!==b&&"dialog"!==b;){if("window"===b)return!1;a=a.parentNode;b=f(a)}return a});b(s,"visible",function(){return"hidden"!==
this.style.visibility});J(s,"visible",function(a){this.style.visibility=!1===a?"hidden":null});b(s,"focusable",function(){return this.wantsFocus});b(s,"hasFocus",function(){return this===G.activeElement});var Q=function(a){var b=a&&a.target||this;if(b&&b!==G.activeElement&&(a.type!==Va||b.allowNavigation)){for(var c=f(b);b&&"window"!==c&&"view"!==c&&"dialog"!==c;){if(b===G.activeElement)return;if(!b.hasFocus&&b.focusable&&!b.disabled){switch(a.type){case Va:b.focus();break;case eb:b.removeClass("focused")}return}b=
b.parentNode;c=f(b)}a.stopPropagation();a.preventDefault()}},A=function(a){if(!a.defaultPrevented)switch(a.type){case "focus":this.addClass("focused");break;case "blur":this.removeClass("focused")}},R=["focus","blur"];b(s,"wantsFocus",function(){return this.hasAttribute("tabindex")});J(s,"wantsFocus",function(a){var b=f(this);!0===a?(this.setAttribute("tabindex",-1),R.forEach(function(a){this.addEventListener(a,A)},this),"window"!==b&&("view"!==b&&"dialog"!==b)&&(this.addEventListener(Va,Q),this.addEventListener(eb,
Q))):("window"!==b&&("view"!==b&&"dialog"!==b)&&(this.removeEventListener(Va,Q),this.removeEventListener(eb,Q)),R.forEach(function(a){this.removeEventListener(a,A)},this),this.removeAttribute("tabindex"))});b(s,"frozen",function(){return this.hasClass("frozen")});J(s,"frozen",function(a){!0===a?this.addClass("frozen"):(this.removeClass("frozen"),x(this))});b(s,"updatesEnabled",function(){return!this.frozen});J(s,"updatesEnabled",function(a){this.frozen=!1===a});b(s,"zOrder",function(){return this.style.zIndex});
J(s,"zOrder",function(a){this.style.zIndex=a});b(s,"opacity",function(){return parseFloat(this.style.opacity||1)});J(s,"opacity",function(a){this.style.opacity=1>a?a:null});b(s,"allowNavigation",function(){var a=f(this);if(!1===d(this,"allowNavigation"))return!1;if("view"===a||"window"===a||"dialog"===a)return!0;for(var b=this.parentNode;b;){a=f(b);if(!1===d(b,"allowNavigation"))return!1;if("view"===a||"window"===a||"dialog"===a)break;b=b.parentNode}return!0});J(s,"allowNavigation",function(a){m(this,
"allowNavigation",!0===a?E:!1)});b(s,"disabled",function(){return this.hasClass("disabled")});J(s,"disabled",function(a){!0===a?this.addClass("disabled"):this.removeClass("disabled")});var Z={h:"left",v:"top",width:"h",height:"v"},M={bottom:"top",right:"left"};["h","v"].forEach(function(a){b(s,a+"Align",function(){return d(this,a+"Align")||Z[a]});J(s,a+"Align",function(b){b=b||Z[a];var c=d(this,a+"Align")||Z[a];if(c!==b){m(this,a+"Align",b);b=this.style;var e=this[a+"Offset"]||0;"center"===c?(eliminate(this,
a+"Offset"),c="margin"+Z[a].capitalize(),b[Z[a]]=b[c]=null):b[c]=null;this[a+"Offset"]=e}});b(s,a+"Offset",function(){var b=this[a+"Align"];if("center"===b)return d(this,a+"Offset")||0;b=Qa(this,b)||0;return"auto"!==b&&"inherit"!==b&&b?parseFloat(b):0});J(s,a+"Offset",function(b){b=b||0;var c=f(this),d=this[a+"Align"],e=this.style;"list"!==c&&"item"!==c||"absolute"===e.position?"center"===d?(m(this,a+"Offset",b),d=("h"===a?this.width:this.height)||0,c="margin"+Z[a].capitalize(),0<d?(e[c]=b+-1*(d/
2)+"px",e[Z[a]]="50%"):m(this,"recalc",!0)):(c=M[d],"auto"===(c?Qa(this,c):"auto")||e[c]||(e[c]="auto"),e[d]=b):e["margin"+d.capitalize()]=b})});["width","height"].forEach(function(a){b(s,a,function(){var b=Qa(this,a)||0,c=0;g(this,"text")&&"height"===a&&(c=this.lineHeight);return"auto"!==b&&"inherit"!==b&&b&&-1===b.indexOf("%")?parseFloat(b):c});J(s,a,function(b){var c=Z[a];g(this,"image")?this.setAttribute(a,b):this.style[a]=isNaN(b)||!b?b:b+"px";"center"===this[c+"Align"]&&m(this,"recalc",!0);
x(this)})});b(s,"lastNavigation",function(){return V});b(s,"currentNavigation",function(){return L});b(s,"owner",function(){return d(this,"owner")});J(s,"owner",function(a){m(this,"owner",a||E)});b(s,"html",function(){return this.innerHTML||""});J(s,"html",function(a){this.innerHTML=a||""});var K=function(a){(a&&a.target||this).dispatchEvent(oa("layoutchange"))};b(s,"allowChangeEvents",function(){return d(this,"allowChangeEvents")||!1});J(s,"allowChangeEvents",function(a){a?this.addEventListener("scroll",
K):this.removeEventListener("scroll",K);m(this,"allowChangeEvents",a||E)});["data","text"].forEach(function(a){b(s,a,function(){var a=C(this);return a&&a.html||""});J(s,a,function(a){var b=C(this);b&&b.html!==a&&(m(this,"textBounds"),m(this,"totalLines"),m(this,"visibleLines"),b.height=null,b.html=a||"",!0===this.allowChangeEvents&&(K.call(this),this.dispatchEvent(oa("change"))))})});b(s,"cursor",function(){var a=C(this);return a&&this.editable?W(a)||0:!1});J(s,"cursor",function(a){var b=C(this);
if(b&&-1<a&&q.getSelection&&b&&b.firstChild){var c=q.getSelection();if(0<c.rangeCount){var d=c.getRangeAt(0),e=G.activeElement;b.focus();d.collapse(!0);try{d.setStart(b.firstChild,a),d.setEnd(b.firstChild,a),c.removeAllRanges(),c.addRange(d)}catch(f){}e!==b&&e.focus()}}});b(s,"editable",function(){var a=C(this);return a&&a.hasAttribute("contenteditable")||E});J(s,"editable",function(a){});b(s,"color",function(){return this.style.color||E});J(s,"color",function(a){this.style.color=a});b(s,"font",function(){return this.style.fontFamily||
E});J(s,"font",function(a){this.style.fontFamily=a});b(s,"truncated",function(){var a=C(this);if(a)return"ellipsis"===a.style.textOverflow?!0:!1});b(s,"truncation",function(){var a=C(this);return a&&"ellipsis"===a.style.textOverflow?"end":E});J(s,"truncation",function(a){var b=C(this);b&&(b=b.style,"end"===a?(b.overflow="hidden",b.textOverflow="ellipsis"):(b.overflow="visible",b.textOverflow="clip"))});b(s,"lineHeight",function(){return Ab(this)});J(s,"lineHeight",function(a){this.style.lineHeight=
a});b(s,"totalLines",function(){var a=C(this);if(a){var b=d(this,"totalLines");if(!b&&(a=ib(a))){b=a.height/this.lineHeight;if(isNaN(b))return 0;b=u.ceil(b);m(this,"totalLines",b)}return b}});b(s,"visibleLines",function(){if(g(this,"text")){var a=d(this,"visibleLines");if(!a){if(""===(this.data||this.html||""))a=0;else{var a=this.clientHeight,b=Ab(this);!a&&this.height?a=N(this.height):!a&&(this.parentNode&&this.parentNode.width)&&(a=ib(this,!0).height);a=u.max(u.floor(a/b),0)}m(this,"visibleLines",
a)}return a}});J(s,"visibleLines",function(a){g(this,"text")&&(this.height=a*this.lineHeight)});b(s,"firstLine",function(){if(g(this,"text"))return N((this.scrollTop||0)/this.lineHeight)});J(s,"firstLine",function(a){if(g(this,"text")){if(0<a){var b=this.totalLines/this.visibleLines,c=u.floor(b),d=u.ceil(b);c!==d&&(m(this,"totalLines",this.visibleLines*d),b=C(this),c=b.height/c*d,b.height=isFinite(c)?c:null)}this.scrollTop=a*this.lineHeight}});b(s,"wrap",function(){return"nowrap"!==Qa(this,"white-space")});
J(s,"wrap",function(a){var b=C(this);this.style.whiteSpace=a?"normal":"nowrap";b&&(b.style.wordWrap=a?"break-word":"normal")});b(s,"anchorStyle",function(){var a=C(this);if(a)return((a.style.textAlign||"left")+"-"+(a.style.verticalAlign||"top")).camelize()});J(s,"anchorStyle",function(a){var b=C(this);b&&a&&(a=zb(a),b=b.style,b.textAlign=a[0]||null,b.verticalAlign=a[1]||null)});b(k,"removeEventListeners",function(){return this.removeEventListener});b(e,"aspect",function(){return d(this,"aspect")});
J(e,"aspect",function(a){"height"===a||"width"===a||"auto"===a?m(this,"aspect",a):m(this,"aspect")});b(e,"source",function(){return this.getAttribute("src")||""});J(e,"source",function(a){this.hasAttribute("src")&&this.removeAttribute("src");a&&this.setAttribute("src",a)});b(s,"id",function(){return this.getAttribute("id")});J(s,"id",function(a){ia("Element.id is not safe, please use Element.setAttribute()");this.setAttribute("id",a)});b(e,"src",function(){return this.getAttribute("src")||""});J(e,
"src",function(a){ia("Image.src is not safe, please use Image.source");a?this.setAttribute("src",a):this.removeAttribute("src")});b(e,"remoteAsync",function(){return!1!==d(this,"remoteAsync")});J(e,"remoteAsync",function(a){m(this,"remoteAsync",!1!==a)});["srcWidth","srcHeight"].forEach(function(a){b(e,a,function(){return this[a.replace("src","natural")]})});var ja={38:"up",40:"down",37:"left",39:"right",13:"enter",8:"back",32:"space",16:"shift",9:"tab",983041:"enter",917536:"back",917555:"tab",3:"back"},
pa={16:"shift",8:"backspace",13:"enter",32:"space"};q.addEventListener("mousedown",function(a){var b=a.target||G.activeElement;if(b&&1===a.which){if(b.allowNavigation){for(;b&&!b.focusable;)b=b.parentNode;var c=f(b);b&&("window"!==c&&"view"!==c&&"dialog"!==c)&&b.select()}a.preventDefault()}});p&&function(a){p.preventDefault=function(){a&&a.call(this);this.returnValue=!1}}(p.preventDefault);b(l,"key",function(){var a=this.keyCode||this.which,b=this.shiftKey||!1,c=b?pa[a]:ja[a];c||!this.isChar&&!this.isNumeric||
(c=D.fromCharCode(a))&&(c=b?ra(c):ca(c));return c});b(l,"isChar",function(){var a=this.keyCode||this.which;return 65<=a&&90>=a||97<=a&&122>=a||!1});b(l,"isNumeric",function(){var a=this.keyCode||this.which;return 48<=a&&57>=a||!1});q.addEventListener("keyup",function(a){var b=a.keyCode||a.which||0,c=G.activeElement,b=ja[b]||ja[b]||null;if(!a.defaultPrevented&&c&&c&&c.hasAttribute("contenteditable")&&"shift"!==b){var b=W(c.firstChild)||0,d=c.html.stripTags();c.dispatchEvent(oa("cursor",{caret:b,size:d.length,
"char":d.charAt(b),key:a.key,shift:a.shiftKey},!0,!0))}});q.addEventListener("keydown",function(a){var b=a.keyCode||a.which||0,c=G.activeElement,b=ja[b]||ja[b]||null,d;if(!a.defaultPrevented&&c){if(c&&c.hasAttribute("contenteditable")){var e=W(c.firstChild),f=c.html.stripTags().length;if("back"===b&&0===e&&0===f)d=oa("back",E,!0,!0);else if(("left"===b||"up"===b)&&0!==e||("right"===b||"down"===b)&&e!==f)return}else"back"===b&&(d=oa("back",E,!0,!0));if("up"===b||"down"===b||"left"===b||"right"===b)d=
oa("navigate",{direction:b},!0,!0),L=b;else if("enter"===b||"select"===b){c.select();return}c&&I(d)&&(c.dispatchEvent(d),a.preventDefault())}});q.addEventListener("navigate",function(a){var b=a.detail&&a.detail.direction||L,c=a.target||G.activeElement;I(b)&&(!a.defaultPrevented&&c)&&(c.navigate(b)||c.dispatchEvent(oa("navigateoutofbounds",{direction:b},!0,!0)));L=E});return function(a,b){var c=this||G;c===q&&(c=G);b=b||c;"string"===F(a)&&I(b)&&(a=b.getElementById(a));return(a=a&&a.nodeType&&a.owner?
a.owner:a)||E}}(),fc=function(a){function c(a,c,d,e){function f(){g=!0;d&&(d.stopPropagation&&d.stopPropagation.call)&&d.stopPropagation()}function h(){k=!0;d&&(d.preventDefault&&d.preventDefault.call)&&d.preventDefault()}if(!a)throw S("You can't create an event with no type");var g=!1,k=!1;b(this,"type",function(){return a});b(this,"payload",function(){return c||d.detail});b(this,"Event",function(){return d});b(this,"HostEvent",function(){return e});b(this,"stopPropagation",function(){return f});
b(this,"preventDefault",function(){return h});b(this,"propagationStopped",function(){return g});b(this,"defaultPrevented",function(){return k})}function d(a,b,c,d){if(!z(k[a])){"string"!==F(c)&&(c=X.stringify(c||{}));a=k[a];b=new a.HostEvent(b,c);b.error=!1;b.onDoneCalled=!1;b.onDone=d;try{a.widget.onHostEvent.call(a,b)}catch(e){a.error(e),b.error=!0}b.onDone&&!b.onDoneCalled&&(b.onDoneCalled=!0,b.onDone.call(a,b))}}function m(){function a(b){return l[b]}function d(a){delete l[a];g({key:a,value:null,
deleted:!0})}function e(a,b){l[a]=Z(b);g({key:a,value:b})}function f(){l={};m=[]}function h(a){return l[a]!==E}function g(a){var b=new c(k,a);m.forEach(function(a){a(b)})}var k="onBroadcast",l={},m=[],p={};b(p,k,function(){return m.length?m:[]});J(p,k,function(a){if(a instanceof W)m=a;else throw S("MAF.messages.subscribe: Invalid setting of subscribers");});b(this,"fetch",function(){return a});b(this,"exists",function(){return h});b(this,"store",function(){return e});b(this,"remove",function(){return d});
b(this,"reset",function(){return f});b(this,"eventType",function(){return k});b(this,"subscribers",function(){return p})}function f(a){function c(a,b){var d="";if(b){var e={};r.forEach(b,function(a,c){switch(a){case "width":case "height":case "margin":case "marginTop":case "marginLeft":case "marginBottom":case "marginRight":case "padding":case "paddingTop":case "paddingLeft":case "paddingBottom":case "paddingRight":case "fontSize":d+=a.hyphenate()+":"+(isNaN(c)||!c?c:c+"px")+";";break;case "wrap":!0===
c&&(d+="white-space:normal;",e.wordWrap="break-word");break;case "anchorStyle":var v=zb(c);e.textAlign=v[0]||"left";e.verticalAlign=v[1]||"top";break;case "truncation":e.overflow="hidden";e.textOverflow="end"===c?"ellipsis":"clip";break;case "visible":c||(d+="visibility:hidden;");break;case "hAlign":case "vAlign":break;case "hOffset":case "vOffset":d+=(b[a.charAt(0)+"Align"]||p[a]).hyphenate()+":"+(isNaN(c)||!c?c:c+"px")+";";break;case "zOrder":d+="z-index:"+c+";";break;default:d+=a.hyphenate()+":"+
c+";"}});0<r.keys(e).length&&c(a+m,e)}""!==d&&(k[a]=Ga(a+"{"+d+"}\n"),g.appendChild(k[a]))}function d(a,b,c){var e=k[a];if(e){var f=e.textContent,f=f.replace(a,a+","+b);e.textContent=f}c||s.forEach(function(c){k[a+c]&&d(a+c,b+c,!0)})}function e(a,b){var c=h[a];return Z(c&&b?c[b]:c)}function f(a,b){h[a]=h[b]}var h={},g=gb(""),k={},l={},m=" .innerText",p={hOffset:"left",vOffset:"top"},q=this,s=[m,".focused",".selected"];h.get=e;h.add=function(a,b){"object"===F(a)?r.forEach(a,function(a,b){"object"===
F(b)?(h[a]=Z(b),r.forEach(b,function(b,d){"styles"===b?c("."+a,d):d.styles&&("normal"===b?c("."+a,d.styles):c("."+a+"."+b,d.styles),h[a].styles=h[a].styles||{},h[a].styles[b]=Z(d.styles))})):(d("."+b,"."+a),f(a,b))}):h[a]=Z(b)};h.alias=f;h.edit=function(a,b){h[a]=qa(h[a],b)};b(this,"storage",function(){return h});this.renderSkin=function(a,b,c,d,e){var f=a+"-"+b+"-"+c+"x"+d;z(l[f])&&(l[f]=h[a]&&h[a].renderSkin&&h[a].renderSkin(b,c,d,e,q));return l[f]&&l[f].cloneNode(!0)};this.applyLayer=function(a,
b,c){return b&&h[a]&&h[a].applyLayer(b.element||b,c,q)};this.getStyles=function(a,b){var c=e(a,"styles")||{};return c&&c[b||"normal"]||c}}function g(){(new La({url:"//"+Ka[0]+"."+sa+".com/?maf=true",jsonp:!0,timeout:3E3,onSuccess:function(a){var b=oa("geochanged");r.forEach(k,function(a,c){c.dispatchEvent(b)})},onFailure:function(){this.send.delay(6E4,this)}})).send()}function x(){function a(){"hash host hostname href pathname port protocol search".split(" ").forEach(function(a){b(this,a,function(){return lb[a]||
""})},this)}function d(a){a&&(a.url&&!Ha.test(a.url))&&(a.url="apps/"+(y||h)+"/Contents/"+a.url);return new La(a)}function e(a,c,d){function f(a){return cb(m+(c?"0"+l:"")+a)}function g(a){p.set(f(a));return!0}function h(a){return p.get(f(a))}function k(a,b){F(b);p.set(f(a),"object"===b?qa(h(a)||{},b):b);return!0}function n(a,b){return p.has(f(a))}var l=":";d&&(d+=l);var m=(d||"")+a+(c?l:""),p=ta.storage;b(this,"remove",function(){return g});b(this,"set",function(){return k});b(this,"get",function(){return h});
b(this,"has",function(){return n})}function g(a){a=a||{};var b=g.Mutators,c=g.Methods,d=g.Libraries,e=function(){for(var a in this)this[a]&&(this[a]&&this[a].call&&this[a].apply?this[a].__class__=this[a].__class__||e:this[a]=Z(this[a]));this.constructor=e;if(g._prototyping)return this;a=!1===e.prototype.config?{}:arguments[0]||{};this._classID=(a.ClassName||this.ClassName||"Instance")+"-"+ ++x;a.methods&&b.Implements(this,a.methods);delete a.methods;this.addEvents(a.events);delete a.events;this.setConfig(a);
var c;try{c=I(this.initialize)&&this.initialize.call?this.initialize.apply(this,arguments):this,a.initialize&&a.initialize.call(this)}catch(d){w.error(d)}return c},f;for(f in b)b[f]&&a[f]&&(a=b[f](a,a[f],e),delete a[f]);["Config","Events"].forEach(function(c){b.Implements(a,d[c])});a.toString=function(){return"[Class] {"+(this._classID||"Proto")+"}"};ab(e,this);e.constructor=g;e.prototype=a;e.implement=c.implement;e.getDefaults=c.getDefaults;e.inheritsFrom=c.inheritsFrom;a.ClassName&&(e.displayName=
a.ClassName);return e}function n(a,b){var c=a||"div";b=b||{};b.styles=b.styles||{};switch(a){case "image":c="img";break;case "list":c="ul";break;case "item":c="li";break;case "window":z(b.focus)&&(b.focus=!0);c="div";break;case "dialog":case "view":case "text":c="div";break;default:a="frame",c="div"}c=P(c).addClass(a);c.store("type",a);b.id&&c.setAttribute("id",b.id);!0===b.focus&&"image"!==a&&(c.wantsFocus=b.focus);!0===b.frozen&&(c.frozen=!0);if(b.events)for(var d in b.events)b.events[d]&&c.addEventListener(d,
b.events[d]);"image"===a?((b.src||b.source)&&c.setAttribute("src",b.src||b.source),c.addEventListener("load",function(a){a=a.target||this;var b=Cb(a.frozen);a.frozen=!0;a.hasAttribute("width")||a.setAttribute("width",a.srcWidth);a.hasAttribute("height")||a.setAttribute("height",a.srcHeight);"center"===a.hAlign&&(a.hOffset=a.hOffset);"center"===a.vAlign&&(a.vOffset=a.vOffset);b||(a.frozen=!1)})):"text"===a&&(d=P("span"),d.store("type","innerText"),d.addClass("innerText"),d.html=b.label||b.data||b.text||
"",d.inject(c));b.width&&(b.styles.width=b.width);b.height&&(b.styles.height=b.height);b.styles&&c.setStyles(b.styles);return c}function l(a,c){var d=null,e=!1;this.onTimerFired=c;this.interval=a||0;this.start=function(){null===d&&!e&&(0<this.interval&&this.onTimerFired)&&(d=Na(this.onTimerFired.bind(this),1E3*this.interval),e=!0)};this.stop=function(){null!==d&&e&&(e=!1,tb(d),d=null)};this.reset=function(){this.stop();this.start()};b(this,"ticking",function(){return!0===e});J(this,"ticking",function(a){!0===
a?this.start():this.stop()})}function m(a){var b=new za;b.open("GET",Y.scripts+"/"+a+("?"+T.now()||""),!1);b.send();var c="";200===b.status&&b.responseText?(c=("\n"+b.responseText.replace(Sa,"")).replace(pb,function(a,b){return m(b)}),c+="\n//@ sourceURL="+Y.scripts+"/"+a+"\n"):ia("error loading maf-ui file: "+a);return c}var s=T.now(),u={},x=0,w=this;w.console={};["log","warn","error"].forEach(function(a){b(this.console,a,function(){return function(){var b=[y+"*"].concat(ga(arguments)),b="concat"===
Y.console?[ga(b).join(" ")]:b;V[a].apply(V,b)}});b(this,a,function(){return this.console[a]})},w);b(w,"destroy",function(){return function(){u=w=null}});b(w,"DEBUG",function(){return Y.debug&&-1!==Y.debug.indexOf("ui")});["window","document","widget","filesystem"].forEach(function(a){b(w,a,function(){if(I(y))return k[y][a];throw S("No App is active");})});var A=function(){return{get:function(a){var b=ga(arguments),c="";"stack"===a&&(c+='<span class="icon-stack">',b.splice(0,1));b.forEach(function(a){var b=
"";[].concat(a).forEach(function(a){b+="icon-"+a+" "});c+='<i class="'+b.trim()+'"></i>'});"stack"===a&&(c+="</span>");return c}}}();b(w,"FontAwesome",function(){return A});b(w,"HashMap",function(){return ac});b(w,"getter",function(){return b});b(w,"setter",function(){return J});b(w,"current",function(){return k[y]});b(w,"atob",function(){return nb});b(w,"btoa",function(){return db});b(w,"getComputedStyle",function(){return xa});b(w,"md5",function(){return cb});b(w,"sha1",function(){return $b});b(w,
"JSON",function(){return X});b(w,"XMLDOM",function(){return Eb});b(w,"unlink",function(){return Z});b(w,"clone",function(){return Z});b(w,"typeOf",function(){return F});b(w,"random",function(){return Mb});["open","emptyFn","confirm","prompt"].forEach(function(a){b(this,a,function(){return ka})},w);var da={Theme:new f,Library:{},element:{},control:{},dialogs:{},media:{},system:{Event:c},keyboard:{},utility:{vsprintf:ub},views:{}},C=da.Library;a.prototype={constructor:a,toString:function(){return this.valueOf()},
valueOf:function(){return D(lb)},reload:ka,replace:ka,assign:ka};b(w,"location",function(){return new a});b(w,"navigator",function(){return mb});b(w,"Browser",function(){return Xa});b(da,"Browser",function(){return Xa});b(da,"Event",function(){return c});b(da,"Request",function(){return d});["Event","Request","Theme","Library"].forEach(function(a){b(this,a,function(){return da[a]})},w);["innerWidth","outerWidth"].forEach(function(a){b(this,a,function(){return Ta})},w);["innerHeight","outerHeight"].forEach(function(a){b(this,
a,function(){return Ua})},w);b(w,"screen",function(){var a=this.innerWidth,b=this.innerHeight;return{availWidth:a,availHeight:b,width:a,height:b}});b(w,"XMLHttpRequest",function(){return za});e.prototype={constructor:e};var G=new e("pd",!0);b(w,"GenericStorage",function(){return e});b(w,"currentProfileData",function(){return G});"Array Boolean Date Function Number String RegExp".split(" ").forEach(function(a){var c,d="is"+a;/String|Number|Boolean/.test(a)&&(c=ca(a));da[d]="Array"===a&&W.isArray||
function(b){return c&&F(b)===c?!0:Db.call(b)==="[object "+a+"]"};b(this,d,function(){return this.MAF[d]})},w);C.Storage={store:function(a,b){var c=this._classID;z(u[c])&&(u[c]={});u[c][a]=b},retrieve:function(a){var b=this._classID;return u[b]&&u[b][a]},eliminate:function(a){var b=this._classID;u[b]&&u[b][a]&&delete u[b][a]}};C.DOM={appendChild:function(a){a=na(a);if(!a||!a.element)return!1;this.children.push(a);a.owner=this;a.element.inject(this.element);this.fire("onChildAppended",{child:a});a.fire("onAppend",
{parent:this.element,owner:this});return this},adopt:function(){ga(arguments).forEach(this.appendChild,this);return this},appendTo:function(a){a=na(a);if(!a||!a.element)return!1;a.appendChild(this);return this},moveTo:function(a){var b=na(this.element);b&&b.owner?b.owner.detachChild(b):b&&b.detachChild(b);b.appendTo(a);return this},detachChild:function(a){var b;if(this.children){if("string"===F(a)){switch(a){case "first":b=0;break;case "last":b=this.children.length-1}a=this.children[b]}else"number"===
F(a)?(b=a,a=this.children[b]):a&&a.owner===this&&(b=this.children.indexOf(a));I(b)&&this.children.splice(b,1)}delete a.owner;return a},removeChild:function(a){this.detachChild(a);a.element.owner=null;a.element.destroy();this.fire("onChildRemoved",{child:a});return a},suicide:function(){var a=na(this.element),b=D(this.ClassName);a&&a.owner?a.owner.removeChild(a):a&&a.removeChild(a);delete this.subscribers;delete this.element;if(this.children){for(;this.children.length;)this.children.pop().suicide();
delete this.children}delete this.config;try{return ob.call(this)}finally{r.forEach(this,function(a,c){var d=F(c);"object"!==d&&"array"!==d&&"instance"!==d||ia("memory leak?",b,a,d)})}},empty:function(a){for(;this.children.length;)this.removeChild(this.children[0]);this.children=[];for(a&&this.removeSkin&&this.removeSkin();a&&this.element&&this.element.childNodes.length;)this.element.removeChild(this.element.childNodes.item(0));return this}};C.Styles={setStyle:function(a,b){"backgroundImage"!==a||
Ha.test(b)||(b=(w.current&&w.current.filesystem&&w.current.filesystem.rootPath||"apps/"+(y||h)+"/Contents/")+b);this.element.setStyle(a,b);return this},getStyle:function(a){return this.element.getStyle(a)},setStyles:function(a){for(var b in a||{})this.setStyle(b,a[b]);return this},getStylesCopy:function(){var a={},b=this.element;if(b)for(var c in b.style)I(b.style[c])&&(a[c]=b.style[c]);"height width hOffset vOffset hAlign vAlign".split(" ").forEach(function(b){I(this[b])&&(a[b]=this[b])},b);return a}};
C.Themes={renderSkin:function(a,b,c){switch(a){case "normal":case "focused":case "disabled":case "activated":case "deactivated":c=b,b=a,a=null}b=b||"normal";a=a||this.config.ClassName||this.ClassName;var d=this.element;this.removeSkin();(a=da.Theme.renderSkin(a,b,d.width,d.height,c))&&a.addClass&&(this.skinElement=a.addClass("skin"),a.inject(this.element,"top"));return this},removeSkin:function(a){this.skinElement&&(this.skinElement.destroy(),this.skinElement=null,delete this.skinElement);var b=this.element.childNodes;
if(a=a||this.children.length!==b.length)for(a=0;a<b.length;a++){var c=b.item(a);c.hasClass("skin")&&c.destroy()}return this}};g.prototype={constructor:g};b(w,"Class",function(){return g});b(da,"Class",function(){return g});b(g,"__instances__",function(){return x});g.helpers={extend:ab,merge:qa,unlink:Z,type:F,empty:Nb,dump:ka,contains:Ob,splat:Pb,later:Qb};g.Mutators={Protected:function(a,b,c){r.forEach(b,function(a,b){var d=function(){var c=arguments.callee&&arguments.callee.caller;if(c.allowed||
c&&c.__class__&&this.constructor.inheritsFrom(c.__class__))return b.apply(this,arguments);throw S('Calling protected function "'+a+'"');};d.__class__=b.__class__=c;J(d,"__parent__",function(a){b.__parent__=a});this[a]=d},a);return a},Extends:function(a,b){g._prototyping=b;var c=new b;delete c.parent;c=g.Methods.inherit(c,a);delete g._prototyping;return c},Implements:function(a,b){(b instanceof W?b:[b]).forEach(function(b){g._prototyping=b;ab(a,"class"===F(b)?new b:b);delete g._prototyping});return a}};
g.Methods={inherit:function(a,b){var c=arguments.callee.caller,d;for(d in b)if(b[d]){var e=b[d],f=a[d],h=F(e);f&&"function"===h?e!==f&&(c?(e.__parent__=f,a[d]=e):this.override(a,d,e)):a[d]=f&&"object"===h?qa(f,e):e}c&&(a.parent=function(){var a=arguments.callee.caller;if(!a||!a.__parent__)throw S("no parent function found in class: "+this.ClassName);return a.__parent__.apply(this,arguments)});return a},override:function(a,b,c){var d=g._prototyping;d&&a[b]!==d[b]&&(d=null);a[b]=function(){var e=this.parent;
this.parent=d?d[b]:a[b];var f=c.apply(this,arguments);this.parent=e;return f}},implement:function(){var a=this.prototype;ga(arguments).forEach(function(b){this.inherit(a,b)},this);return this},getDefaults:function(){return Z(this.prototype.config)},inheritsFrom:function(a){if(this===a)return!0;for(var b=this.prototype.constructor,c=b===a;!c&&b!==r;)b=b.prototype.constructor,c=a===b;return c},proxyProperty:function(a,c,d){b(a,d,function(){return c[d]});J(a,d,function(a){c[d]=a;return c[d]})},proxyProperties:function(a,
b,c){for(var d=0;d<c.length;d++)this.proxyProperty(a,b,c[d])}};g.Libraries={Config:{setConfig:function(a){this.config=qa(this.config,a);return this},getConfig:function(){return Z(this.config)},getDefaults:function(){return this.constructor.getDefaults()}},Events:{subscribers:{},fire:U,addEvents:function(a){for(var b in a)if(a[b]&&/^on[A-Z]/.test(b)){var c=a[b];c.subscribeTo&&c.subscribeTo(this,b,this)}return this},getSubscriberCount:function(a){var b={length:0};if(a)b=this.subscribers[a];else for(var c in this.subscribers)if(a=
this.subscribers[c])b.length+=a.length;return b&&b.length||0}}};n.prototype={constructor:n};b(n,"__instances__",function(){return elementInstances});b(w,"Element",function(){return n});"Window View Dialog Frame Text Image List Item".split(" ").forEach(function(a){b(this,a,function(){var b=function(b){return new n(ca(a),b)};b.prototype={constructor:b};"Image"===a&&(b.WHITE=Gb,b.BLANK=Xb,b.CHECKERS=Hb);return b})},w);l.prototype={constructor:l};b(w,"Timer",function(){return l});b(w,"createDocumentFragment",
function(){return xb});var Ma=[];b(w,"defines",function(){return Ma});b(w,"define",function(){return function(a,b,c){0===a.indexOf("MAF")?wb(a.substring(4),da,b.bind(w)):Ma.push(wb(a,w,b.bind(w)));c&&da.Theme.storage.add(c)}});["messages","mediaplayer","HostEventManager","application"].forEach(function(a){b(da,a,function(){return w.current&&w.current.MAF[a]})});var E=function(){function a(b,c){e.apply(this,arguments)}a.ISO8601=a.W3C=a.ATOM=a.JSON="yyyy-MM-ddTHH:mm:sszzz";a.RFC822=a.RFC1123=a.RFC2822=
a.RSS="ddd, dd MMM yyyy HH:mm:ss zzz";a.RFC850=a.RFC1036=a.COOKIE="dddd, dd-MMM-yy HH:mm:ss zzz";a.CTIME="ddd MMM d HH:mm:ss yyyy";a.DATETIME="yyyy-MM-dd HH:mm:ss";b(a,"FORMAT_DEFAULT",function(){return p[y].DATE_FORMAT||p[h].DATE_FORMAT||a.DATETIME});b(a,"PARSE_DEFAULT",function(){return p[y].DATE_PARSE||a.DATETIME});a.prototype={};a.names={};a.names["en-EU"]={era:{abbr:["BC","AD"],full:["B.C.","A.D."]},month:{abbr:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),full:"January February March April May June July August September October November December".split(" ")},
day:{abbr:"Sun Mon Tue Wed Thu Fri Sat".split(" "),full:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" ")},amPm:{abbr:["AM","PM"],full:["A.M.","P.M."]}};a.names["nl-NL"]={era:{abbr:["v. Chr.","n. Chr."],full:["Voor Christus","Anno Domini"]},month:{abbr:"jan. feb. maa. apr. mei jun. jul. aug. sep. okt. nov. dec.".split(" "),full:"januari februari maart april mei juni juli augustus september oktober november december".split(" ")},day:{abbr:"zo ma di wo do vr za".split(" "),full:"zondag maandag dinsdag woensdag donderdag vrijdag zaterdag".split(" ")},
amPm:{abbr:["AM","PM"],full:["A.M.","P.M."]}};a.names["nl-BE"]=a.names["nl-NL"];a.names["en-US"]=a.names["en-EU"];a.prototype.asUTC=!1;a.prototype.chunks=null;var c={d:4,f:3,F:3,g:2,h:2,H:2,j:3,K:1,m:2,M:4,s:2,t:2,y:5,z:4},d={d:{type:"RegExp",value:/\d{1,2}/},dd:{type:"RegExp",value:/\d{2}/},f:{type:"RegExp",value:/\d/},ff:{type:"RegExp",value:/\d{2}/},fff:{type:"RegExp",value:/\d{3}/},F:{type:"RegExp",value:/\d?/},FF:{type:"RegExp",value:/(\d{2})?/},FFF:{type:"RegExp",value:/(\d{3})?/},h:{type:"RegExp",
value:/\d{1,2}/},hh:{type:"RegExp",value:/\d{2}/},H:{type:"RegExp",value:/\d{1,2}/},HH:{type:"RegExp",value:/\d{2}/},j:{type:"RegExt",value:/\d{1,3}/},K:{type:"RegExp",value:/(?:UTC|Local)/},m:{type:"RegExp",value:/\d{1,2}/},mm:{type:"RegExp",value:/\d{2}/},M:{type:"RegExp",value:/\d{1,2}/},MM:{type:"RegExp",value:/\d{2}/},s:{type:"RegExp",value:/\d{1,2}/},ss:{type:"RegExp",value:/\d{2}/},y:{type:"RegExp",value:/\d/},yy:{type:"RegExp",value:/\d{2}/},yyy:{type:"RegExp",value:/\d{3,4}/},yyyy:{type:"RegExp",
value:/\d{4}/},yyyyy:{type:"RegExp",value:/\d{5}/},z:{type:"RegExp",value:/(?:Z|[\-\+]\d{1,2})/},zz:{type:"RegExp",value:/(?:Z|[\-\+]\d{2})/},zzz:{type:"RegExp",value:/(?:Z|[\-\+]\d{2}\d{2})/},zzzz:{type:"RegExp",value:/(?:Z|[\-\+]\d{2}\:\d{2})/}},e=function(b,d){b||(b=a.DATETIME);for(var e=b.length,f=0,h="",g=[],k="",n=function(a){""!==h&&(g[g.length]={type:a,value:h},h="")},l,m,p;f<e;)if(l=b.charAt(f),f++,""===k&&l in c){n("text");h=l;m=0;for(p=c[l]-1;m<p;m++)if(b.charAt(f+m)===l)h+=l;else break;
f+=m;n("pattern")}else'"'===l||"'"===l?b.charAt(f)===l?(h+=l,f++):""===k&&-1!==b.indexOf(l,f)?k=l:l===k?(n("text"),k=""):h+=l:h+=l;n("text");this.chunks=g;this.asUTC=!!d};a.prototype.format=function(b,c){c=c||y&&w.widget.locale||ha;b||(b=new T);var d=this.chunks,e=this.asUTC,f=a.names[c]||a.names[y&&w.widget.locale||ha]||a.names[ha],h=function(a,b){for(a=a.toString();a.length<b;)a="0"+a;return a},g,k,n,l,m,p,r,q,M,t,s,B,u,K,pa,ja,da,x,H;e?(g=b.getUTCDate(),k=b.getUTCDay(),n=b.getUTCMilliseconds(),
l=b.getUTCHours(),p=b.getUTCMonth(),r=b.getUTCMinutes(),M=b.getUTCFullYear(),t=b.getUTCSeconds(),s=0):(g=b.getDate(),k=b.getDay(),n=b.getMilliseconds(),l=b.getHours(),p=b.getMonth(),r=b.getMinutes(),M=b.getFullYear(),t=b.getSeconds(),s=b.getTimezoneOffset());B=h(n,3);u=B.substr(0,2);n=B.substr(0,1);ja=0>M?0:1;m=l%12;K=p+1;q=12>l?0:1;pa=h(M,5);x=(0>s?-s:s)/60>>0;da=0>=s?"+":"-";H=h(x,2);s=h(s%60,2);e={d:g.toString(),dd:h(g,2),ddd:f.day.abbr[k],dddd:f.day.full[k],f:n,ff:u,fff:B,F:0===N(n)?"":"."+n,
FF:0===N(u)?"":"."+u,FFF:0===N(B)?"":"."+B,g:f.era.abbr[ja],gg:f.era.full[ja],h:m.toString(),hh:h(m,2),H:l.toString(),HH:h(l,2),j:h(k,3),K:e?"UTC":"Local",m:r.toString(),mm:h(r,2),M:K.toString(),MM:h(K,2),MMM:f.month.abbr[p],MMMM:f.month.full[p],s:t.toString(),ss:h(t,2),t:f.amPm.abbr[q],tt:f.amPm.full[q],y:pa.substr(4),yy:pa.substr(3),yyy:1E3>M?pa.substr(2):M.toString(),yyyy:pa.substr(1),yyyyy:pa,z:da+x.toString(),zz:da+H,zzz:da+H+s,zzzz:da+H+":"+s};f="";h=0;for(g=d.length;h<g;h++)k=d[h],f+="pattern"===
k.type?e[k.value]:k.value;return f};a.prototype.parse=function(b,c){c=c||y&&w.widget.locale||ha;var e=this.chunks,f=this.asUTC,h=a.names[c]||a.names[y&&w.widget.locale||ha]||a.names[ha];d.ddd={type:"Array",value:h.day.abbr};d.dddd={type:"Array",value:h.day.full};d.g={type:"Array",value:h.era.abbr};d.gg={type:"Array",value:h.era.full};d.MMM={type:"Array",value:h.month.abbr};d.MMMM={type:"Array",value:h.month.full};d.t={type:"Array",value:h.amPm.abbr};d.tt={type:"Array",value:h.amPm.full};var g={},
k,n,l,m,p,r,q,M;k=0;n=e.length;l=0;for(m=b.length;k<n&&l<m;k++)if(p=e[k],"text"===p.type)l+=p.value.length;else if(r=p.value,q=d[r],"Array"===q.type)for(p=q.value,q=0,M=p.length;q<M;q++){if(b.indexOf(p[q],l)===l){q=p[q];g[r]=q;l+=q.length;break}}else(r=b.substr(l).match(q.value))&&0<r.length&&(q=r[0],g[p.value]=q,l+=q.length);k=(new Date).getUTCFullYear();var t,s,B,u,K;g.yyyyy||g.yyyy||g.yyy?e=N(g.yyyyy||g.yyyy||g.yyy):g.yy?(e=100*(k/100>>0)+N(g.yy),e>k&&(e-=100)):g.y?(e=10*(k/10>>0)+N(g.y),e>k&&
(e-=10)):e=0;t=(t=g.gg)?h.era.full.indexOf(t):(t=g.g)?h.era.abbr.indexOf(t):1;0===t&&(e*=-1);s=(s=g.MMMM)?N(h.month.full.indexOf(s)):(s=g.MMM)?N(h.month.abbr.indexOf(s)):(s=g.MM||g.M)?N(s)-1:0;g.j?(t=N(g.j),s=0):t=g.dd||g.d?N(g.dd||g.d):0;g.HH||g.H?h=N(g.HH||g.H):g.hh||g.h?(k=g.hh||g.h,h=g.tt?N(k)+12*h.amPm.full.indexOf(g.tt):g.t?N(k)+12*h.amPm.abbr.indexOf(g.t):0):h=0;B=(B=g.mm||g.m)?N(B):0;u=(u=g.ss||g.s)?N(u):0;K=(K=g.fff||g.ff||g.f||g.FFF||g.F||g.F)?N(K):0;k=new T;k.setUTCFullYear(e,s,t);g.zzzz||
g.zzz||g.zz||g.z?(f=g.zzzz||g.zzz||g.zz||g.z,"Z"===f?k.setUTCHours(h,B,u,K):(f=f.match(/^([\+\-])(\d{1,2})\:?(\d{0,2})$/),g=60*N(f[2]),2===f.length&&(g+=N(f[3])),f=("-"===f[1]?1:-1)*g,k.setUTCHours(h,B+f,u,K))):f?k.setUTCHours(h,B,u,K):k.setHours(h,B,u,K);return k};a.prototype.toString=function(){var a=this.chunks,b="",c,d,e;c=0;for(d=a.length;c<d;c++)e=a[c],b+="pattern"===e.type?"{"+e.value+"}":e.value;return"[DateFormat "+b+"]"};return a}();b(w,"DateFormat",function(){return E});T.format=function(a,
b,c){a=a||new T;b=b||E.FORMAT_DEFAULT;return(new E(b)).format(a,c)};T.parse=function(a,b,c){b=b||E.PARSE_DEFAULT;return(new E(b)).parse(a,c)};var L={"en-EU":",","en-US":"."};b($a,"DECIMAL",function(){return L[y&&w.widget.locale||ha]||L[ha]});var rb={"en-EU":"\u20ac","en-GB":"\u00a3","en-US":"$"};b($a,"CURRENCY",function(){return rb[y&&w.widget.locale||ha]||L[ha]});b(w,"MAF",function(){return da});b(w,"include",function(){return function(a){try{return ya("with(this){"+m(a)+"}").call(w)}catch(b){return Wa(a,
b)}}});q.addEventListener("unload",function(){O&&(O.destroy(),O=null)});Ca(s,"shared scope created");s=T.now();w.include("maf-ui.js");Ca(s,"ui components loaded")}function C(a,c,d){var g=va.bind(c);b(this,"dispatchChildEvent",function(){return g});b(this,"locale",function(){return L.getLocale()});r.forEach(e[a],function(c){b(this,c,function(){return e[a][c]})},this);this.getImageSource=function(b,c){var d=e[a].images&&e[a].images;return c?d&&d[b]&&d[b][c]||E:d&&d[b]||E};this.getImage=function(a,b){var c=
P("img"),d=this.getImageSource.apply(this,arguments)||"";c.source=d;return c};this.focus=function(){d.focus()};this.blur=function(){d.blur()};this.addEventListener=function(){return d.addEventListener.apply(d,arguments)};this.removeEventListener=function(){return d.removeEventListener.apply(d,arguments)};this.dispatchEvent=function(){return d.dispatchEvent.apply(d,arguments)};this.getElementById=function(b){return na(a+"-"+b)};this.getLocalizedString=function(b,c){var d=p[a]&&p[a][b]||p[h][b]||b;
return c?D.vsprintf(d,c):d};this.createDocumentFragment=xb;this.createWindowFromXML=ka}function R(a,b,c){function d(a){(new La({url:"apps/"+a+"/Contents/Localization/"+c+".strings"+("?"+T.now()||""),mimetype:"text/plain",onSuccess:function(c){p[a]=c;b&&b(a)},onFailure:function(){c!==ha&&(c=ha,d())}})).send()}a=[].concat(a);c=c||L.getLocale();a.forEach(function(a){(new La({url:"apps/"+a+"/Contents/metadata.json"+("?"+T.now()||""),onSuccess:function(b){e[a]=b;d(a)}})).send()})}function s(){b(this,"active",
function(){return y})}T.now();var k={},e={},p={},l=na("viewport"),h=a.ui,y,O,L,ba;c.prototype={constructor:c};var U=function(a,b,d){var e=this.subscribers||{},g=c,f;b=b||{};a instanceof g?(f=a,a=f.type):f=new g(a,b,d);e[a]=[].concat(e[a]||[]).filter(function(a){return a instanceof ya});if(!e[a].length)return delete e[a],!0;var h=!1;r.each(e[f.type]||{},function(a,b){if(b&&b.call)try{b.call(this,f)}catch(c){O.error(c)}f.defaultPrevented&&(h=!0);if(f.propagationStopped)return!1},this);return!h};(function(){Q.subscribeTo||
(Q.subscribeTo=function(a,b,c){b=[].concat(b);if(!a instanceof r)throw S("Didn't provide an Object to subscribe to");if(!b.length||"string"!==F(b[0]))throw S("Didn't provide any event types to subscribe to");if(a.fire&&a.fire!==U)throw S("Your Object already has a fire method");a.subscribers||(a.subscribers={});a.fire=U;this.__class__=c&&c.constructor||a.constructor;var d=c?this.bind(c):this;b.forEach(function(b){var c=a.subscribers[b]||[];!c.some(function(a){return a===d})&&d&&c.push(d);a.subscribers[b]=
c});return d});Q.subscribeOnce||(Q.subscribeOnce=function(a,b,c){b=[].concat(b);if(!a instanceof r)throw S("Didn't provide an Object to subscribe to");if(!b.length||"string"!==F(b[0]))throw S("Didn't provide any event types to subscribe to");if(a.fire&&a.fire!==U)throw S("Your Object already has a fire method");a.subscribers||(a.subscribers={});a.fire=U;c=c?this.bind(c):this;var d=function(){this._listener.apply(null,ga(arguments));this.unsubscribeFrom(this._target,this._types)};d._listener=c;d._types=
b;d._target=a;b.forEach(function(b){var c=a.subscribers[b]||[];!c.some(function(a){return a===d})&&d&&c.push(d);a.subscribers[b]=c});return d});Q.unsubscribeFrom||(Q.unsubscribeFrom=function(a,b){if(!a||!a.subscribers)throw S("Didn't provide a valid Object to unsubscribe from");var c=this;b=[].concat(b);b.forEach(function(b){var d=a.subscribers[b]||[];a.subscribers[b]=d.filter(function(a){return a!==c});d&&d.length||(a.subscribers[b]=[])});return this})})();(function(){var a=q.Element&&q.Element.prototype;
(function(b){a.getAttribute=function(a){return this.retrieve("@"+a)||b.call(this,a)}})(a.getAttribute);(function(b){a.setAttribute=function(a,c){if("window"===this.retrieve("type")||"src"!==a&&"id"!==a)return b.call(this,a,c);this.store("@"+a,c);if(c)switch(a){case "src":var d=Ha.test(c),e=this.aspect,g=0===c.indexOf("data:");d||g||(c="apps/"+y+"/Contents/"+c);if(d&&!g&&c&&(e||!this.remoteAsync)){d=D(c);c="//"+Ka[2]+"."+sa+".com/?url="+encodeURIComponent(c);if(e){var f=this.retrieve("originalWidth")||
this.width||0,h=this.retrieve("originalHeight")||this.height||0;0<f&&(c+="&width="+N(f),this.store("originalWidth",f),this.removeAttribute("width"));0<h&&(c+="&height="+N(h),this.store("originalHeight",h),this.removeAttribute("height"));c+="&type="+e}4096<c.length&&(c=d)}this.remoteAsync||g||(new La({url:c,proxy:!1,async:!1,mimetype:"text/plain; charset=x-user-defined",onSuccess:function(a){c=a},onFailure:function(a,b){throw b;}})).send();break;case "id":y&&(c=y+"-"+c)}return b.call(this,a,c)}})(a.setAttribute)})();
m.prototype={constructor:m};f.prototype={constructor:f};g.prototype={constructor:g,getLocale:function(){return(Y.language||"en")+"-"+ra(Y.country||"EU")}};L=new g;var ta=function(){function a(b){var c={};b=(b+"").split("");var d=[],e=b[0],g=256,f,h;for(h=1;h<b.length;h++)f=b[h],I(c[e+f])?e+=f:(d.push(1<e.length?c[e]:e.charCodeAt(0)),c[e+f]=g,g++,e=f);d.push(1<e.length?c[e]:e.charCodeAt(0));for(h=0;h<d.length;h++)d[h]=ma(d[h]);return d.join("")}function c(a){var b={};a=(a+"").split("");var d=a[0],
e=d,g=[d],f=256,h,k;for(k=1;k<a.length;k++)h=a[k].charCodeAt(0),h=256>h?a[k]:b[h]?b[h]:e+d,g.push(h),d=h.charAt(0),b[f]=e+d,f++,e=h;return g.join("")}function e(){this.data={};this.synced=!0}function g(b,d){b=b||"maf";d=d||2E3;var e=q.localStorage,f=e&&e.getItem(b);this.data=f&&X.parse(c(f)||"{}")||{};e?(this.sync=function(){this.synced||(e.setItem(b,a(X.stringify(this.data))),this.synced=!0)},Na(this.sync.bind(this),d)):ia("localstorage not supported")}function f(b,d,e){function g(){return decodeURIComponent(G.cookie.split(";").map(function(a){return a.trim().split("=")}).reduce(function(a,
c){0===c[0].indexOf(b)&&a.push(c[1]);return a},[]).join(""))}function h(a){a=encodeURIComponent(a||"").match(Ia("[\\s\\S]{1,"+k+"}","g"))||[];a.length<e&&a.forEach(function(a,c){G.cookie=b+c+"="+a})}b=b||"maf";d=d||2E3;e=e||50;var k=4058-b.length-D(e).length-1,l=G.cookie,m=l&&g();this.data=m&&X.parse(c(m)||"{}")||{};I(l)?(this.sync=function(){if(this.data&&!this.synced){for(var c=G.cookie&&G.cookie.split(";"),d=0;d<c.length;d++){var e=c[d];if(0===e.indexOf(b)){var f=e.indexOf("="),e=-1<f?e.substr(0,
f):e;G.cookie=e+"=;expires=Thu, 01 Jan 1970 00:00:00 GMT"}}h(a(X.stringify(this.data)));this.synced=!0}},Na(this.sync.bind(this),d)):ia("cookies not supported")}function h(a,b,c){return"localStorage"in q&&q.localStorage?new g(a,b):new f(a,b,c)}function m(){}function p(a){a=/\.js[^\.]*$/.test(a)?a+("?"+T.now()||""):a+(".js?"+T.now()||".min.js");var b=new za;b.open("GET",Ha.test(a)?a:"plugin/"+a,!1);b.send();var c="";200===b.status&&b.responseText?(c=("\n"+b.responseText.replace(Sa,"")).replace(pb,
function(a,b){return p(b)}),c+="\n//@ sourceURL="+Y.scripts+"/"+a+"\n"):ia("error loading plugin: "+a);return c}function s(a){try{return ya("with(this){"+p(a)+"}").call(A)}catch(b){return Wa(a,b)}}e.prototype={constructor:e,set:function(a,b){z(b)||null===b?delete this.data[a]:this.data[a]!==b&&(this.data[a]=b,this.synced=!1)},get:function(a){return this.data[a]},has:function(a){return I(this.data[a])},sync:ka};g.prototype=new e;g.prototype.constructor=g;f.prototype=new e;f.prototype.constructor=f;
m.TV=0;m.PIP=1;m.MUSIC=2;m.FX=3;m.type={VIDEO:0,AUDIO:1};m.prototype={constructor:m,subscribers:null,id:m.TV,type:m.type.VIDEO,startTime:0,currentTime:0,rate:1,duration:0,muted:!1,volume:1,src:null,paused:!0,bounds:[0,0,Ta,Ua],destroy:ka};m.state={INIT:-1,PLAY:0,PAUSE:1,FORWARD:2,REWIND:3,STOP:4,BUFFERING:5,BUFFEREMPTY:6,INFOLOADED:7,EOF:8,UNKNOWN:9,ERROR:10};var x=function(){function a(e,f){function g(a){a=a.type||"unknown";switch(a){case "ended":case "loadstart":t=!1;break;case "canplaythrough":t=
!0;break;case "progress":if(t)return;break;case "ratechange":a=n.rate;if(0===a){n.pause();return}if(1===a){if(n.paused){n.play();return}a="play"}else a=0>a?"rewind":"forward"}a=d[a];I(a)&&M!==a&&(V.log("HTML5Player",a,r.keys(m.state)[a+1]),U.call(this,"onStateUpdate",{state:a}),M=a)}function h(){c.forEach(function(a){this.removeEventListener(a,g)},n);n.destroy();k=s=n=q=null;delete this.subscribers}f=m.type.AUDIO===f?m.type.AUDIO:m.type.VIDEO;var k=f===m.type.AUDIO,p=P(k?"audio":"video"),n=p&&l.appendChild(p),
q=k?E:this.constructor.prototype.bounds,s=n&&n.style,t=!1,M;n&&(this.subscribers={},k||e===m.PIP||(s.backgroundImage="url("+Hb+")"),e===m.PIP&&(s.display="none",s.zIndex=9999),c.forEach(function(a){this.addEventListener(a,g)},n),b(this,"id",function(){return e}),b(this,"type",function(){return f}),b(this,"startTime",function(){return n.startTime||0}),J(this,"startTime",function(a){n.startTime=a}),b(this,"currentTime",function(){return n.currentTime||0}),J(this,"currentTime",function(a){n.currentTime=
a}),b(this,"rate",function(){return n.playbackRate}),J(this,"rate",function(a){n.playbackRate=a}),b(this,"duration",function(){return n.duration||0}),b(this,"muted",function(){return!0===n.muted}),J(this,"muted",function(a){n.muted=!0===a}),b(this,"volume",function(){return n.volume}),J(this,"volume",function(a){n.volume=u.max(u.min(parseFloat(a),1),0)}),b(this,"src",function(){return n.src||null}),J(this,"src",function(a){a?(M=E,n.src=a):n.hasAttribute("src")&&(n.src="",n.removeAttribute("src"))}),
b(this,"paused",function(){return n.paused}),J(this,"paused",function(a){a!==n.paused&&(n.src&&t)&&(a?n.pause():n.play())}),b(this,"bounds",function(){return k?E:q}),J(this,"bounds",function(a){var b=a&&a.length||0;!k&&1<b&&(4===b&&(s.width=q[2]=N(a[2]),s.height=q[3]=N(a[3])),s.left=q[0]=N(a[0]),s.top=q[1]=N(a[1]))}),b(this,"destroy",function(){return h}))}var c="ratechange ended progress loadstart canplaythrough abort emptied error pause play".split(" "),d={loadstart:m.state.INIT,play:m.state.PLAY,
pause:m.state.PAUSE,forward:m.state.FORWARD,rewind:m.state.REWIND,emptied:m.state.STOP,progress:m.state.BUFFERING,abort:m.state.BUFFEREMPTY,canplaythrough:m.state.INFOLOADED,ended:m.state.EOF,error:m.state.ERROR};a.prototype=new m;return a.prototype.constructor=a}(),w={storage:null,system:null,tv:null,players:[],profiles:[]},A={Browser:Xa,Storage:e,Player:m,CookieStorage:f,HTML5Storage:g,AutoStorage:h,HTML5Player:x,getter:b,setter:J,fire:U,send:d};b(A,"apps",function(){return k});b(A,"active",function(){return y});
b(A,"plugins",function(){return w});Xa.middleware&&s(Xa.middleware);w.storage||(w.storage=new h);0===w.players.length&&w.players.push(new x(m.TV),new x(m.PIP),new x(m.MUSIC,m.type.AUDIO),new x(m.FX,m.type.AUDIO));x={};b(x,"storage",function(){return w.storage});return x}(),ua=function(){function a(b){}a.prototype={constructor:a};return a}();x.prototype={constructor:x};O=new x;var A=function(a){var b=k[h];if(!b.widget.handleHostEvent||b.widget.handleHostEvent.apply(this,arguments)){var b=a.getData(),
c=a.getResult(),e;switch(a.subject){case "onAppInit":a.error||d(a.id,"getSnippetConfs",null,A);break;case "onAppFin":a.error||((e=this.currentViewId)&&d(a.id,"onUnselect",{id:e},A),c.forEach(function(b){d(a.id,"onUnloadView",{id:b},A)}),a.id!==h&&(y=h,d(y,"onShowView",{id:k[y].currentViewId},A)));break;case "onLoadView":!a.error&&b.id&&((e=this.currentViewId)&&e!==b.id&&d(a.id,"onUnselect",{id:e},A),d(a.id,"onShowView",{id:b.id},A));break;case "onShowView":!a.error&&b.id&&d(a.id,"onSelect",{id:b.id},
A);break;case "onLoadProfile":case "onUnloadProfile":ia("Profile not implemented");break;case "onUnselect":!a.error&&b.id&&d(a.id,"onHideView",{id:b.id},A);break;case "onActivateSnippet":!a.error&&c.id&&d(a.id,"onLoadView",{id:c.id},A)}}},va=function(a){var b=k[h],c=a.getData(),e="loadView"===a.subject?this.widget.getElementById(c.id):E;if(!b.widget.handleChildEvent||b.widget.handleChildEvent.apply(this,arguments))switch(a.subject){case "exit":case "exitToDock":!a.error&&a.id&&d(a.id,"onAppFin",{id:a.id},
A);break;case "loadView":!a.error&&c.id&&(e?((b=this.currentViewId)&&d(a.id,"onUnselect",{id:b},A),d(a.id,"onShowView",{id:c.id},A)):d(a.id,"onLoadView",{id:c.id},A))}this.widget.onDispatchedChildEvent.apply(this,arguments)};C.prototype={constructor:C};var wa=function(){function a(b){k[b]&&delete k[b]}function e(b){P.call(this,b,a)}var f="atob btoa open getComputedStyle md5 confirm prompt sha1 JSON XMLDOM unlink clone typeOf random location navigator Browser FontAwesome HashMap Class Event Theme Library innerWidth outerWidth innerHeight outerHeight screen currentProfileData XMLHttpRequest DateFormat isArray isBoolean isDate isFunction isNumber isString isRegExp Timer Element Window View Dialog Frame Text Image List Item".split(" ").concat(O.defines),
g="onActivateBackButton onActivateHomeButton onActivateFavButton onActivateSettingsButton onActivateSnippet onActivateApp onLoadView onUnloadView onShowView onHideView onSelectView onUnselectView getSnippetConfs onDialogCancelled onDialogDone onApplicationStartup onApplicationShutdown onLoadProfile onUnloadProfile onWidgetKeyPress onPlayControlKeyPress onViewChangeInitiated".split(" "),n="onAppInit onAppFin onDialogCancelled onDialogDone onHideView onLoadProfile onLoadView onShowView onUnloadProfile onUnloadView getSnippetConfs onSelect onUnselect onDispatchedChildEvent onPlaybackAction onActivateAppButton onActivateSnippet".split(" "),
q="changeProfile loadView hideDialog showDialog setSnippetConfs addSnippetConfs deleteSnippetConfs exitToDock exit setFavAction setIcons setWaitIndicator setFullscreenVideoMode launchApp".split(" "),s=["focus","blur","addEventListener","removeEventListener","dispatchEvent"],u="open close location addEventListener removeEventListener dispatchEvent".split(" "),x=["window","parent","top","self"],F=["messages","mediaplayer","HostEventManager","Request","application"],w={SNIPPET:"snippet",SIDEBAR:"sidebar",
FULLSCREEN:"fullscreen"},I=r.keys(w).filter(function(a){return"snippet"===w[a]}),L=["red","blue","yellow","green"],N=["play","pause","rewind","forward"],P=function(a,e){function k(a){b(this,"rootPath",function(){return a});this.lastModified=function(b){var c=new za;request.open("HEAD",a+b,!1);request.send();if(200===c.status)try{return T(request.getResponseHeader("last-modified")||T.now()).getTime()}catch(d){}return T.now()};this.readFile=function(b,c){c=c||!1;var d=new za;d.open("GET",a+b+("?"+T.now()||
""),!1);d.send();return 200===d.status?d.responseXML?d.responseXML:c?d.responseText.replace(/\n/g,"<br/>"):d.responseText:""}}function M(a){a&&(a.url&&!Ha.test(a.url))&&(a.url=U.rootPath+a.url);return new La(a)}function v(b){var c=new za;c.open("GET",U.rootPath+b+("?"+T.now()||""),!1);c.send();var d="";200===c.status&&c.responseText?(d=("\n"+c.responseText.replace(Sa,"")).replace(pb,function(a,b){return v(b)}),d+="\n//@ sourceURL="+U.rootPath+b+"\n"):ia(a+": request issue "+b);return d}function K(c,
d){this.result="";b(this,"id",function(){return a});b(this,"subject",function(){return c});b(this,"data",function(){return d})}var P=T.now(),H=this,R=yb(a),Q={},$=new C(a,H,R),aa={messages:new m};f.forEach(function(a){b(this,a,function(){return O[a]})},H);k.prototype={constructor:k};var U=new k("apps/"+a+"/Contents/");b(H,"filesystem",function(){return U});b(aa,"Request",function(){return M});b(H,"Request",function(){return M});var ca=O.GenericStorage,ka=new ca("ac",!1,a),ma=new ca("ad",!0,a);b(H,
"currentAppConfig",function(){return ka});b(H,"currentAppData",function(){return ma});r.forEach(O.MAF,function(a,c){-1===F.indexOf(a)&&b(aa,a,function(){return c})});aa.mediaplayer=new ua(a);b(H,"MAF",function(){return aa});b(H,"localization",function(){return p});b(H,"widget",function(){return $});b(H,"$_",function(){return function(){return $.getLocalizedString.apply($,arguments)}});b(H,"$",function(){return function(){return $.getElementById.apply($,arguments)}});s.forEach(function(a){b(this,a,
function(){return $[a]})},H);H.console={};["log","warn","error"].forEach(function(c){b(this.console,c,function(){return function(){var b=[a+" "].concat(ga(arguments)),b="concat"===Y.console?[ga(b).join(" ")]:b;V[c].apply(V,b)}});b(this,c,function(){return this.console[c]})},H);b(H,"alert",function(){return this.log});b(Q,"getElementById",function(){return $.getElementById});b(Q,"body",function(){return R});b(Q,"activeElement",function(){return G.activeElement!==fa?G.activeElement:E});u.forEach(function(a){b(this,
a,function(){return H[a]})},Q);b(H,"document",function(){return Q});b(H,"include",function(){return function(b){try{return ya("with(this){"+v(b)+"}").call(H)}catch(c){return Wa(a,b,c)}}});K.prototype={constructor:K,getData:function(){try{return this.data&&X.parse(this.data)||E}catch(a){}},getResult:function(){try{return this.result&&X.parse(this.result)||E}catch(a){}}};b(H,"HostEvent",function(){return K});var la=function(){function a(){}var d={},e={};$.onHostEvent=function(a){if(-1===n.indexOf(a.subject))H.warn('Received "'+
a.subject+'" from ui that is not recognized. This is probably bad!');else if(d[a.subject]&&d[a.subject].length){var b=a.data&&X.parse(a.data),e=new c(a.subject,b,null,a);d[a.subject].forEach(function(a){a(e)})}};$.onDispatchedChildEvent=function(a){if(-1===q.indexOf(a.subject))H.warn('Received "'+a.subject+'" response from ui that is not recognized. This is probably bad!');else if(d.onDispatchedChildEvent&&d.onDispatchedChildEvent.length){var b=a.data&&X.parse(a.data),e=new c("onDispatchedChildEvent",
b,null,a);d.onDispatchedChildEvent.forEach(function(a){a(e)})}};a.prototype={constructor:a,send:function(a,b){z(b)&&(b={});if(-1!==q.indexOf(a))return $.dispatchChildEvent(new K(a,X.stringify(b)));if("simulateFakeLoadView"===a)$.onHostEvent(new K("onShowView",X.stringify(b))),$.onHostEvent(new K("onSelect",X.stringify(b)));else throw S("MAF.HostEventManager.fire: Unknown eventType: "+a);return!0},addSubscribeableEvent:function(a){b(e,a,function(){return d[a]?d[a]:[]});J(e,a,function(b){if(b instanceof
W)d[a]=b;else throw S("MAF.HostEventManager.subscribe: Invalid setting of subscribers for eventType: "+a);})},addFireableEvent:function(a){q.push(a)}};var f=new a;f.subscribers=e;n.forEach(f.addSubscribeableEvent);return f}();b(aa,"HostEventManager",function(){return la});var ha=function(a){function e(a){E=K="";a&&(G="",z={},D={},V={});O.length=0;O=[];U=T=Q=P=null}function f(a){if(!V[a.type])return!0;for(var b=!1,c=0;c<V[a.type].length&&(V[a.type][c](a),b=b||a.defaultPrevented,!a.propagationStopped);c++);
return!b}function k(a){var b=a&&a.viewClass,c=b&&b.prototype;if(a.id&&b&&c)return{id:a.id,type:w[c.viewType]};H.warn("Invalid config!")}function m(){O.length=0;O=[]}function n(){return K||E}function p(a,b,d,e){d=d||"forward";var g=n();a===g&&"back"!==d?H.warn("Refusing to [forward] load the same view! ("+a+")"):f(new c("onViewChangeInitiated",{currentId:g,destinationId:a,direction:d}))&&(Q=b,P=e,T=a,U=d,b="loadView",a==g&&(H.warn("Oh boy, we are faking a loadView for a previousView attempt. Hold onto your socks!"),
b="simulateFakeLoadView"),a in D&&(D[a].viewClass&&D[a].viewClass.inheritsFrom(aa.system.FullscreenView))&&la.send("setFullscreenVideoMode",D[a].viewClass.prototype.config.showPassthroughVideo?"passthrough":"default"),la.send(b,k(D[a])))}function q(){m();p(G)}function s(a,b){var c=O.length;1<O.length&&(1<b&&b<=c)&&(b--,O.splice(c-b,b));(c=O.pop())?p(c.id,c.persist,"back",a):$.identifier!==h&&v()}function t(a,b,d){if(a instanceof c&&D[b]){var e=k(D[b]);m();Q=d;P=null;T=b;U="forward";a.HostEvent.result=
X.stringify(e);return e}H.warn("Invalid call to setHostResultToViewId")}function u(){var a=[];r.forEach(D,function(b,c){c&&(c.viewClass&&c.viewClass.prototype&&-1!==I.indexOf(c.viewClass.prototype.viewType))&&a.push(k(c))});return a}function v(){la.send("exit");e()}function x(a){var b=null,c=null,d=null;T==a&&(T=null,b=P||{},P=null,c=Q||{},Q=null,d=U||"forward",U=null);if(z[a]&&z[a]instanceof aa.system.BaseView)return z[a].backParams=b||z[a].backParams||{},z[a].persist=c||z[a].persist||{},z[a].historyDirection=
d||z[a].direction||"forward",z[a];var e=D[a],f=F(a);if(!e||!e.viewClass.inheritsFrom(aa.system.BaseView))throw S("Can't get a view which we don't have a valid config for");f&&(z[a]=new e.viewClass({viewId:a,data:Z(e.data),element:f,backParams:b||{},persistParams:c||{}}),z[a].historyDirection=d||"forward");return z[a]}function M(a){var b=a.payload&&a.payload.id?a.payload.id:null,d=b&&x(b);switch(a.type){case "onActivateAppButton":switch(a.payload.type){case "app-back":f(new c("onActivateBackButton",
{view:d,viewId:b,defaultActionCallback:s},null,a.HostEvent))&&d.fire(new c("onActivateBackButton",{view:d,defaultActionCallback:s},null,a.HostEvent))&&(backParams=z[n()]&&z[n()].viewBackParams||null,s(backParams));break;case "app-home":case "app-title":f(new c("onActivateHomeButton",{view:d,viewId:b,defaultActionCallback:q},null,a.HostEvent))&&(backParams=z[n()]&&z[n()].viewBackParams||null,q(backParams));break;case "app-fav-add":case "app-fav-delete":f(new c("onActivateFavButton",{view:d,action:a.payload.type,
viewId:b},null,a.HostEvent))&&d.favbutton.call(d,new c("onActivateFavButton",{view:d,action:a.payload.type,viewId:b},null,a.HostEvent))}break;case "onActivateSnippet":a=new c("onActivateSnippet",{view:d,viewId:b},null,a.HostEvent);!f(a)||d&&!d.fire(a)||(t(a,a.payload.targetViewID||(D[b]&&D[b].data?D[b].data.targetViewID||D[b].data.destinationID||G:G),a.payload.forwardParams||{}),R.inject(l),R.frozen=!1);break;case "onLoadView":d.data=qa(d.data||{},a.payload.data||{});f(new c("onLoadView",{view:d,
viewId:b},null,a.HostEvent))&&d.onLoadView.call(d,new c("onLoadView",{view:d},null,a.HostEvent));d.rendered=!0;break;case "onUnloadView":f(new c("onUnloadView",{view:d,viewId:b},null,a.HostEvent))&&(d.onUnloadView.call(d,new c("onUnloadView",{view:d},null,a.HostEvent)),delete d.backParams,delete d.persist,delete d.data,delete z[b],d.suicide());d.rendered=!1;break;case "onShowView":d.thaw();K=b;d.data=qa(d.data||{},a.payload.data||{});f(new c("onShowView",{view:d,viewId:b},null,a.HostEvent))&&d.onShowView.call(d,
new c("onShowView",{view:d,viewId:b},null,a.HostEvent));K=!1;break;case "onHideView":d.freeze();f(new c("onHideView",{view:d,viewId:b},null,a.HostEvent))&&d.onHideView.call(d,new c("onHideView",{view:d,viewId:b},null,a.HostEvent));break;case "onSelect":d.selected=!0;d.data=qa(d.data||{},a.payload.data||{});E=b;f(new c("onSelectView",{view:d,viewId:b},null,a.HostEvent))&&d.onSelectView.call(d,new c("onSelectView",{view:d,viewId:b},null,a.HostEvent));d.setInitialFocus.call(d,new c("onGainFocus",{view:d,
viewId:b},null));break;case "onUnselect":d.selected=!1,f(new c("onUnselectView",{view:d,viewId:b},null,a.HostEvent))&&d.onUnselectView.call(d,new c("onUnselectView",{view:d,viewId:b},null,a.HostEvent))}}function B(a){switch(a.type){case "getSnippetConfs":f(new c("getSnippetConfs",{},null,a.HostEvent))&&(a.HostEvent.result=X.stringify(u()));break;case "onDialogCancelled":if(f(new c("onDialogCancelled",a.HostEvent.getData(),null,a.HostEvent)))return!1;break;case "onDialogDone":if(f(new c("onDialogDone",
a.HostEvent.getData(),null,a.HostEvent)))return!1;break;case "onAppInit":f(new c("onApplicationStartup",{},null,a.HostEvent));break;case "onAppFin":if(f(new c("onApplicationShutdown",{},null,a.HostEvent))){var b=u().pluck("id")||[],d=[];r.forEach(z,function(a,c){-1===b.indexOf(a)&&d.push(a)});a.HostEvent.result=X.stringify(d);R.detach();R.frozen=!0}break;case "onLoadProfile":f(new c("onLoadProfile",{},null,a.HostEvent))&&r.each(z,function(b,d){d.fire(new c("onLoadProfile",{},null,a.HostEvent))});
break;case "onUnloadProfile":f(new c("onUnloadProfile",{},null,a.HostEvent))&&(r.each(z,function(b,d){d.fire(new c("onUnloadProfile",{},null,a.HostEvent))}),a.HostEvent.result=X.stringify(u()))}}function C(){b(this,"viewTypes",function(){return w});this.subscribers=Y}var F=$.getElementById,K="",E="",G="",z={},D={},O=[],P=null,Q=null,T=null,U=null,V={};M.allowed=!0;B.allowed=!0;M.subscribeTo(la,"onActivateAppButton onActivateSnippet onHideView onLoadView onShowView onUnloadView onSelect onUnselect".split(" "));
B.subscribeTo(la,"getSnippetConfs onAppInit onAppFin onDialogCancelled onDialogDone onUnloadProfile onLoadProfile onPlaybackAction".split(" "));var Y={};g.forEach(function(a){b(Y,a,function(){return V[a]?V[a]:[]});J(Y,a,function(b){if(b instanceof W)V[a]=b;else throw S("MAF.application.subscribe: Invalid setting of subscribers for eventType: "+a);})});$.addEventListener("unload",function(){a===y&&0<r.keys(z).length&&v();r.forEach(z,function(b){d(a,"onUnloadView",{id:b},A)});e(!0);Y=null});$.addEventListener("keydown",
function(a){f(new c("onWidgetKeyPress",{keyCode:a.keyCode,key:a.key,eventPhase:a.eventPhase,type:a.type},a))&&(3==a.eventPhase&&-1!==N.indexOf(a.key)&&f(new c("onPlayControlKeyPress",{keyCode:a.keyCode,key:a.key,eventPhase:a.eventPhase,type:a.type},a)),3==a.eventPhase&&-1!==L.indexOf(a.key)&&f(new c("onColorKeyPress",{keyCode:a.keyCode,key:a.key,eventPhase:a.eventPhase,type:a.type,color:a.key},a)))});$.addEventListener("back",function(a){if(!a.defaultPrevented&&f(new c("onActivateBackButton",{view:b},
a))&&(b=n())&&b in z){var b=x(b);b.fire(new c("onActivateBackButton",{view:b},a))&&s(b.viewBackParams||{})}});C.prototype={constructor:C,init:function(a){a.views instanceof W&&a.defaultViewId?(e(!0),G=a.defaultViewId,a.views.forEach(function(a){this.addViewConfig(a)},this)):H.warn("Invalid application config. The following properties are required: views, defaultViewId")},removeView:function(a){},loadView:function(a,b,c){var d=n();a===d&&H.warn("You can't switch to a view you are already on");a in
D?D[a].viewClass.inheritsFrom(aa.system.SnippetView)?H.warn("You can't call loadView on a snippet view!"):(c||(c=n())&&c in z&&(z[c]instanceof aa.system.SnippetView||O.push({id:c,persist:z[c].persist})),p(a,b,"forward")):H.warn("You can't switch to a view for which we don't have a config for (typo maybe?)")},reloadView:function(a,b){},previousView:s,clearViewHistory:m,loadDefaultView:q,loadSettingsView:function(){},getViewProperty:function(a,b){return z[a]&&z[a][b]},isSidebarLoaded:function(){var a=
n();return a in D&&D[a].viewClass&&D[a].viewClass.inheritsFrom(aa.system.WindowedView)||!1},getCurrentViewId:n,setHostResultToViewId:t,getViewConfig:function(a){return D[a]||!1},launchApp:function(a,b){la.send("launchApp",{id:a,data:b})},exitToDock:function(){H.warn("MAF.application.exitToDock() is deprecated, please use MAF.application.exit()");v()},exit:v,addViewConfig:function(a){if(!a.viewClass||!a.viewClass.inheritsFrom(aa.system.BaseView))throw S("Invalid view config. All configs must at minimum provide an id and a viewClass");
D[a.id]=a}};return new C}(a);b(aa,"application",function(){return ha});b(H,"currentViewId",function(){return ha.getCurrentViewId()});a===h&&b(H,"ApplicationManager",function(){return ba});b(H,"close",function(){return function(){var a=vb().diff(kb);0<a.length&&H.warn("global scope has been poluted",a);a=D($.identifier);this.dispatchEvent(oa("unload"));aa.messages.reset();aa=la=ha=Q=R=$=aa.messages=null;for(var b in this)delete this[b];(b=na(a))&&b.destroy();ob.call(this);e&&e(a)}});x.forEach(function(a){b(this,
a,function(){return this})},H);b(H,"name",function(){return $.name});b(H,"KONtx",function(){return this.MAF});Ca(P,$.identifier+": created sandbox")};e.prototype={constructor:e};return e}();s.prototype={constructor:s,getApplications:function(){return r.keys(e).filter(function(a){return a!==h})},getMetadata:function(a){return e[a]},getLocalization:function(a){return p[a]},load:function(a){var b=k[a],c=y&&D(y);if(!b&&e[a]){var b=k[a]=new wa(a),f=[].concat(e[a].scripts);y=a;f.forEach(function(a){b.include(a)},
b);d(a,"onAppInit",{id:a},A);y=c}},unload:function(a){var b=k[a];b&&(y=a,b.close(),y=a!==h?h:E)},open:function(a){k[a]&&(y&&y!==a&&d(y,"onUnselect",{id:k[y].currentViewId},A),y=a,d(a,"onActivateSnippet",{},A))},close:function(a){k[a]&&a===y&&d(a,"onAppFin",{id:a},A)},forEach:function(a,b){r.forEach(k,a,b)},fire:function(a,b,c){return d(a,b,c,A)},reload:function(){q.location.reload()}};ba=new s;R(h,function(){ba.load(h);ba.open(h);R(a.apps)});this.destroy=function(){r.forEach(k,function(a){ba.close(a);
ba.unload(a);delete e[a];delete p[a]});k=e=p=l=O=L=ba=null};this.dump=function(){return[k,e,p]}};(function(){function a(){if(!1!==wa&&fa){var a=Y&&Y.scale||"width",b={width:fa.offsetWidth||0,height:fa.offsetHeight||0},c=Y.hacks&&!0===Y.hacks["3d"]||!1,g;0!==u.min(b.width,b.height)&&("width"===a||"height"===a?U=ba=u.min(b[a]/viewport[a],1):"both"==a&&(ba=u.min(b.width/viewport.width,1),U=u.min(b.height/viewport.height,1)),c&&(g=g||{},g[wa+"transform-style"]="preserve-3d"),(1!==ba||1!==U)&&0<u.min(ba,
U)&&(g=g||{},g[wa+"transform"]=c?"scale3d("+ba+","+U+",1)":"scale("+ba+","+U+")",g[wa+"transform-origin"]="0px 0px"),I(g)&&na("viewport").setStyles(g))}}var b;q.addEventListener("resize",a);q.addEventListener("load",function(){fa=G.body;var d=na("viewport")||yb("viewport").inject(fa),m=d.style;Rb(P().addClass("text").inject(d),"id","textrenderer");["-moz-","-webkit-","-o-","-ms-",""].forEach(function(a){var b=(a+"transform").camelize();I(m[b])&&(wa=a)});a();kb=vb();Y&&(b=new fc(Y));d.frozen=!1});
q.addEventListener("unload",function(d){q.removeEventListener("resize",a);try{b&&(b.destroy(),b=null);var m=na("viewport");m&&m.destroy()}catch(f){Wa(f),d.preventDefault()}hb=fa=kb=null})})();Ca(Bb,"maf 3.0.0 loaded")})(window,document);