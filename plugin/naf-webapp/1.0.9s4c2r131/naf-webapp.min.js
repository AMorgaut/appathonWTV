// Copyright 1999-2014 SeaChange International
// All Rights Reserved.
NAF.conf={debug:0,traxisip:"213.224.176.50",traxisid:"Dxxxx01",chanlocsrc:"traxis",traxisidprefix:"CpeId",traxisUrl:"",enableHttpVod:!1,eRouterIp:"192.168.0.1",numhours:6,channelRefreshInterval:0,refreshInterval:0,refreshInterval0:3600,reminderTime:1,fetchInitEventsInChunks:!0,eventsRefreshInChunks:20,eventsRefreshTimeout:200,profileRefreshInterval:3600,pretune:!0,previouspretunes:0,followingpretunes:1,codcatalog:"root",searchCacheSize:10,upcPrice:!1,maxPinAttempts:3,pinRetryInterval:300,maxHistory:5,
maxHistoryDuration:0,pinAttemptsDuration:300,wakeuptime:120,prerecordwakeuptime:3,teletextHandling:!1,langTimeOut:500,mediawareip:"",chanUpDownKeyHandling:!1,startChannel:"CNN",initChannel:"lastViewed",lockedChannels:[],profileAgeRating:0,enable000reload:!1,useNewRecordingManager:!0,useUnifiedMapPlayer:!0,tuneByChanLocator:!0,catchUpCategory:"",catchUpChannel:0,genreData:JSON.stringify({genres:[{code:"1",name:"movie",subgenres:[]},{code:"2",name:"news",subgenres:[]},{code:"3",name:"show",subgenres:[]},
{code:"4",name:"sports",subgenres:[]},{code:"5",name:"children's",subgenres:[]},{code:"6",name:"music",subgenres:[]},{code:"7",name:"arts",subgenres:[]},{code:"8",name:"social",subgenres:[]},{code:"9",name:"education",subgenres:[]},{code:"10",name:"leisure",subgenres:[]},{code:"11",name:"special",subgenres:[]},{code:"12",name:"entertainment",subgenres:[]},{code:"13",name:"crime",subgenres:[]},{code:"14",name:"series",subgenres:[]},{code:"15",name:"adult",subgenres:[]}]}),provideDefaultSettings:!0,
applications:[{id:"id1",name:"MetrologicalAppStore",shortSynopsis:"The Metrological App Store",isAdult:!1,isViewable:!0,isEntitled:!0,url:"http://widgets.metrological.com/dawn/pl/production/",type:"store"}],blockUnratedTitleEvents:!0,maxRecommendations:30,recommendationTimeout:1800,maxSearches:0,maxChannelCategories:1,maxCODOrphans:10,codOrphanTimeout:1800,reminderRefreshInterval:7200,bkwdCompatibleNotifications:!1,enableCODCategorySingleFetch:!0,titleSchema:{basic:["name","pictures","isAdult"],extended:"name shortName shortSynopsis longSynopsis isViewable isEntitled isPreview isAdult ageRating pictures contents events previews genres seasonNum episodeNum episodeName seriesName isViewedCompletely productionDate broadcastDate bookmark productionLocations actors directors".split(" ")}};
function nafCleanupConf(){NAF.conf.canned&&(NAF.conf.traxisid="");if("undefined"!==typeof window){for(var f=[],k,h=location.href.slice(location.href.indexOf("?")+1).split("&"),e=0;e<h.length;e++)k=h[e].split("="),f.push(k[0]),f[k[0]]=k[1];e=0;for(k=f.length;e<k;e++){var h=f[e].toLowerCase(),c;for(c in NAF.conf)if(h==c.toLowerCase()){h=f[f[e]];isNaN(h)?NAF.conf[c]="true"===h?!0:"false"===h?!1:h:NAF.conf[c]=parseFloat(h,10);break}}}}nafCleanupConf();nafCleanupConf=null;
NAF.utils={convertJSONDateToJSDate:function(f){var k;return"string"===typeof f&&(k=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2}(?:\.\d*)?)Z$/.exec(f))?new Date(Date.UTC(+k[1],+k[2]-1,+k[3],+k[4],+k[5],+k[6])):k},convertLocalJSONDateToLocalJSDate:function(f){var k;return"string"===typeof f&&(k=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2}(?:\.\d*)?)Z$/.exec(f))?new Date(+k[1],+k[2]-1,+k[3],+k[4],+k[5],+k[6]):k},convertJSONDateToMins:function(f){f=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2}(?:\.\d*)?)Z$/.exec(f);
return(new Date(Date.UTC(+f[1],+f[2]-1,+f[3],+f[4],+f[5],+f[6]))).getTime()/6E4},convertJSONDateToJSDateCanned:function(f){var k,h=new Date;return"string"===typeof f&&(k=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2}(?:\.\d*)?)Z$/.exec(f))?new Date(Date.UTC(+h.getUTCFullYear(),+h.getUTCMonth(),+h.getUTCDate(),+k[4],+k[5],+k[6])):k},convertJSDateToJSONDate:function(f){var k=f.getUTCMonth()+1;10>k&&(k="0"+k);var h=f.getUTCDate();10>h&&(h="0"+h);var e=f.getUTCHours();10>e&&(e="0"+e);var c=f.getUTCMinutes();
10>c&&(c="0"+c);return f.getUTCFullYear()+"-"+k+"-"+h+"T"+e+":"+c+":00Z"},clearTimer:function(f){f&&clearTimeout(f)},encodeXML:function(f){return f.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;")},throttle:function(f,k){function h(){e=null}var e,c,s;return function(){c=this;s=arguments;e||(result=f.apply(c,s),e=setTimeout(h,k))}},decimalToBinary:function(f,k){for(var h=
f,e=0,c=[];0<h;)e=h%2,h=Math.floor(h/2),c.unshift(e);h=k-c.length;if(0<h)for(e=0;e<h;e++)c.unshift(0);else if(0>h)return null;return c},copyByValue:function(f){function k(e,c){c=c||[];if(!e||"object"!=typeof e)return!1;var f=Object.keys(e),l,p;c.push(e);for(l=f.length-1;0<=l;l--)if((p=e[f[l]])&&"object"==typeof p&&(0<=c.indexOf(p)||k(p,c)))return!0;c.pop(e);return!1}var h=f instanceof Array?[]:new f.constructor;for(i in f)f[i]&&f[i]instanceof Date?h[i]=new Date(f[i]):f[i]&&"object"==typeof f[i]?k(f[i])?
h[i]=f[i]:h[i]=NAF.utils.copyByValue(f[i]):h[i]=f[i];return h},Log:function(){function f(b,a){if(k&&b.rank<=t.rank){console.log((new Date).toISOString()+" "+b.text+" "+h+" "+a[0]);for(var d=1;d<a.length;d++)console.log(a[d])}}var k=!1,h="",e={text:" FATAL ",rank:0},c={text:" ERROR ",rank:1},s={text:" WARN  ",rank:2},l={text:" DEBUG ",rank:3},p={text:" TRACE ",rank:4},r={text:" INFO  ",rank:5},t=p;this.trace=function(){f(p,arguments)};this.debug=function(){f(l,arguments)};this.info=function(){f(r,
arguments)};this.warn=function(){f(s,arguments)};this.error=function(){f(c,arguments)};this.fatal=function(){f(e,arguments)};this.enable=function(){k=!0};this.disable=function(){k=!1};this.setAppName=function(b){h=b};this.setLevel=function(){return{fatal:function(){t=e},error:function(){t=c},warn:function(){t=s},debug:function(){t=l},trace:function(){t=p},info:function(){t=r}}}();this.getCurrLevel=function(){return t.rank}}};
NAF.Map=function(f,k){function h(){var b=new XMLHttpRequest,a={};a.method=arguments[0];a.id=l++;a.jsonrpc=p;for(var d={},n=1;n<arguments.length;n+=2)d[arguments[n]]=arguments[n+1];a.params=d;a=JSON.stringify(a);d="/ajax?"+encodeURI(a);"undefined"!=typeof s&&""!=s&&(d="http://"+s+d);c.debug("MAP-REQ: "+a);b.open("GET",d,!1);b.setRequestHeader("Content-Type","application/json;charset=UTF-8");b.send(null);var e;try{e=JSON.parse(b.responseText)}catch(m){e={error:m,result:-1}}e.error?c.error("MAP-ERR: code="+
e.error.code+" message="+e.error.message):4>=c.getCurrLevel()?c.debug("MAP-RES: status="+b.status+" response="+b.responseText.substr(0,80)):c.debug("MAP-RES: status="+b.status+" response="+b.responseText);return e.result}function e(b,a,d){var e=a.callbackParams;delete a.callbackParams;var g=new XMLHttpRequest,m={};m.method=b;m.id=l++;m.jsonrpc=p;a&&"{}"!=JSON.stringify(a)&&(m.params=a);b=JSON.stringify(m);a="/ajax?"+encodeURI(b);"undefined"!=typeof s&&""!=s&&(a="http://"+s+a);c.debug("MAP-ASYNC-REQ: "+
b);g.open("GET",a,!0);g.setRequestHeader("Content-Type","application/json;charset=UTF-8");g.onreadystatechange=function(){if(4===g.readyState){var a;try{200==g.status?4>=c.getCurrLevel()?c.debug("MAP-ASYNC-RESPONSE: SUCCESS "+g.responseText.substr(0,200)):c.debug("MAP-ASYNC-RESPONSE: SUCCESS "+g.responseText):c.debug("MAP-ASYNC-RESPONSE: ERROR "+g.responseText),a=JSON.parse(g.responseText)}catch(b){a={error:b,result:-1}}a.error&&c.error("MAP-ERR: code="+a.error.code+" message="+a.error.message);d&&
(a.error&&(a={error:a.error.message,result:-1}),d(a.result,e));g=e=g.onreadystatechange=null}};g.send(null);a=b=m=null}var c=f.log,s=k,l=1,p="2.0",r,t=this;this.SetAsyncEventHandlers=function(b,a,d){r=new EventSource("/server-sent-events");r.onopen=b;r.onmessage=function(b){a:{var e;try{e=JSON.parse(b.data)}catch(m){c.error("server-sent event parsing failed, event handler not invoked."+m);d("Invalid server-sent event");break a}"undefined"!==typeof e.method?a(e):(c.error("server-sent event is not a valid MW event, event handler not invoked."),
d("Invalid server-sent event"))}};r.onerror=function(e){var g;switch(e.target.readyState){case EventSource.CONNECTING:g="Eventsource reconnecting.";break;case EventSource.CLOSED:g="Eventsource closed. Creating a new one.",setTimeout(function(){t.SetAsyncEventHandlers(b,a,d)},1E4)}d(g)}};this.VidSetAnimationParameters=function(b,a,d,n,g,m){e("VidSetAnimationParameters",{windowId:b,bAnimate:a,duration:d,speed:speed,fps:g},m)};this.VidPretune=function(b,a,d){e("VidPreTune",{windowId:b,LocatorArray:a},
d)};this.VidStopPretune=function(b,a,d){e("VidStopPreTune",{windowId:b},d)};this.VidGetCurChan=function(b){e("VidGetCurChan",{},b)};this.VidGetLastChan=function(b){e("VidGetLastChan",{},b)};this.VidGetStartChan=function(){return null};this.VidDetune=function(b){e("VidDetune",{},b)};this.VidGetChanCount=function(b){e("VidGetChanCount",{},b)};this.VidGetChannelList=function(b,a){e("VidGetChannelList",{platform:b},a)};this.VidSetVideoWinSize=function(b,a,d,n,g,m){e("VidSetVideoWinSize",{x:b,y:a,w:d,
h:n,bPIP:g},m)};this.VidEnableCC=function(b,a){e("VidSetCloseCap",{enable:b},a)};this.VidGetAvailableAudioLang=function(b){e("GetAvailableAudioLanguages",{},b)};this.VidSetPrefAudioLang=function(b,a,d,n){var g={};g.language=b;if(a||""!=a)g.type=a;g.callbackParams=n;e("SetAudioLanguagePreference",g,d)};this.VidGetPrefAudioLang=function(b){e("GetAudioLanguagePreference",{},b)};this.VidSetAudioLang=function(b,a,d){var n={};n.language=b;n.callbackParams=d;e("SetAudioLanguage",n,a)};this.VidGetAudioLang=
function(b){e("GetAudioLanguage",{},b)};this.VidSetResolution=function(b,a,d){e("VidSetResolution",{port:b,resolution:a},d)};this.VidGetAvailableSubtitleLang=function(b){e("GetAvailableSubtitleLanguages",{},b)};this.VidSetPrefSubtitleLang=function(b,a,d,n){var g={};g.language=b;g.type=a;g.callbackParams=n;e("SetSubtitleLanguagePreference",g,d)};this.VidGetPrefSubtitleLang=function(b){e("GetSubtitleLanguagePreference",{},b)};this.VidGetSubtitleAvailability=function(b){e("GetSubtitleAvailability",{},
b)};this.VidEnableSubtitle=function(b,a){var d={};d.enable=b;e("EnableSubtitle",d,a)};this.VidSetSubtitleLang=function(b,a,d){var n={};n.language=b;n.callbackParams=d;e("SetSubtitleLanguage",n,a)};this.VidGetSubtitleLang=function(b){e("GetSubtitleLanguage",{},b)};this.IsSubtitleEnabled=function(b){e("IsSubtitleEnabled",{},b)};this.VidSetPrefTeletextLang=function(b,a,d,e){c.warn("VidSetPrefTeletextLang(): Not yet supported.")};this.VidGetPrefTeletextLang=function(b){c.warn("VidGetPrefTeletextLang(): Not yet supported.")};
this.IsTeletextEnabled=function(b){e("IsTeletextEnabled",{},b)};this.EnableTeletext=function(b,a){e("EnableTeletext",{enable:b},a)};this.IsTeletextAvailable=function(b){e("IsTeletextAvailable",{},b)};this.VidSetTeletextLang=function(b,a,d,e){c.warn("VidSetTeletextLang(): Not yet supported.")};this.VidGetTeletextLang=function(b){c.warn("VidGetTeletextLang(): Not yet supported.")};this.VidSpeakerMute=function(b,a){e("VidSpeakerMute",{flag:b},a)};this.VidDisplayVideoOn=function(b,a){e("VidDisplayVideoOn",
{flag:b},a)};this.DlnaSetDeviceName=function(b,a){return h("MapDLNASetDeviceName","name",b,"type",a)};this.DlnaGetDeviceName=function(b){return h("MapDLNAGetDeviceName","type",b)};this.MapDLNAGetActiveDevices=function(b){return h("MapDLNAGetActiveDevices","type",b)};this.MapDLNAGetContainer=function(b,a,d,n,g,m,q,c){if(c)e("MapDLNAGetContainer",{id:b,containerId:a,containerType:d,filter:n,startAt:g,requestedCount:m,sort:q},c);else return h("MapDLNAGetContainer","id",b,"containerId",a,"containerType",
d,"filter",n,"startAt",g,"requestedCount",m,"sort",q)};this.MapPlayer=function(b,a,d,n,g,m,q,c,f,l,p){var s={};s.type=g;s.x=m;s.y=q;s.width=c;s.height=f;g={};p&&(g.callbackParams=p);g.ver="1.0";g.url=b;g.block=a;g.rate=d;n&&(g.playPos=n);g.window=s;e("MapPlayer",g,l)};this.MapPlayerRTSPVod=function(b,a,d,n,g,m,q,c,f,l){var p={};p.type=g;p.x=m;p.y=q;p.width=c;p.height=f;g={ver:"1.0"};g.id=b;g.block=a;g.rate=d;void 0!=n&&null!=n&&""!==n&&0<=n&&(g.playPos=1E3*n);g.window=p;e("MapPlayer",g,l)};this.MapPlayerStop=
function(b,a,d,n,g,m){var q={};q.type=b;q.x=a;q.y=d;q.width=n;q.height=g;e("MapPlayer",{ver:"1.0",window:q},m)};this.MapPlayerSkip=function(b,a,d,n,g,m,q,c,f){var l={};l.type=n;l.x=g;l.y=m;l.width=q;l.height=c;e("MapPlayer",{ver:"1.0",url:b,rate:a,playPos:d,window:l},f)};this.MapPlayerMakePipPrimary=function(b,a){var d={ver:"1.0"};d.url=b;d.window={type:"pip"};d.destwin={type:"main"};e("MapPlayer",d,a)};this.MapPlayerSetVideoWinSize=function(b,a,d,n,g,m,q){var c={};c.type=a;c.x=d;c.y=n;c.width=g;
c.height=m;e("MapPlayer",{ver:"1.0",url:b,window:c},q)};this.DvrGetCheckPoint=function(){return h("PvrGetCheckPoint")};this.DvrSync=function(){return h("PvrSync")};this.DvrRecord=function(b,a,d,n,c,m,q,l,f,p){var s={};s.locator=b;s.channelId=a;s.duration=d;s.title=n;s.description=c;s.start=m;l&&(s.frontPad=l);f&&(s.backPad=f);var h;if(0!=q){b=m?new Date(1E3*m):new Date;a="";for(d=0;d<q.length;d++)a=7==q[d]?"0,"+a:a+(q[d]+",");a=a.substring(0,a.length-1);h=b.getMinutes()+" "+b.getUTCHours()+" * * "+
a}h&&(s.interval=h);e("PvrSchedRecording",s,p)};this.DvrRecordEvent=function(b,a,d,n){c.trace("DvrRecordEvent: "+b);var g={};g.eventCrid=b;if(a||0===a)g.frontPad=a;if(d||0===d)g.backPad=d;e("PvrSchedRecording",g,n)};this.DvrRecordSeries=function(b,a,d,n,g,m){c.trace("DvrRecordSeries: "+b+" chan: "+n+" event: "+g);var q={};q.seriesCrid=b;a&&(q.frontPad=a);d&&(q.backPad=d);n&&(q.channel=n);g&&(q.event=g);e("PvrSchedRecording",q,m)};this.DvrUpdateRecord=function(b,a,d){if(void 0!=a&&void 0!=d)return h("PvrUpdateRecording",
"recordingId",b,"duration",a,"start",d);if(void 0!=d)return c.warn("DvrUpdateRecord(): duration is null!!!"),h("PvrUpdateRecording","recordingId",b,"start",d);if(void 0!=a)return c.warn("DvrUpdateRecord(): startTime is null!!!"),h("PvrUpdateRecording","recordingId",b,"duration",a)};this.DvrUpdateOperation=function(b,a,d,n){var c={};c.operationId=b;a&&(c.frontPad=a);d&&(c.backPad=d);e("MapPvrUpdateOperation",c,n)};this.DvrAssetList=function(b){e("PvrListRecording",{},b)};this.DvrListRequests=function(b){if(b)e("PvrListRequests",
{},b);else return h("PvrListRequests")};this.DvrListOperations=function(b){if(b)e("PvrListOperations",{},b);else return h("PvrListOperations")};this.DvrListRecordings=function(b){if(b)e("PvrListRecordings",{},b);else return h("PvrListRecordings")};this.DvrListRequestsOperationsRecordings=function(b){if(b)e("PvrBatchCommand",{commands:["PvrListRequests","PvrListOperations","PvrListRecordings"]},b);else return h("PvrBatchCommand","commands",["PvrListRequests","PvrListOperations","PvrListRecordings"])};
this.DvrGetRecords=function(b,a){if(a)e("MapPvrGetRecords",{checkPoint:b},a);else return h("MapPvrGetRecords","checkPoint",b)};this.DvrGetConflicts=function(b,a,d){var c={},c={opId:b};c.callbackParams=d;e("MapPvrGetConflicts",c,a)};this.DvrPause=function(b){e("PvrPlayTrick",{speed:0},b)};this.DvrResume=function(b){e("PvrPlayTrick",{speed:100},b)};this.DvrFastForward=function(b,a){e("PvrPlayTrick",{speed:b},a)};this.DvrRewind=function(b,a){e("PvrPlayTrick",{speed:-b},a)};this.DvrOffset=function(b,
a){e("PvrPlaySkip",{offset:b},a)};this.DvrDelete=function(b,a){e("PvrDeleteRecording",{locator:b},a)};this.DvrDeleteAll=function(b){e("PvrDeleteAll",{},b)};this.DvrDeleteRequest=function(b,a){e("PvrDelete",{requestId:b},a)};this.DvrDeleteOperation=function(b,a){e("PvrDelete",{operationId:b},a)};this.DvrDeleteRecording=function(b,a){e("PvrDelete",{recordingId:b},a)};this.DvrDeleteProtectOperation=function(b,a,d,c){var g={},g={operationId:b,protect:a};g.callbackParams=c;e("PvrDeleteProtect",g,d)};this.DvrPinProtectOperation=
function(b,a,d,c){var g={},g={operationId:b,protect:a};g.callbackParams=c;e("PvrPinProtect",g,d)};this.DvrDeleteProtectRequest=function(b,a,d,c){var g={},g={requestId:b,protect:a};g.callbackParams=c;e("PvrDeleteProtect",g,d)};this.DvrPinProtectRequest=function(b,a,d,c){var g={},g={requestId:b,protect:a};g.callbackParams=c;e("PvrPinProtect",g,d)};this.DvrStop=function(b){e("DvrStop",{},b)};this.PvrStop=function(b){e("PvrStop",{},b)};this.DvrStopRecording=function(b,a){e("PvrStopRecording",{recordingId:b},
a)};this.VodSessionOpen=function(b,a,d){e("VodSessionOpen",{assetId:b,vodType:a},d)};this.VodSessionClose=function(b){e("VodSessionClose",{},b)};this.VodPlay=function(b,a,d){e("VodPlay",{blocked:b,start:a},d)};this.VodPause=function(b){e("VodPause",{},b)};this.VodFastforward=function(b,a,d){e("VodFastforward",{numerator:b,denominator:a},d)};this.VodRewind=function(b,a,d){e("VodRewind",{numerator:b,denominator:a},d)};this.VodStop=function(b){e("VodStop",{},b)};this.VodGet=function(b,a){e("VodGet",
{name:b},a)};this.VodSet=function(b,a,d){e("VodSet",{name:b,value:a},d)};this.VodPlaySkip=function(b,a){e("VodPlaySkip",{offset:b},a)};this.VodResume=function(b){e("VodFastforward",{numerator:1,denominator:1},b)};this.ConfigGet=function(b,a){e("ConfigGet",{name:b},a)};this.ConfigSet=function(b,a){return h("ConfigSet","name",b,"value",a)};this.GetMWConfig=function(b,a,d){e("GetMWConfig",{section:b,key:a},d)};this.GetKeyMap=function(b){e("GetKeyMap",{},b)};this.EmulateRemoteKey=function(b){return h("EmulateRemoteKey",
"KeyCode",b)};this.VerifyPin=function(b,a,d,c,g){var m={},m={profile:b,type:a,pin:d};m.callbackParams=g;e("VerifyPin",m,c)};this.ResetPin=function(b,a,d,c,g,m){var q={},q={profile:b,type:a,masterpin:d,newpin:c};q.callbackParams=m;e("ResetPin",q,g)};this.GetPinState=function(b,a){e("GetPinState",{profile:b,type:a},callback)};this.ActivatePin=function(b,a,d,c){e("ActivatePin",{profile:b,type:a,masterpin:masterpin,activate:c},callback)};this.GetProfileNames=function(b,a){b()};this.ProfileSetInitChan=
function(b,a,d,c){var g={};c&&(g.callbackParams=c);g.profileId=b;-1!=b.indexOf("MasterProfile")&&(g.keyword="master");g.Settings={};g.Settings.initChannel=a;e("WriteProfile",g,d)};this.ProfileGetInitChan=function(b,a,d){var c={};d&&(c.callbackParams=d);c.profileId=b;c.Settings=["initChannel"];e("ReadProfile",c,a)};this.ProfileSetAgeRating=function(b,a,d,c){a=a?a:1001;var g={};c&&(g.callbackParams=c);g.profileId=b;-1!=b.indexOf("MasterProfile")&&(g.keyword="master");g.Settings={};g.Settings.ageRating=
a;e("WriteProfile",g,d)};this.ProfileGetAgeRating=function(b,a,d){var c={};d&&(c.callbackParams=d);c.profileId=b;c.Settings=["ageRating"];e("ReadProfile",c,a)};this.ProfileSetStartupProtection=function(b,a,d,c){var g={};c&&(g.callbackParams=c);g.profileId=b;-1!=b.indexOf("MasterProfile")&&(g.keyword="master");g.Settings={};g.Settings.startupProtection=a;e("WriteProfile",g,d)};this.ProfileGetStartupProtection=function(b,a,d){var c={};d&&(c.callbackParams=d);c.profileId=b;c.Settings=["startupProtection"];
e("ReadProfile",c,a)};this.ProfileSetNeedPinForPurchase=function(b,a,d,c){var g={};c&&(g.callbackParams=c);g.profileId=b;-1!=b.indexOf("MasterProfile")&&(g.keyword="master");g.Settings={};g.Settings.needPinForPurchase=a;e("WriteProfile",g,d)};this.ProfileGetNeedPinForPurchase=function(b,a,d){var c={};d&&(c.callbackParams=d);c.profileId=b;c.Settings=["needPinForPurchase"];e("ReadProfile",c,a)};this.SetStandbyMode=function(b,a,d,c){e("SetStandbyMode",{mode:b,time:a,callbackParams:c},d)};this.AcknowledgePowerManagerEvent=
function(b){e("AcknowledgePowerManagerEvent",{},b)};this.PesGetAllEvents=function(b,a){e("GetAllEvents",{filter:b},a)};this.PesGetChannelsWithEvent=function(b,a,d,c){e("GetChannelsWithEvent",{ChanFilter:b,ChanProps:a,EventFilter:d},c)};this.PesGetEventsByChanId=function(b,a){return h("GetEventsByChanId","chanId",b,"filter",a)};this.PesGetEventsByLcn=function(b,a){return h("GetEventsByLcn","lcn",b,"filter",a)};this.PesGetPfEventsByChanId=function(b){return h("GetPfEventsByChanId","chanId",b)};this.PesGetPfEventsByLcn=
function(b){return h("GetPfEventsByLcn","lcn",b)};this.MapGetOnlineMode=function(b){e("MapGetOnlineMode",{},b)};this.writePVRProfile=function(b,a,d,c){var g={};g.callbackParams=c;g.profileId=b;-1!=b.indexOf("MasterProfile")&&(g.keyword="master");g.Settings={};g.Settings.pvrSettings={};g.Settings.pvrSettings.frontPad=void 0!=a.newFrontPad?a.newFrontPad:a.frontPad;g.Settings.pvrSettings.backPad=void 0!=a.newBackPad?a.newBackPad:a.backPad;g.Settings.pvrSettings.seriesDomain=void 0!=a.newSeriesDomain?
a.newSeriesDomain:a.seriesDomain;g.Settings.pvrSettings.diskManagement=void 0!=a.newDiskManagement?a.newDiskManagement:a.diskManagement;e("WriteProfile",g,d)};this.readPVRProfile=function(b,a,d){var c={};d&&(c.callbackParams=d);c.profileId=b;-1!=b.indexOf("MasterProfile")&&(c.keyword="master");c.Settings=["pvrSettings"];e("ReadProfile",c,a)};this.writeViewSettingsProfile=function(b,a,d,c,g){var m={};m.callbackParams=g;m.profileId=b;-1!=b.indexOf("MasterProfile")&&(m.keyword="master");m.Settings={};
m.Settings.viewSettings={};m.Settings.viewSettings.lang={};m.Settings.viewSettings.lang.code=void 0!=a.newCode?a.newCode:a.code;m.Settings.viewSettings.lang.type=void 0!=a.newType?a.newType:a.type;m.Settings.viewSettings.transparency=void 0!=d.newTransparency?d.newTransparency:d.transparency;m.Settings.viewSettings.bannerTimeout=void 0!=d.newBannerTimeout?d.newBannerTimeout:d.bannerTimeout;m.Settings.viewSettings.epgStyle=void 0!=d.newEpgStyle?d.newEpgStyle:d.epgStyle;m.Settings.viewSettings.epgSpan=
void 0!=d.newEpgSpan?d.newEpgSpan:d.epgSpan;m.Settings.viewSettings.assetsStyle=void 0!=d.newAssetsStyle?d.newAssetsStyle:d.assetsStyle;m.Settings.viewSettings.settingsProtection=void 0!=d.newSettingsProtection?d.newSettingsProtection:d.settingsProtection;e("WriteProfile",m,c)};this.readViewSettingsProfile=function(b,a,d){var c={};d&&(c.callbackParams=d);c.profileId=b;-1!=b.indexOf("MasterProfile")&&(c.keyword="master");c.Settings=["viewSettings"];e("ReadProfile",c,a)};this.writeOutputSettingsProfile=
function(b,a,d,c){var g={};g.callbackParams=c;g.profileId=b;-1!=b.indexOf("MasterProfile")&&(g.keyword="master");g.Settings={};g.Settings.outputSettings={};g.Settings.outputSettings.primary=void 0!=a.newPrimary?a.newPrimary:a.primary;g.Settings.outputSettings.hdmi={};g.Settings.outputSettings.hdmi.resolution=void 0!=a.hdmi.newResolution?a.hdmi.newResolution:a.hdmi.resolution;g.Settings.outputSettings.hdmi.format=void 0!=a.hdmi.newFormat?a.hdmi.newFormat:a.hdmi.format;g.Settings.outputSettings.hdmi.color=
void 0!=a.hdmi.newColor?a.hdmi.newColor:a.hdmi.color;g.Settings.outputSettings.hdmi.audio={};g.Settings.outputSettings.hdmi.audio.enable=void 0!=a.hdmi.audio.newEnable?a.hdmi.audio.newEnable:a.hdmi.audio.enable;g.Settings.outputSettings.hdmi.audio.delay=void 0!=a.hdmi.audio.newDelay?a.hdmi.audio.newDelay:a.hdmi.audio.delay;g.Settings.outputSettings.spdif={};g.Settings.outputSettings.spdif.enable=void 0!=a.spdif.newEnable?a.spdif.newEnable:a.spdif.enable;g.Settings.outputSettings.spdif.delay=void 0!=
a.spdif.newDelay?a.spdif.newDelay:a.spdif.delay;g.Settings.outputSettings.tv={};g.Settings.outputSettings.tv.aspectRatio=void 0!=a.tv.newAspectRatio?a.tv.newAspectRatio:a.tv.aspectRatio;g.Settings.outputSettings.tv.start=void 0!=a.tv.newStart?a.tv.newStart:a.tv.start;g.Settings.outputSettings.scart={};g.Settings.outputSettings.scart.format=void 0!=a.scart.newFormat?a.scart.newFormat:a.scart.format;g.Settings.outputSettings.scart.color=void 0!=a.scart.newColor?a.scart.newColor:a.scart.color;g.Settings.outputSettings.scart.enable=
void 0!=a.scart.newEnable?a.scart.newEnable:a.scart.enable;g.Settings.outputSettings.audio={};g.Settings.outputSettings.audio.format=void 0!=a.audio.newFormat?a.audio.newFormat:a.audio.format;g.Settings.outputSettings.frontPanel={};g.Settings.outputSettings.frontPanel.luminosity=void 0!=a.frontPanel.newLuminosity?a.frontPanel.newLuminosity:a.frontPanel.luminosity;e("WriteProfile",g,d)};this.readOutputSettingsProfile=function(b,a,d){var c={};d&&(c.callbackParams=d);c.profileId=b;-1!=b.indexOf("MasterProfile")&&
(c.keyword="master");c.Settings=["outputSettings"];e("ReadProfile",c,a)};this.VidGetTSBInfo=function(b){e("GetTSBInfo",{},b)};this.VidGetTSBEventInfo=function(b){e("GetTSBEventInfo",{},b)};this.SubscribePlayerPosition=function(b,a){e("MAPSubscribeEvent",{name:"MWPlayerPosition",frequency:b},a)};this.UnsubscribePlayerPosition=function(b){e("MAPUnsubscribeEvent",{name:"MWPlayerPosition"},b)};this.SubscribeTSBEventInfo=function(b){e("MAPSubscribeEvent",{name:"TSBEventInfo"},b)};this.UnsubscribeTSBEventInfo=
function(b){e("MAPUnsubscribeEvent",{name:"TSBEventInfo"},b)};this.AdjustUserAgeRating=function(b,a){e("AdjustUserAgeRating",{tempAgeRating:b},a)};this.RevertUserAgeRating=function(b){e("RevertUserAgeRating",{},b)};this.GetDiagnostics=function(b){e("GetDiagnostics",{},function(a){if(b){if(a){var d={};d.caDecoder=null!=a.caDecoder?a.caDecoder:"";d.homeNetworkMode=null!=a.homeNetworkMode?a.homeNetworkMode:"";d.docsisStatus=null!=a.docsisStatus?a.docsisStatus:"";d.hw={};d.hw.hdd={};d.hw.tuners=[];if(a.hw){d.hw.hdd.available=
a.hw.hdd.available;d.hw.hdd.capacity=a.hw.hdd.capacity;d.hw.hdd.temperature=a.hw.hdd.temperature;d.hw.version=a.hw.version;d.hw.interfaces=null!=a.hw.interfaces?a.hw.interfaces:"";d.hw.cm=null!=a.hw.cm?a.hw.cm:"";for(var c=0;c<a.hw.tuners.length;c++)d.hw.tuners.push(a.hw.tuners[c])}d.ioports={};d.ioports.hdmi={};a.ioports&&(d.ioports.hdmi.hdcpStatus=a.ioports.hdmi.hdcpStatus,d.ioports.hdmi.status=a.ioports.hdmi.status,d.ioports.hdmi.tvEdid=a.ioports.hdmi.tvEdid);d.network={};d.network.docsis={};d.network.docsis.down=
{};d.network.docsis.up={};a.network&&(d.network.docsis.down.freq=a.network.docsis.down.freq,d.network.docsis.down.locked=a.network.docsis.down.locked,d.network.docsis.down.modulation=a.network.docsis.down.modulation,d.network.docsis.down.snr=a.network.docsis.down.snr,d.network.docsis.down.synced=a.network.docsis.down.synced,d.network.docsis.up.freq=a.network.docsis.up.freq,d.network.docsis.up.locked=a.network.docsis.up.locked,d.network.docsis.up.modulation=a.network.docsis.up.modulation,d.network.docsis.up.power=
a.network.docsis.up.power);d.ca={};a.ca&&(d.ca.caCallback=a.ca.caCallback,d.ca.ecmReception=a.ca.ecmReception,d.ca.emmReception=a.ca.emmReception,d.ca.status=a.ca.status);d.sw={};a.sw&&(d.sw.cmVersion=a.sw.cmVersion,d.sw.lastSWUpdate=a.sw.lastSWUpdate,d.sw.version=a.sw.version);d.transportstream={};a.transportstream&&(d.transportstream.lockSignal=null!=a.transportstream.lockSignal?a.transportstream.lockSignal:"",d.transportstream.freq=null!=a.transportstream.freq?a.transportstream.freq:"",d.transportstream.modulation=
null!=a.transportstream.modulation?a.transportstream.modulation:"",d.transportstream.bitRate=null!=a.transportstream.bitRate?a.transportstream.bitRate:"",d.transportstream.nid=null!=a.transportstream.nid?a.transportstream.nid:"");d.freqscan={};a.freqscan&&(d.freqscan.tsid=null!=a.freqscan.tsid?a.freqscan.tsid:"",d.freqscan.quality=null!=a.freqscan.quality?a.freqscan.quality:0,d.freqscan.level=null!=a.freqscan.level?a.freqscan.level:0);d.chanstatus={};a.chanstatus&&(d.chanstatus.lockStatus=null!=a.chanstatus.lockStatus?
a.chanstatus.lockStatus:"",d.chanstatus.ber=null!=a.chanstatus.ber?a.chanstatus.ber:"",d.chanstatus.freq=null!=a.chanstatus.freq?a.chanstatus.freq:"",d.chanstatus.symbolRate=null!=a.chanstatus.symbolRate?a.chanstatus.symbolRate:"",d.chanstatus.modulation=null!=a.chanstatus.modulation?a.chanstatus.modulation:"",d.chanstatus.snr=null!=a.chanstatus.snr?a.chanstatus.snr:"",d.chanstatus.inversion=null!=a.chanstatus.inversion?a.chanstatus.inversion:"",d.chanstatus.quality=null!=a.chanstatus.quality?a.chanstatus.quality:
0,d.chanstatus.level=null!=a.chanstatus.level?a.chanstatus.level:0);a=d}else a=null;b(a)}})};this.SendDiagMsg=function(b,a,d){h("SendTo","method","DiagResult","targetIP",a,"result",b,"message",d)};this.SendDiagResp=function(b,a,d,c){h("QueryResult","method","DiagResult","targetIP",a,"result",b,"message",d,"dqId",c)};this.GetStandbyModeSettings=function(b){e("GetStandbyModeSettings",{},b)};this.SetStandbyModeSettings=function(b,a,d,c,g,m,q){var l={},l={autoStandby:b,timeout:a,startTime:d,endTime:c,
weekday:g};q&&(l.callbackParams=q);e("SetStandbyModeSettings",l,m)};this.GetNetworks=function(b){b()};this.HideSplashScreen=function(){};this.writePrefAudioLangs=function(b,a,d){var c={};-1!=b.indexOf("MasterProfile")&&(c.keyword="master");c.profileId=b;c.Settings={};c.Settings.prefAudioLangs={};c.Settings.prefAudioLangs=a;e("WriteProfile",c,d)};this.readPrefAudioLangs=function(b,a,d){var c={};d&&(c.callbackParams=d);-1!=b.indexOf("MasterProfile")&&(c.keyword="master");c.profileId=b;c.Settings=["prefAudioLangs"];
e("ReadProfile",c,a)};this.writePrefSubtitleLangs=function(b,a,d){var c={};-1!=b.indexOf("MasterProfile")&&(c.keyword="master");c.profileId=b;c.Settings={};c.Settings.prefSubtitleLangs={};c.Settings.prefSubtitleLangs=a;e("WriteProfile",c,d)};this.readPrefSubtitleLangs=function(b,a,d){var c={};d&&(c.callbackParams=d);-1!=b.indexOf("MasterProfile")&&(c.keyword="master");c.profileId=b;c.Settings=["prefSubtitleLangs"];e("ReadProfile",c,a)};this.writePrefTeletextLangs=function(b,a,d){var c={};-1!=b.indexOf("MasterProfile")&&
(c.keyword="master");c.profileId=b;c.Settings={};c.Settings.prefTeletextLangs={};c.Settings.prefTeletextLangs=a;e("WriteProfile",c,d)};this.readPrefTeletextLangs=function(b,a,d){var c={};d&&(c.callbackParams=d);-1!=b.indexOf("MasterProfile")&&(c.keyword="master");c.profileId=b;c.Settings=["prefTeletextLangs"];e("ReadProfile",c,a)};this.GetBootupState=function(b){b("normal")};this.RemotePairing=function(b){e("MapRF4CBind",{},b)};this.RemoteUnbind=function(b,a){var d={};d.bindingId=b;e("MapRF4CUnbind",
d,a)};this.RemotePairingAbort=function(b){e("MapRF4CAbortBind",{},b)};this.GetCacheUpdateStatus=function(b){e("AppGetCacheUpdateStatus",{},b)};this.SetCacheEventListener=function(b,a){e("AppSetCacheEventListener",a,b)};this.UpdateCache=function(b){e("AppUpdateCache",{},b)};this.SwapCache=function(b){e("AppSwapCache",{},b)};this.AbortCaching=function(b){e("AppAbortCaching",{},b)};this.RemoveCacheEventListener=function(b,a){e("AppRemoveCacheEventListener",a,b)};this.GetCADecoderStatus=function(b){e("MapGetNagraSystemInfomation",
{},b)};this.MapSwCheckUpdate=function(b){e("MapSwCheckUpdate",{},b)};this.MapSwUpdate=function(b){e("MapSwUpdate",{},b)};this.MapSwDownloadProgress=function(b){e("MapSwDownloadProgress",{},b)}};
pmrpc=self.pmrpc=function(){function f(){for(var a=[],b=0;36>b;b++)a[b]="0123456789ABCDEF"[Math.floor(16*Math.random())];a[14]="4";a[19]="89AB"[Math.floor(4*Math.random())];a[8]=a[13]=a[18]=a[23]="-";return a.join("")}function k(a,b){for(var d=a.whitelist,c=a.blacklist,m=!1,e=!1,q=0;q<d.length;++q)if(b.match(RegExp(d[q]))){m=!0;break}for(d=0;d<c.length;++d)if(b.match(RegExp(c[d]))){e=!0;break}return m&&!e}function h(a,b,d,c){if(!(d instanceof Array)){for(var m=a.toString(),e=m.substring(m.indexOf("(")+
1,m.indexOf(")")),e=""===e?[]:e.split(", "),m={},q=0;q<e.length;q++)m[e[q]]=q;var e=[],g;for(g in d)if("undefined"!==typeof m[g])e[m[g]]=d[g];else throw"No such param: "+g;d=e}"undefined"!==typeof c&&(d=d.concat(c));return a.apply(b,d)}function e(a,b,d){var c={jsonrpc:"2.0"};c.method=a;c.params=b;"undefined"!==typeof d&&(c.id=d);return c}function c(a,b,d){var c={};c.code=a;c.message=b;c.data=d;return c}function s(a,b,d){var c={jsonrpc:"2.0"};c.id=d;"undefined"===typeof a||null===a?c.result="undefined"===
b?null:b:c.error=a;return c}function l(a){if(a.publicProcedureName in v)return!1;q[a.publicProcedureName]={publicProcedureName:a.publicProcedureName,procedure:a.procedure,context:a.procedure.context,isAsync:"undefined"!==typeof a.isAsynchronous?a.isAsynchronous:!1,acl:"undefined"!==typeof a.acl?a.acl:{whitelist:["(.*)"],blacklist:[]}};return!0}function p(b){var d=b.event,c=b.source,m="undefined"!==typeof c&&null!==c;0===d.data.indexOf("pmrpc.")&&(b=JSON.parse(d.data.substring(6)),"undefined"!==typeof b.method?
(d={data:d.data,source:m?c:d.source,origin:m?"*":d.origin,shouldCheckACL:!m},b=r(b,d),null!==b&&a(d.source,b,d.origin)):t(b))}function r(b,d,m){if("2.0"!==b.jsonrpc)return s(c(-32600,"Invalid request.","The recived JSON is not a valid JSON-RPC 2.0 request."),null,null);var e=b.id;m=q[b.method];if("undefined"!==typeof m)if(!d.shouldCheckACL||k(m.acl,d.origin))try{if(m.isAsync)return h(m.procedure,m.context,b.params,[function(b){a(d.source,s(null,b,e),d.origin)},function(b){a(d.source,s(c(-1,"Application error.",
b.message),null,e),d.origin)},d]),null;var g=h(m.procedure,m.context,b.params,[d]);return"undefined"===typeof e?null:s(null,g,e)}catch(l){return"undefined"===typeof e?null:l.match("^(No such param)")?s(c(-32602,"Invalid params.",l.message),null,e):s(c(-1,"Application error.",l.message),null,e)}else return"undefined"===typeof e?null:s(c(-2,"Application error.","Access denied on server."),null,e);else return"undefined"===typeof e?null:s(c(-32601,"Method not found.","The requestd remote procedure does not exist or is not available."),
null,e)}function t(a){var b=a.id,d=u[b];if("undefined"!==typeof d&&null!==d)if(delete u[b],"undefined"===typeof a.error)d.onSuccess({destination:d.destination,publicProcedureName:d.publicProcedureName,params:d.params,status:"success",returnValue:a.result});else d.onError({destination:d.destination,publicProcedureName:d.publicProcedureName,params:d.params,status:"error",message:a.error.message+" "+a.error.data})}function b(a){if(a.retries&&0>a.retries)throw new Exception("number of retries must be 0 or higher");
var b=[];if("undefined"===typeof a.destination||null===a.destination||"workerParent"===a.destination)b=[{context:null,type:"workerParent"}];else if("publish"===a.destination)b=m().concat(w);else if(a.destination instanceof Array)for(var c=0;c<a.destination.length;c++)"workerParent"===a.destination[c]?b.push({context:null,type:"workerParent"}):"undefined"!==typeof a.destination[c].frames?b.push({context:a.destination[c],type:"window"}):b.push({context:a.destination[c],type:"worker"});else"undefined"!==
typeof a.destination.frames?b.push({context:a.destination,type:"window"}):b.push({context:a.destination,type:"worker"});for(c=0;c<b.length;c++){var q={destination:b[c].context,destinationDomain:"undefined"===typeof a.destinationDomain?["*"]:"string"===typeof a.destinationDomain?[a.destinationDomain]:a.destinationDomain,publicProcedureName:a.publicProcedureName,onSuccess:"undefined"!==typeof a.onSuccess?a.onSuccess:function(){},onError:"undefined"!==typeof a.onError?a.onError:function(){},retries:"undefined"!==
typeof a.retries?a.retries:5,timeout:"undefined"!==typeof a.timeout?a.timeout:500,status:"requestNotSent"};isNotification="undefined"===typeof a.onError&&"undefined"===typeof a.onSuccess;params="undefined"!==typeof a.params?a.params:[];callId=f();u[callId]=q;q.message=isNotification?e(a.publicProcedureName,params):e(a.publicProcedureName,params,callId);d(callId)}}function a(a,b,d){if("undefined"===typeof a||null===a)self.postMessage("pmrpc."+JSON.stringify(b));else{if("undefined"!==typeof a.frames)return a.postMessage("pmrpc."+
JSON.stringify(b),d);a.postMessage("pmrpc."+JSON.stringify(b))}}function d(m){var e=u[m];if("undefined"!==typeof e)if(-1>=e.retries)t(s(c(-4,"Application error.","Destination unavailable."),null,m));else if("requestSent"!==e.status)if(0===e.retries||"available"===e.status){e.status="requestSent";e.retries=-1;u[m]=e;for(var q=0;q<e.destinationDomain.length;q++)a(e.destination,e.message,e.destinationDomain[q],e),self.setTimeout(function(){d(m)},e.timeout)}else e.status="pinging",e.retries-=1,b({destination:e.destination,
publicProcedureName:"receivePingRequest",onSuccess:function(a){!0===a.returnValue&&"undefined"!==typeof u[m]&&(u[m].status="available",d(m))},params:[e.publicProcedureName],retries:0,destinationDomain:e.destinationDomain}),u[m]=e,self.setTimeout(function(){u[m]&&"pinging"===u[m].status&&d(m)},e.timeout/e.retries)}function n(a,b,d,c){"addEventListener"in a?a.addEventListener(b,d,c):a.attachEvent("on"+b,d)}function g(a,b,d){return function(c){a({event:c,source:b,destinationType:d})}}function m(){var a=
[];if("undefined"!==typeof window){a.push({context:window.top,type:"window"});for(var b=0;"undefined"!==typeof a[b];b++)for(var d=a[b],c=0;c<d.context.frames.length;c++)a.push({context:d.context.frames[c],type:"window"})}else a.push({context:this,type:"workerParent"});return a}if("undefined"===typeof JSON||"undefined"===typeof JSON.stringify||"undefined"===typeof JSON.parse)throw"pmrpc requires the JSON library";if("undefined"===typeof this.postMessage&&"undefined"===typeof this.onconnect)throw"pmrpc requires the HTML5 cross-document messaging and worker APIs";
var q={},u={},v={};if("window"in this){var x=g(p,null,"window");n(this,"message",x,!1)}else if("onmessage"in this)x=g(p,this,"worker"),n(this,"message",x,!1);else if("onconnect"in this)n(this,"connect",function(a){var b=g(p,a.ports[0],"sharedWorker");n(a.ports[0],"message",b,!1);a.ports[0].start()},!1);else throw"Pmrpc must be loaded within a browser window or web worker.";var y=this.Worker;this.nonPmrpcWorker=y;var z=this.SharedWorker;this.nonPmrpcSharedWorker=z;var w=[];this.Worker=function(a){a=
new y(a);w.push({context:a,type:"worker"});var b=g(p,a,"worker");n(a,"message",b,!1);return a};this.SharedWorker=function(a,b){var d=new z(a,b);w.push({context:d,type:"sharedWorker"});var c=g(p,d.port,"sharedWorker");n(d.port,"message",c,!1);d.postMessage=function(a,b){return d.port.postMessage(a,b)};d.port.start();return d};l({publicProcedureName:"receivePingRequest",procedure:function(a){return"undefined"!==typeof q[a]}});l({publicProcedureName:"getRegisteredProcedures",procedure:function(){var a=
[],b="undefined"!==typeof this.frames?window.location.protocol+"//"+window.location.host+(""!==window.location.port?":"+window.location.port:""):"",d;for(d in q)d in v||a.push({publicProcedureName:q[d].publicProcedureName,acl:q[d].acl,origin:b});return a}});v={getRegisteredProcedures:null,receivePingRequest:null};return{register:l,unregister:function(a){if(a in v)return!1;delete q[a];return!0},call:b,discover:function(a){var b=null;if("undefined"===typeof a.destination)for(var b=m().concat(w),d=0;d<
b.length;d++)b[d]=b[d].context;else b=a.destination;var c="undefined"===typeof a.originRegex?"(.*)":a.originRegex,e="undefined"===typeof a.nameRegex?"(.*)":a.nameRegex,q=b.length,g=[];pmrpc.call({destination:b,destinationDomain:"*",publicProcedureName:"getRegisteredProcedures",onSuccess:function(b){q--;var d=b.returnValue;b=b.destination;for(var m=0;m<d.length;m++)d[m].origin.match(RegExp(c))&&d[m].publicProcedureName.match(RegExp(e))&&g.push({publicProcedureName:d[m].publicProcedureName,destination:b,
procedureACL:d[m].acl,destinationOrigin:d[m].origin});0===q&&a.callback(g)},onError:function(b){q--;0===q&&a.callback(g)}})}}}();"function"==typeof define&&define.amd&&define(pmrpc);
WebApp.Controller=function(f){function k(a){d.trace("WebApp.Controller: received init reply");f.channels=a.returnValue[0];f.state.players=a.returnValue[1];f.state.applications=a.returnValue[2];f.state.system=a.returnValue[3];f.initialized=!0;d.trace("WebApp.Controller: WebApp.model is initialized");h("model.initialized")}function h(b){try{d.debug("WebApp.Controller: controller.notifyView('"+b+"')"),setTimeout(function(){a.emit(b,b)},0)}catch(c){d.error("WebApp.Controller: error thrown by listener for event "+
b+" - "+c),c.stack&&d.error(c.stack)}}function e(a,b,e){void 0==e&&(e=c);b.splice(0,0,window.name);d.debug("WebApp.Controller: sending pmrpc call to master controller - "+a+"("+JSON.stringify(b)+")");pmrpc.call({destination:window.top,publicProcedureName:a,params:[b],timeout:1E4,onSuccess:e,onError:s})}function c(a){d.trace("WebApp.Controller: pmrpc message ("+a.publicProcedureName+") delivery confirmed");void 0!=a.returnValue&&(d.debug("WebApp.Controller: object returned from pmrpc message send:  "+
JSON.stringify(a.returnValue)),d.warn("WebApp.Controller: this return object is ignored"))}function s(a){d.error("WebApp.Controller: pmrpc message "+a.publicProcedureName+"("+JSON.stringify(a.params)+") send FAILED");d.error("WebApp.Controller: error status info returned: "+a.message)}function l(a,b,d){var c=a[b][d];a=f.state.applications[b][d];c=c instanceof Object?JSON.stringify(c).substring(0,100):c;a=a instanceof Object?JSON.stringify(a).substring(0,100):a;return"model.state.applications."+b+
"."+d+" changed from "+c+" to "+a}function p(a,b,d){var c=a[b][d];a=f.state.players[b][d];c=c instanceof Object?JSON.stringify(c).substring(0,100):c;a=a instanceof Object?JSON.stringify(a).substring(0,100):a;return"model.state.players."+b+"."+d+" changed from "+c+" to "+a}function r(a,b){return!t(a,b)&&!!(null!==a&&void 0!==a||null!==b&&void 0!==b)}function t(a,b){if(a instanceof Function)return b instanceof Function?a.toString()===b.toString():!1;if(null===a||void 0===a||null===b||void 0===b)return a===
b;if(a===b||a.valueOf()===b.valueOf())return!0;if(a instanceof Date||b instanceof Date||!(a instanceof Object)||!(b instanceof Object))return!1;var d=Object.keys(a);return Object.keys(b).every(function(a){return-1!==d.indexOf(a)})?d.every(function(d){return t(a[d],b[d])}):!1}var b=this;f=f?f:new WebApp.Model;var a=new WebApp.EventEmitter({wildcard:!0}),d=new NAF.utils.Log,n;n=["model.channels","model.state.players","model.state.applications","model.state.system"];d.enable();0===NAF.conf.debug?d.setLevel.error():
1===NAF.conf.debug?d.setLevel.warn():2===NAF.conf.debug?d.setLevel.debug():3===NAF.conf.debug?d.setLevel.trace():4===NAF.conf.debug?d.setLevel.info():d.disable();this.loadCallbacks={};this.onCallbacks={};this.onCallbacksReverseMap={};this.callbackCounter=0;this.backwardCompatibilityMode=!1;NAF.conf.bkwdCompatibleNotifications&&(this.backwardCompatibilityMode=!0);this.on=function(d,c){if(b.backwardCompatibilityMode||"model.initialized"===d||"model.state.key"===d)a.on(d,c);else{var g="on-callback-"+
b.callbackCounter++;b.onCallbacks[g]=c;b.onCallbacksReverseMap[c]=g;e("on",[d,g])}};this.off=function(d,c){if(b.backwardCompatibilityMode||"model.initialized"===d||"model.state.key"===d)a.off(d,c);else{var g=b.onCallbacksReverseMap[c],l=[d,g];delete b.onCallbacks[g];delete b.onCallbacksReverseMap[c];e("off",l)}};this.init=function(){e("init",n,k)};this["do"]=function(a,c){if(a.match(/^model\.state\.applications\.\d+\.appMsg$/)&&c instanceof Object)if(void 0==c.sourceId){var g;try{g=b.getApplicationIndex(),
c.sourceId=f.state.applications[g].id,d.debug("WebApp.Controller: supplying appMsg sourceId - "+c.sourceId+" for app #"+g)}catch(l){c.sourceId="unknown"}}else d.debug("WebApp.Controller: using webapp-supplied appMsg sourceId - "+c.sourceId);c instanceof Object&&(c.serializedObjectType=c.constructor.name,d.debug("WebApp.Controller: serializing object type of do() argument and embedding type name - "+c.constructor.name));e("do",[a,c])};this.load=function(a,d){var c="load-callback-"+b.callbackCounter++;
b.loadCallbacks[c]=d;e("load",[a,c])};this.registerPMRPC=function(){pmrpc.register({publicProcedureName:"update-model",procedure:function(a){try{d.trace("WebApp.Controller: pmrpc model update message received - "+a),f.initialized?b.UpdateModel(a):d.debug("WebApp.Controller: ignoring model update prior to completing initialization")}catch(c){d.error("WebApp.Controller: error thrown BY WEBAPP processing model update - "+c),c.stack&&d.error(c.stack)}}});pmrpc.register({publicProcedureName:"load-callback",
procedure:function(a){try{d.trace("WebApp.Controller: pmrpc load callback received - "+a),b.processLoadCallback(a)}catch(c){d.error("WebApp.Controller: error processing load callback - "+c),c.stack&&d.error(c.stack)}}});pmrpc.register({publicProcedureName:"on-callback",procedure:function(a){try{d.trace("WebApp.Controller: pmrpc 'on' callback received - "+a),b.processOnCallback(a)}catch(c){d.error("WebApp.Controller: error processing 'on' callback - "+c),c.stack&&d.error(c.stack)}}});pmrpc.register({publicProcedureName:"off-callback",
procedure:function(a){try{d.trace("WebApp.Controller: pmrpc 'off' callback received - "+a),b.processOffCallback(a)}catch(c){d.error("WebApp.Controller: error processing 'off' callback - "+c),c.stack&&d.error(c.stack)}}})};this.UpdateModel=function(a){if("key"===a[0])d.trace("WebApp.Controller: key input received - "+JSON.stringify(a[1])),f.state.key=a[1],h("model.state.key");else if("application"==a[0]){var c=f.state.applications[a[1]].inFocus;f.state.applications[a[1]].inFocus="true"==a[2];if(f.state.applications[a[1]].inFocus)if(c){for(var c=
f.state.applications,e=parseInt(a[1]),g=0;g<c.length;g++)g!==e&&(f.state.applications[g].inFocus=!1);d.trace("WebApp.Controller: focus set on app "+a[1]);b.backwardCompatibilityMode&&h("model.state.applications."+a[1])}else d.trace("WebApp.Controller: app "+a[1]+" already had focus");else d.trace("WebApp.Controller: focus unset on app "+a[1])}else if("channels"==a[0])d.trace("WebApp.Controller: channel array update received"),f.channels=a[1];else if("applications"==a[0]){if(d.trace("WebApp.Controller: application array update received"),
c=f.state.applications,f.state.applications=a[1],b.backwardCompatibilityMode&&0!=c.length)for(a=0;a<c.length;a++)if(r(c[a].state,f.state.applications[a].state)&&(d.trace("WebApp.Controller: "+l(c,a,"state")+", notifying view"),h("model.state.applications."+a+".state")),r(c[a].appMsg,f.state.applications[a].appMsg)&&(d.trace("WebApp.Controller: "+l(c,a,"appMsg")+", notifying view"),h("model.state.applications."+a+".appMsg")),void 0==c[a].media&&void 0!=f.state.applications[a].media){if(f.state.applications[a].media.assets&&
0<f.state.applications[a].media.assets.length)for(d.trace("WebApp.Controller: app media data was created"),e=0;e<f.state.applications[a].media.assets.length;e++)h("model.state.applications."+a+".media.assets."+e)}else void 0!=c[a].media&&void 0==f.state.applications[a].media?d.debug("WebApp.Controller: app media data was either deleted"):r(c[a].media.assets,f.state.applications[a].media.assets)&&f.state.applications[a].media.assets.length>c[a].media.assets.length&&(d.trace("WebApp.Controller: media asset list grew (from "+
c[a].media.assets.length+" to "+f.state.applications[a].media.assets.length+"), notifying view"),h("model.state.applications."+a+".media.assets."+(f.state.applications[a].media.assets.length-1)))}else if("players"==a[0]){if(d.trace("WebApp.Controller: player array update received"),c=f.state.players,f.state.players=a[1],b.backwardCompatibilityMode&&0!=c.length)for(a=0;a<c.length;a++)r(c[a].currentProgram,f.state.players[a].currentProgram)&&(d.trace("WebApp.Controller: "+p(c,a,"currentProgram")+", notifying view"),
h("model.state.players."+a+".currentProgram")),r(c[a].isBlocked,f.state.players[a].isBlocked)&&(d.trace("WebApp.Controller: "+p(c,a,"isBlocked")+", notifying view"),h("model.state.players."+a+".isBlocked")),r(c[a].playRate,f.state.players[a].playRate)&&(d.trace("WebApp.Controller: "+p(c,a,"playRate")+", notifying view"),h("model.state.players."+a+".playRate")),r(c[a].source,f.state.players[a].source)&&(d.trace("WebApp.Controller: "+p(c,a,"source")+", notifying view"),h("model.state.players."+a+".source")),
r(c[a].status,f.state.players[a].status)&&(d.trace("WebApp.Controller: "+p(c,a,"status")+", notifying view"),h("model.state.players."+a+".status")),r(c[a].position,f.state.players[a].position)&&(d.trace("WebApp.Controller: "+p(c,a,"position")+", notifying view"),h("model.state.players."+a+".position")),r(c[a].availAudioLangs,f.state.players[a].availAudioLangs)&&(d.trace("WebApp.Controller: "+p(c,a,"availAudioLangs")+", notifying view"),h("model.state.players."+a+".availAudioLangs")),r(c[a].audioLang,
f.state.players[a].audioLang)&&(d.trace("WebApp.Controller: "+p(c,a,"audioLang")+", notifying view"),h("model.state.players."+a+".audioLang")),r(c[a].availSubtitleLangs,f.state.players[a].availSubtitleLangs)&&(d.trace("WebApp.Controller: "+p(c,a,"availSubtitleLangs")+", notifying view"),h("model.state.players."+a+".availSubtitleLangs")),r(c[a].subtitleLang,f.state.players[a].subtitleLang)?(d.trace("WebApp.Controller: "+p(c,a,"subtitleLang")+", notifying view"),h("model.state.players."+a+".subtitleLang")):
r(c[a].subtitleLang.enable,f.state.players[a].subtitleLang.enable)&&(d.trace("WebApp.Controller: model.state.players."+a+".subtitleLang.enable changed from "+c[a].subtitleLang.enable+" to "+f.state.players[a].subtitleLang.enable+", notifying view"),h("model.state.players."+a+".subtitleLang.enable")),r(c[a].teletextLang,f.state.players[a].teletextLang)&&(d.trace("WebApp.Controller: "+p(c,a,"teletextLang")+", notifying view"),h("model.state.players."+a+".teletextLang")),r(c[a].window,f.state.players[a].window)&&
(d.trace("WebApp.Controller: "+p(c,a,"window")+", notifying view"),h("model.state.players."+a+".window"))}else"channelTuned"==a[0]&&(d.trace("WebApp.Controller: channel tuned update received - player "+a[1]+", channel "+a[2]),c=a[1],void 0!=a[2]&&(f.state.players[c].source.idx=a[2],b.backwardCompatibilityMode&&h("model.state.players."+c+".source","model.state.players."+c+".source")))};this.processLoadCallback=function(a){var c=a[0];a=a[1];void 0===b.loadCallbacks[c]?d.error("WebApp.Controller: could not identify callback with key "+
c):(b.loadCallbacks[c].apply(b,[a]),delete b.loadCallbacks[c])};this.processOnCallback=function(a){var c=a[0],e=a[1];b.storeTransmittedModelData(e,a[2]);void 0===b.onCallbacks[c]?d.error("WebApp.Controller: could not identify 'on' callback with key "+c):(d.debug("WebApp.Controller: calling proxied listener for "+e),b.onCallbacks[c].apply(b,[e]))};this.storeTransmittedModelData=function(a,b){try{var c=a.replace(/(\.)([0-9]+)(\.)/g,"[$2].")+" = data;";eval(c)}catch(e){d.debug("WebApp.Controller: Cannot evaluate transmitted model data. "+
e)}};this.processOffCallback=function(a){var c=a[0];a=a[1];void 0===b.offCallbacks[c]?d.error("WebApp.Controller: could not identify 'off' callback with key "+c):(b.offCallbacks[c].apply(b,[a]),delete b.offCallbacks[c])};var g=null;this.getApplicationIndex=function(a){if(null!=g)return g;for(var b=0;b<f.state.applications.length;b++)if(window.name===f.state.applications[b].windowId)return g=b;if(void 0!=a)return a;d.error("WebApp.Controller: app index queried, but no app with window name "+window.name+
" currently stored in model");throw Error("no app with window name "+window.name+" currently stored in model");}};
!function(f,k){function h(c,e,l,f){if(!l)return[];var r=[],k,b,a,d;a=e.length;d=e[f];var n=e[f+1];if(f===a&&l._listeners){if("function"===typeof l._listeners)c&&c.push(l._listeners);else for(e=0,f=l._listeners.length;e<f;e++)c&&c.push(l._listeners[e]);return[l]}if("*"===d||"**"===d||l[d]){if("*"===d){for(k in l)"_listeners"!==k&&l.hasOwnProperty(k)&&(r=r.concat(h(c,e,l[k],f+1)));return r}if("**"===d){(d=f+1===a||f+2===a&&"*"===n)&&l._listeners&&(r=r.concat(h(c,e,l,a)));for(k in l)"_listeners"!==k&&
l.hasOwnProperty(k)&&("*"===k||"**"===k?(l[k]._listeners&&!d&&(r=r.concat(h(c,e,l[k],a))),r=r.concat(h(c,e,l[k],f))):r=k===n?r.concat(h(c,e,l[k],f+2)):r.concat(h(c,e,l[k],f)));return r}r=r.concat(h(c,e,l[d],f+1))}(b=l["*"])&&h(c,e,b,f+1);if(l=l["**"])if(f<a)for(k in l._listeners&&h(c,e,l,a),l)"_listeners"!==k&&l.hasOwnProperty(k)&&(k===n?h(c,e,l[k],f+2):k===d?h(c,e,l[k],f+1):(a={},a[k]=l[k],h(c,e,{"**":a},f+1)));else l._listeners?h(c,e,l,a):l["*"]&&l["*"]._listeners&&h(c,e,l["*"],a);return r}var e=
Array.isArray?Array.isArray:function(c){return"[object Array]"===Object.prototype.toString.call(c)};WebApp.EventEmitter=function(c){this._events={};c&&(c.delimiter&&(this.delimiter=c.delimiter),c.wildcard&&(this.wildcard=c.wildcard),this.wildcard&&(this.listenerTree={}))};WebApp.EventEmitter.prototype.delimiter=".";WebApp.EventEmitter.prototype.setMaxListeners=function(c){this._events||(this._events={});this._events.maxListeners=c};WebApp.EventEmitter.prototype.event="";WebApp.EventEmitter.prototype.once=
function(c,e){this.many(c,1,e);return this};WebApp.EventEmitter.prototype.many=function(c,e,f){function h(){0===--e&&k.off(c,h);f.apply(this,arguments)}var k=this;if("function"!==typeof f)throw Error("many only accepts instances of Function");h._origin=f;this.on(c,h);return k};WebApp.EventEmitter.prototype.emit=function(){this._events||(this._events={});var c=arguments[0];if("newListener"===c&&!this._events.newListener)return!1;if(this._all){for(var e=arguments.length,f=Array(e-1),p=1;p<e;p++)f[p-
1]=arguments[p];p=0;for(e=this._all.length;p<e;p++)this.event=c,this._all[p].apply(this,f)}if("error"===c&&!(this._all||this._events.error||this.wildcard&&this.listenerTree.error)){if(arguments[1]instanceof Error)throw arguments[1];throw Error("Uncaught, unspecified 'error' event.");}var k;this.wildcard?(k=[],e="string"===typeof c?c.split(this.delimiter):c.slice(),h.call(this,k,e,this.listenerTree,0)):k=this._events[c];if("function"===typeof k){this.event=c;if(1===arguments.length)k.call(this);else if(1<
arguments.length)switch(arguments.length){case 2:k.call(this,arguments[1]);break;case 3:k.call(this,arguments[1],arguments[2]);break;default:e=arguments.length;f=Array(e-1);for(p=1;p<e;p++)f[p-1]=arguments[p];k.apply(this,f)}return!0}if(k){e=arguments.length;f=Array(e-1);for(p=1;p<e;p++)f[p-1]=arguments[p];k=k.slice();p=0;for(e=k.length;p<e;p++)this.event=c,k[p].apply(this,f);return 0<k.length||this._all}return this._all};WebApp.EventEmitter.prototype.on=function(c,f){if("function"===typeof c)return this.onAny(c),
this;if("function"!==typeof f)throw Error("on only accepts instances of Function");this._events||(this._events={});this.emit("newListener",c,f);if(this.wildcard){a:{for(var l=c,l="string"===typeof l?l.split(this.delimiter):l.slice(),h=0,k=l.length;h+1<k;h++)if("**"===l[h]&&"**"===l[h+1])break a;h=this.listenerTree;for(k=l.shift();k;){h[k]||(h[k]={});h=h[k];if(0===l.length){h._listeners?"function"===typeof h._listeners?h._listeners=[h._listeners,f]:e(h._listeners)&&(h._listeners.push(f),h._listeners.warned||
(l=10,"undefined"!==typeof this._events.maxListeners&&(l=this._events.maxListeners),0<l&&h._listeners.length>l&&(h._listeners.warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",h._listeners.length),console.trace()))):h._listeners=f;break a}k=l.shift()}}return this}this._events[c]?"function"===typeof this._events[c]?this._events[c]=[this._events[c],f]:e(this._events[c])&&(this._events[c].push(f),
this._events[c].warned||(l=10,"undefined"!==typeof this._events.maxListeners&&(l=this._events.maxListeners),0<l&&this._events[c].length>l&&(this._events[c].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[c].length),console.trace()))):this._events[c]=f;return this};WebApp.EventEmitter.prototype.onAny=function(c){this._all||(this._all=[]);if("function"!==typeof c)throw Error("onAny only accepts instances of Function");
this._all.push(c);return this};WebApp.EventEmitter.prototype.addListener=WebApp.EventEmitter.prototype.on;WebApp.EventEmitter.prototype.off=function(c,f){if("function"!==typeof f)throw Error("removeListener only takes instances of Function");var l,k=[];if(this.wildcard)l="string"===typeof c?c.split(this.delimiter):c.slice(),k=h.call(this,null,l,this.listenerTree,0);else{if(!this._events[c])return this;l=this._events[c];k.push({_listeners:l})}for(var r=0;r<k.length;r++){var t=k[r];l=t._listeners;if(e(l)){for(var b=
-1,a=0,d=l.length;a<d;a++)if(l[a]===f||l[a].listener&&l[a].listener===f||l[a]._origin&&l[a]._origin===f){b=a;break}if(0>b)break;this.wildcard?t._listeners.splice(b,1):this._events[c].splice(b,1);0===l.length&&(this.wildcard?delete t._listeners:delete this._events[c])}else if(l===f||l.listener&&l.listener===f||l._origin&&l._origin===f)this.wildcard?delete t._listeners:delete this._events[c]}return this};WebApp.EventEmitter.prototype.offAny=function(c){var e=0,f=0,h;if(c&&this._all&&0<this._all.length)for(h=
this._all,e=0,f=h.length;e<f;e++){if(c===h[e]){h.splice(e,1);break}}else this._all=[];return this};WebApp.EventEmitter.prototype.removeListener=WebApp.EventEmitter.prototype.off;WebApp.EventEmitter.prototype.removeAllListeners=function(c){if(0===arguments.length)return this._events&&(this._events={}),this;if(this.wildcard)for(var e="string"===typeof c?c.split(this.delimiter):c.slice(),e=h.call(this,null,e,this.listenerTree,0),f=0;f<e.length;f++)e[f]._listeners=null;else{if(!this._events[c])return this;
this._events[c]=null}return this};WebApp.EventEmitter.prototype.listeners=function(c){if(this.wildcard){var f=[];c="string"===typeof c?c.split(this.delimiter):c.slice();h.call(this,f,c,this.listenerTree,0);return f}this._events||(this._events={});this._events[c]||(this._events[c]=[]);e(this._events[c])||(this._events[c]=[this._events[c]]);return this._events[c]};WebApp.EventEmitter.prototype.listenersAny=function(){return this._all?this._all:[]};"function"===typeof define&&define.amd?define(function(){return WebApp.EventEmitter}):
f.EventEmitter2=WebApp.EventEmitter}("undefined"!==typeof process&&"undefined"!==typeof process.title&&"undefined"!==typeof exports?exports:"undefined"!==typeof window?window:null);
WebApp.Model=function(){var f=function(e,c){this.code=e;this.type=c},k=function(){this.applications=[];this.key=null;this.players=[]},h=function(e,c,f){this.id=e;this.sourceId=c;this.method=f;this.message={}};this.State=k;this.Application=function(e,c,f,l,k,r,t,b,a,d,n,g){this.id=e;this.name=c;this.shortSynopsis=f;this.isAdult=l;this.isViewable=k;this.isEntitled=r;this.products=[];this.pictures=[];this.url=t;this.inFocus=b;this.windowId=a;this.viewState=d;this.state=n;this.type=g;this.appMsg=new h;
this.reservedKeys=[];this.appKeys=[];this.modelSets=[];this.media={assets:[]}};this.Player=function(e,c,h,l,k,r,t,b){this.currentChannel=this.source=e;this.playRate=c;this.position=h;this.window=l;this.zIndex=k;this.duration=r;this.status=null;this.availAudioLangs=[];this.availSubtitleLangs=[];this.audioLang=new f(t,b);this.subtitleLang=new f(t,b);this.teletextLang=new f(t,b);this.restricted=this.mapLoc=null;this.isBlocked=!1;this.nextProgram=this.currentProgram=null};this.channels=[];this.state=
new k;this.Channel=function(e,c,f,h,k,r,t,b){this.idx=e;this.id=c;this.locator=f;this.lcn=h;this.name=k;this.pictures=r;this.viewable=t;this.isFav=!1;this.plcn=0};this.keymap=new function(){this.VK_EXIT=3;this.VK_BACK_SPACE=8;this.VK_ENTER=this.VK_OK=13;this.VK_KEYBOARD=16;this.VK_ACCEPT=30;this.VK_SPACE=32;this.VK_PAGE_UP=33;this.VK_PAGE_DOWN=34;this.VK_HOME=36;this.VK_LEFT=37;this.VK_UP=38;this.VK_RIGHT=39;this.VK_DOWN=40;this.VK_0=48;this.VK_1=49;this.VK_2=50;this.VK_3=51;this.VK_4=52;this.VK_5=
53;this.VK_6=54;this.VK_7=55;this.VK_8=56;this.VK_9=57;this.VK_A=65;this.VK_B=66;this.VK_C=67;this.VK_D=68;this.VK_E=69;this.VK_F=70;this.VK_G=71;this.VK_H=72;this.VK_I=73;this.VK_J=74;this.VK_K=75;this.VK_L=76;this.VK_M=77;this.VK_N=78;this.VK_O=79;this.VK_P=80;this.VK_Q=81;this.VK_R=82;this.VK_S=83;this.VK_T=84;this.VK_U=85;this.VK_V=86;this.VK_W=87;this.VK_X=88;this.VK_Y=89;this.VK_Z=90;this.VK_RED=403;this.VK_GREEN=404;this.VK_BLUE=406;this.VK_YELLOW=405;this.VK_DELETE=127;this.VK_HELP=156;this.VK_POWER=
409;this.VK_CHANNEL_UP=427;this.VK_CHANNEL_DOWN=428;this.VK_VOLUME_UP=447;this.VK_VOLUME_DOWN=448;this.VK_MUTE=449;this.VK_INFO=457;this.VK_GUIDE=458;this.VK_BACK=461;this.VK_MENU=462;this.VK_PAUSE=19;this.VK_REW=412;this.VK_STOP=413;this.VK_PLAY=415;this.VK_REC=416;this.VK_FF=417;this.VK_REW_SKIP=424;this.VK_FWD_SKIP=425;this.VK_FAV=433;this.VK_TELETEXT=459;this.VK_SUBTITLE=460};this.MediaAsset=function(e,c,f,h,k,r,t,b,a,d,n,g,m){this.id=e;this.name=c;this.URL=f;this.picture=h;this.type=k;this.mimeType=
r;this.encoding=t;this.description=b;this.genre=a;this.date=d;this.size=n;this.duration=g;this.ageRating=m};this.AnnouncementEvent=function(e,c,f,h,k){this.type=e;this.time=c;this.message=f;this.imageURL=h;this.timeout=k};this.Announcement=function(e,c,f,h,k){this.event=e;this.id=c;this.name=f;this.image=h;this.url=k}};