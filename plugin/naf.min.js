var NAF=this.NAF={},WebApp=this.WebApp={};include("naf-webapp/1.0.8s4c2r87/naf-webapp.min.js");var model=new WebApp.Model,controller=new WebApp.Controller(model);controller.registerPMRPC();
controller.on("model.initialized",function(){var c=controller["do"];window.addEventListener("focus",function(){c("model.state.applications.1?state=running");apps[active]&&send(active,"onSelect",{id:apps[active].currentViewId})});controller.on("model.state.key",function(){var a=model.state.key,c=parseInt(a.keyCode,10),a=a.keyState.toLowerCase(),b=document.createEvent("Events"),d=document.activeElement||win;"repeat"===a&&(a="down");b.initEvent&&b.initEvent("key"+a,!0,!0);b.keyCode=b.which=c;d.dispatchEvent?
d.dispatchEvent(b):d.fireEvent&&d.fireEvent("onkey"+a,b)});c("model.state.applications.1?state=loaded")});controller.init();